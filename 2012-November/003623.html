<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [X2go-Commits] pyhoca-cli.git - master (branch) updated:	0.2.0.4-20-gee08a8e
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/x2go-commits/2012-November/index.html" >
   <LINK REL="made" HREF="mailto:x2go-commits%40lists.berlios.de?Subject=Re%3A%20%5BX2go-Commits%5D%20pyhoca-cli.git%20-%20master%20%28branch%29%20updated%3A%0A%090.2.0.4-20-gee08a8e&In-Reply-To=%3C20121112080707.25F025DB19%40ymir%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003622.html">
   <LINK REL="Next"  HREF="003624.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[X2go-Commits] pyhoca-cli.git - master (branch) updated:	0.2.0.4-20-gee08a8e</H1>
    <B>X2Go dev team</B> 
    <A HREF="mailto:x2go-commits%40lists.berlios.de?Subject=Re%3A%20%5BX2go-Commits%5D%20pyhoca-cli.git%20-%20master%20%28branch%29%20updated%3A%0A%090.2.0.4-20-gee08a8e&In-Reply-To=%3C20121112080707.25F025DB19%40ymir%3E"
       TITLE="[X2go-Commits] pyhoca-cli.git - master (branch) updated:	0.2.0.4-20-gee08a8e">git-admin at x2go.org
       </A><BR>
    <I>Mon Nov 12 09:07:07 CET 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="003622.html">[X2go-Commits] python-x2go.git - master (branch) updated:	0.2.0.10-63-ge5a1796
</A></li>
        <LI>Next message: <A HREF="003624.html">[X2go-Commits] x2goserver.git - master (branch) updated:	3.1.1.3-85-gf7a9006
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3623">[ date ]</a>
              <a href="thread.html#3623">[ thread ]</a>
              <a href="subject.html#3623">[ subject ]</a>
              <a href="author.html#3623">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>The branch, master has been updated
       via  ee08a8ebff88830fbe319be357b0ed15707c0865 (commit)
       via  0030b69eeb79b9d7b6aa34e8e0e1f2552a1bfeb6 (commit)
      from  63934b80f7207db2def899451b9f36f71ee02997 (commit)

Those revisions listed above that are new to this repository have
not appeared on any other notification email; so we list those
revisions in full, below.

- Log -----------------------------------------------------------------
commit ee08a8ebff88830fbe319be357b0ed15707c0865
Author: Mike Gabriel &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">mike.gabriel at das-netzwerkteam.de</A>&gt;
Date:   Mon Nov 12 09:06:14 2012 +0100

    Remove cmdline option --time-to-wait, Python X2Go now offers a progress status for session startup/resumption. So we query this status instead.

commit 0030b69eeb79b9d7b6aa34e8e0e1f2552a1bfeb6
Author: Mike Gabriel &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">mike.gabriel at das-netzwerkteam.de</A>&gt;
Date:   Mon Nov 12 08:59:05 2012 +0100

    Depend on python-x2go (&gt;= 0.2.0.1).

-----------------------------------------------------------------------

Summary of changes:
 debian/changelog       |    3 +++
 debian/control         |    2 +-
 man/man1/pyhoca-cli.1  |    3 ---
 pyhoca-cli             |    7 -------
 pyhoca/cli/frontend.py |    2 +-
 5 files changed, 5 insertions(+), 12 deletions(-)

The diff of changes is:
diff --git a/debian/changelog b/debian/changelog
index c59505e..8bb1896 100644
--- a/debian/changelog
+++ b/debian/changelog
@@ -6,9 +6,12 @@ pyhoca-cli (0.2.1.0-0~x2go1) UNRELEASED; urgency=low
     - The option ,,password'' is not allowed for session registration.
     - When finishing the application Update session status before reporting
       back to the user what happened to the session.
+    - Remove cmdline option --time-to-wait, Python X2Go now offers a progress
+      status for session startup/resumption. So we query this status instead.
   * /debian/control:
     + Maintainer change in package: X2Go Developers &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">x2go-dev at lists.berlios.de</A>&gt;.
     + Reduce python version in Build-Depends to allow build on Ubuntu 10.04.
+    + Depend on python-x2go (&gt;= 0.2.0.1).
   * /debian/rules:
     + Allow package build on systems with missing dh_python2.
   * /man/man1/pyhoca-cli.1:
diff --git a/debian/control b/debian/control
index 0d721d1..dfcb0f1 100644
--- a/debian/control
+++ b/debian/control
@@ -21,7 +21,7 @@ Architecture: all
 Depends: 
  ${misc:Depends},
  python,
- python-x2go (&gt;=0.2.0.2-0~),
+ python-x2go (&gt;=0.2.1.0-0~),
  python-argparse,
  python-setproctitle,
  python-support (&gt;=0.90)
diff --git a/man/man1/pyhoca-cli.1 b/man/man1/pyhoca-cli.1
index 46b0730..d88b486 100644
--- a/man/man1/pyhoca-cli.1
+++ b/man/man1/pyhoca-cli.1
@@ -140,9 +140,6 @@ Use X2Go printing (default: disabled).
 \*(T&lt;\fB\-\-share-mode\fR \fI{0|1}\fR\*(T&gt; 
 Share mode for X2Go desktop sharing (0: view-only, 1: full access).
 .TP
-\*(T&lt;\fB\-\-time-to-wait\fR\*(T&gt; 
-Time to wait for session startup/resume (default: 8s). There should be no need to touch this, unless on very slow network connections.
-.TP
 \*(T&lt;\fB\-\-auth-attempts\fR \fI{0,1,2,3,...}\fR\*(T&gt; 
 Number of interactive authentication attempts in case authentication with the server fails (wrong password?). A value that equals 0
 disables interactive authentication completely and requires that a private SSH key has been given on the command line or in the
diff --git a/pyhoca-cli b/pyhoca-cli
index 8eb9c2f..4e48dee 100755
--- a/pyhoca-cli
+++ b/pyhoca-cli
@@ -165,7 +165,6 @@ x2go_options =   [
                    {'args':['-F', '--share-local-folders'], 'metavar': '&lt;folder1&gt;[,&lt;folder2[,...]]', 'default': None, 'help': 'a comma separated list of local folder names to mount in the X2Go session', },
                    {'args':['--clean-sessions'], 'default': False, 'action': 'store_true', 'help': 'clean all suspended sessions before starting a new one', },
                    {'args':['--terminate-on-ctrl-c'], 'default': False, 'action': 'store_true', 'help': 'terminate the connected session when pressing CTRL+C (instead of suspending the session)', },
-                   {'args':['--time-to-wait'], 'default': '8', 'help': 'time to wait for session startup/resume (default: 8s)', },
                    {'args':['--auth-attempts'], 'default': 3, 'help': 'number of authentication attempts before authentication fails (default: 3)', },
                  ]
 print_options =  [ 
@@ -256,12 +255,6 @@ Possible values for the --pack NX option are:
     if a.username is None and not a.session_profile:
         a.username = current_user
 
-    # time-to-wait needs to be an integer
-    try:
-        a.time_to_wait = int(a.time_to_wait)
-    except ValueError:
-        runtime_error(&quot;--time_to_wait value needs to be an integer value&quot;, parser=p, exitcode=80)
-
     if not (a.session_profile or a.list_profiles):
 
         # the --server (or --session-profile) option is required for most operations
diff --git a/pyhoca/cli/frontend.py b/pyhoca/cli/frontend.py
index 63908e8..d1fc341 100644
--- a/pyhoca/cli/frontend.py
+++ b/pyhoca/cli/frontend.py
@@ -489,7 +489,7 @@ class PyHocaCLI(x2go.X2goClient):
                 self._pyhoca_logger(&quot;give the X2Go session some time to come up...&quot;, loglevel=x2go.loglevel_NOTICE, )
 
             i=0
-            while i &lt; self.args.time_to_wait:
+            while 0 &lt; self.get_session(self.x2go_session_hash).get_progress_status() &lt; 100:
                 time.sleep(1)
                 i+=1
 


hooks/post-receive
-- 
pyhoca-cli.git (Python X2Go Client (command line client))

This is an automated email from the git hooks/post-receive script. It was
generated because a ref change was pushed to the repository containing
the project &quot;pyhoca-cli.git&quot; (Python X2Go Client (command line client)).

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003622.html">[X2go-Commits] python-x2go.git - master (branch) updated:	0.2.0.10-63-ge5a1796
</A></li>
	<LI>Next message: <A HREF="003624.html">[X2go-Commits] x2goserver.git - master (branch) updated:	3.1.1.3-85-gf7a9006
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3623">[ date ]</a>
              <a href="thread.html#3623">[ thread ]</a>
              <a href="subject.html#3623">[ subject ]</a>
              <a href="author.html#3623">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/x2go-commits">More information about the X2go-commits
mailing list</a><br>
</body></html>
