<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [X2Go-Commits] x2gomatebindings.git - build-main (branch) updated:	a37b43eed649c8ad1efa3d818c8c487e83fce408
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/x2go-commits/2013-July/index.html" >
   <LINK REL="made" HREF="mailto:x2go-commits%40lists.berlios.de?Subject=Re%3A%20%5BX2Go-Commits%5D%20x2gomatebindings.git%20-%20build-main%20%28branch%29%20updated%3A%0A%09a37b43eed649c8ad1efa3d818c8c487e83fce408&In-Reply-To=%3C20130726163335.33D125DB17%40ymir%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009774.html">
   <LINK REL="Next"  HREF="009776.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[X2Go-Commits] x2gomatebindings.git - build-main (branch) updated:	a37b43eed649c8ad1efa3d818c8c487e83fce408</H1>
    <B>X2Go dev team</B> 
    <A HREF="mailto:x2go-commits%40lists.berlios.de?Subject=Re%3A%20%5BX2Go-Commits%5D%20x2gomatebindings.git%20-%20build-main%20%28branch%29%20updated%3A%0A%09a37b43eed649c8ad1efa3d818c8c487e83fce408&In-Reply-To=%3C20130726163335.33D125DB17%40ymir%3E"
       TITLE="[X2Go-Commits] x2gomatebindings.git - build-main (branch) updated:	a37b43eed649c8ad1efa3d818c8c487e83fce408">git-admin at x2go.org
       </A><BR>
    <I>Fri Jul 26 18:33:35 CEST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="009774.html">[X2Go-Commits] x2gomatebindings.git - build-main (branch) updated:	9e2853604775816189c4be5d15314608539bfb8e
</A></li>
        <LI>Next message: <A HREF="009776.html">[X2Go-Commits] x2gomatebindings.git - build-main (branch) updated:	b183ea694b44fe6577d8e84932ed67c301de47a9
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9775">[ date ]</a>
              <a href="thread.html#9775">[ thread ]</a>
              <a href="subject.html#9775">[ subject ]</a>
              <a href="author.html#9775">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>The branch, build-main has been updated
       via  a37b43eed649c8ad1efa3d818c8c487e83fce408 (commit)
      from  fbe08a140b91675624e8375c1679dffc58769bb0 (commit)

Those revisions listed above that are new to this repository have
not appeared on any other notification email; so we list those
revisions in full, below.

- Log -----------------------------------------------------------------
-----------------------------------------------------------------------

Summary of changes:
 {x2gonautilus =&gt; bin}/x2gonautilus          |    0
 debian/changelog                            |    4 +-
 debian/control                              |   25 +++++------
 debian/menu                                 |   13 ++++++
 debian/rules                                |   61 +++------------------------
 debian/x2gognomebindings.docs               |    1 +
 debian/x2gognomebindings.install            |   12 ++++--
 {updatemenu =&gt; sbin}/update-gnome-menu-x2go |    0
 updatemenu/gnome-settingsx2go.menu          |   19 ---------
 9 files changed, 44 insertions(+), 91 deletions(-)
 rename {x2gonautilus =&gt; bin}/x2gonautilus (100%)
 create mode 100644 debian/menu
 rename {updatemenu =&gt; sbin}/update-gnome-menu-x2go (100%)
 delete mode 100644 updatemenu/gnome-settingsx2go.menu

The diff of changes is:
diff --git a/x2gonautilus/x2gonautilus b/bin/x2gonautilus
similarity index 100%
rename from x2gonautilus/x2gonautilus
rename to bin/x2gonautilus
diff --git a/debian/changelog b/debian/changelog
index e5c4c2b..60b817a 100644
--- a/debian/changelog
+++ b/debian/changelog
@@ -5,6 +5,8 @@ x2gognomebindings (2.0.1.3-0~x2go1) UNRELEASED; urgency=low
     - Move x2gosuspend-session-gnome to /bin folder within package.
     - Add man apges for x2goumount-session-gnome, x2gosuspend-session-gnome.
   * Add gnome-menus as dependency.
+  * Now fully use debhelper for packaging. Reduced linitian issues nearly completely
+    (still open: old-format-menu-file /usr/share/menu/x2gognomebindings).
 
  -- Mike Gabriel &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">mike.gabriel at das-netzwerkteam.de</A>&gt;  Sat, 24 Sep 2011 03:06:58 +0200
 
@@ -22,7 +24,7 @@ x2gognomebindings (2.0.1.1-0~x2go1) unstable; urgency=low
 
 x2gognomebindings (2.0.1-1) unstable; urgency=low
 
-  * Initial release (Closes: #nnnn)  &lt;nnnn is the bug number of your ITP&gt;
+  * Initial release.
 
  -- Oleksandr Shneyder &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">oleksandr.shneyder at obviously-nice.de</A>&gt;  Wed, 27 Aug 2008 15:28:36 +0200
 
diff --git a/debian/control b/debian/control
index fe18286..51e8346 100644
--- a/debian/control
+++ b/debian/control
@@ -2,8 +2,10 @@ Source: x2gognomebindings
 Section: gnome
 Priority: extra
 Maintainer: Oleksandr Shneyder &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">oleksandr.shneyder at obviously-nice.de</A>&gt;
+Uploaders:
+ Mike Gabriel &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">mike.gabriel at das-netzwerkteam.de</A>&gt;
 Build-Depends:  autotools-dev,
- debhelper (&gt;= 7),
+ debhelper (&gt;= 7.0.50~),
  gnome-pkg-tools,
  intltool,
  libglade2-dev (&gt;= 2.4),
@@ -25,15 +27,14 @@ Depends: ${shlibs:Depends},
  x2goserver,
  zenity,
  gnome-menus
-Description: Description: x2gognomebindings (GNOME mimetypes for x2go)
- x2go is a serverbased computing environment with
- - session resuming
- - low bandwith support
- - LDAP support
- - client side mass storage mounting support
- - audio/arts support
- - authentification by smartcard and usb-stick
- - KDE control-center modules for administration
- - KDE based tools for just in time messaging and client surveillance
+Description: Description: x2gognomebindings (GNOME mimetypes for X2go)
+ X2go is a server based computing environment with
+    - session resuming
+    - low bandwith support
+    - LDAP support
+    - client side mass storage mounting support
+    - audio support
+    - authentication by smartcard and USB stick
  .
- x2gognomebindings contains mimetype information for x2go.
+ x2gognomebindings contains MIME type information for X2go if used with
+ GNOME desktops.
diff --git a/debian/menu b/debian/menu
new file mode 100644
index 0000000..0f7207c
--- /dev/null
+++ b/debian/menu
@@ -0,0 +1,13 @@
+&lt;!DOCTYPE Menu PUBLIC '-//freedesktop//DTD Menu 1.0//EN' '<A HREF="http://standards.freedesktop.org/menu-spec/menu-1.0.dtd">http://standards.freedesktop.org/menu-spec/menu-1.0.dtd</A>'&gt;
+&lt;Menu&gt;
+    &lt;Name&gt;Desktop&lt;/Name&gt;
+    &lt;Include&gt;
+            &lt;Filename&gt;x2gosuspend.desktop&lt;/Filename&gt;
+    &lt;/Include&gt;
+    &lt;Layout&gt;
+        &lt;Merge type=&quot;menus&quot;/&gt;
+        &lt;Separator/&gt;
+        &lt;Filename&gt;x2gosuspend.desktop&lt;/Filename&gt;
+        &lt;Merge type=&quot;files&quot;/&gt;
+    &lt;/Layout&gt;
+&lt;/Menu&gt;
diff --git a/debian/rules b/debian/rules
index 0940e81..3b1c9dc 100755
--- a/debian/rules
+++ b/debian/rules
@@ -1,59 +1,8 @@
 #!/usr/bin/make -f
 
-config.status: configure
-	dh_testdir
-	cp -v /usr/share/misc/config.sub config.sub
-	cp -v /usr/share/misc/config.guess config.guess
-	./configure $(CROSS) --prefix=/usr \
-		--mandir=\$${prefix}/share/man \
-		--infodir=\$${prefix}/share/info \
-		CFLAGS=&quot;$(CFLAGS)&quot; LDFLAGS=&quot;-Wl,-z,defs&quot;
+%:
+	dh $@
 
-build: build-stamp
-build-stamp:  config.status 
-	dh_testdir
-	$(MAKE)
-	touch $@
-
-clean: 
-	dh_testdir
-	dh_testroot
-	rm -f build-stamp 
-	-[ ! -f po/Makefile ] || $(MAKE) -C po distclean
-	[ ! -f Makefile ] || $(MAKE) distclean
-	dh_clean config.sub config.guess
-
-install: build
-	dh_testdir
-	dh_testroot
-	dh_clean -k 
-	dh_installdirs
-
-	$(MAKE) DESTDIR=$(CURDIR)/debian/x2gognomebindings install
-	$(MAKE) -C po DESTDIR=$(CURDIR)/debian/x2gognomebindings install
-	install x2gonautilus/x2gonautilus $(CURDIR)/debian/x2gognomebindings/usr/bin/
-	install updatemenu/update-gnome-menu-x2go $(CURDIR)/debian/x2gognomebindings/usr/sbin/
-	cp -ar share $(CURDIR)/debian/x2gognomebindings/usr/
-	cp updatemenu/gnome-settingsx2go.menu $(CURDIR)/debian/x2gognomebindings/etc/xdg/menus
-
-binary-indep: build install
-binary-arch: build install
-	dh_testdir
-	dh_testroot
-	dh_install
-	dh_installchangelogs ChangeLog
-	dh_installdocs
-	dh_installexamples
-	dh_installman
-	dh_link
-	dh_strip
-	dh_compress
-	dh_fixperms
-	dh_installdeb
-	dh_shlibdeps
-	dh_gencontrol
-	dh_md5sums
-	dh_builddeb
-
-binary: binary-indep binary-arch
-.PHONY: build clean binary-indep binary-arch binary install 
+override_dh_auto_install:
+	make -C po DESTDIR=../debian/x2gognomebindings install
+	dh_auto_install
diff --git a/debian/x2gognomebindings.docs b/debian/x2gognomebindings.docs
index 50bd824..bcb3587 100644
--- a/debian/x2gognomebindings.docs
+++ b/debian/x2gognomebindings.docs
@@ -1,2 +1,3 @@
 NEWS
 README
+debian/copyright
diff --git a/debian/x2gognomebindings.install b/debian/x2gognomebindings.install
index fb933aa..5b17624 100644
--- a/debian/x2gognomebindings.install
+++ b/debian/x2gognomebindings.install
@@ -1,3 +1,9 @@
-bin/x2gosuspend-session-gnome   usr/bin/
-bin/x2goumount-session-gnome    usr/bin/
-VERSION.x2gognomebindings       usr/share/x2go/versions/
+bin/x2gosuspend-session-gnome           usr/bin/
+bin/x2goumount-session-gnome            usr/bin/
+bin/x2gonautilus                        usr/bin/
+sbin/update-gnome-menu-x2go             usr/sbin/
+VERSION.x2gognomebindings               usr/share/x2go/versions/
+# Installed into DESTDIR by Makefile
+#extension/libnautilus-x2goumount.la     usr/lib/nautilus/extensions-2.0/
+#extension/libnautilus-x2goumount.so     usr/lib/nautilus/extensions-2.0/
+share/*                                 usr/share/
diff --git a/updatemenu/update-gnome-menu-x2go b/sbin/update-gnome-menu-x2go
similarity index 100%
rename from updatemenu/update-gnome-menu-x2go
rename to sbin/update-gnome-menu-x2go
diff --git a/updatemenu/gnome-settingsx2go.menu b/updatemenu/gnome-settingsx2go.menu
deleted file mode 100644
index 93923d2..0000000
--- a/updatemenu/gnome-settingsx2go.menu
+++ /dev/null
@@ -1,19 +0,0 @@
-&lt;!DOCTYPE Menu
-PUBLIC '-//freedesktop//DTD Menu 1.0//EN'
-'<A HREF="http://standards.freedesktop.org/menu-spec/menu-1.0.dtd">http://standards.freedesktop.org/menu-spec/menu-1.0.dtd</A>'&gt;
-&lt;Menu&gt;
-    &lt;Name&gt;Desktop&lt;/Name&gt;
-    &lt;Include&gt;
-            &lt;Filename&gt;x2gosuspend.desktop&lt;/Filename&gt;
-    &lt;/Include&gt;
-    &lt;Layout&gt;
-        &lt;Merge type=&quot;menus&quot;/&gt;
-        &lt;Separator/&gt;
-        &lt;Filename&gt;x2gosuspend.desktop&lt;/Filename&gt;
-        &lt;Merge type=&quot;files&quot;/&gt;
-    &lt;/Layout&gt;
-&lt;/Menu&gt;
-                                                                                                                        
-                                                                                                                        
-                                                                                                                        
-                                                                                                                        
\ No newline at end of file


hooks/post-receive
-- 
x2gomatebindings.git (x2gomatebindings upstream project)

This is an automated email from the git hooks/post-receive script. It was
generated because a ref change was pushed to the repository containing
the project &quot;x2gomatebindings.git&quot; (x2gomatebindings upstream project).

</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009774.html">[X2Go-Commits] x2gomatebindings.git - build-main (branch) updated:	9e2853604775816189c4be5d15314608539bfb8e
</A></li>
	<LI>Next message: <A HREF="009776.html">[X2Go-Commits] x2gomatebindings.git - build-main (branch) updated:	b183ea694b44fe6577d8e84932ed67c301de47a9
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9775">[ date ]</a>
              <a href="thread.html#9775">[ thread ]</a>
              <a href="subject.html#9775">[ subject ]</a>
              <a href="author.html#9775">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/x2go-commits">More information about the X2Go-commits
mailing list</a><br>
</body></html>
