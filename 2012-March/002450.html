<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [X2go-Commits] x2goserver.git - master (branch) updated:	3.1.0.1-5-g15a647a
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/x2go-commits/2012-March/index.html" >
   <LINK REL="made" HREF="mailto:x2go-commits%40lists.berlios.de?Subject=Re%3A%20%5BX2go-Commits%5D%20x2goserver.git%20-%20master%20%28branch%29%20updated%3A%0A%093.1.0.1-5-g15a647a&In-Reply-To=%3C20120308110434.DE7AA5DB35%40ymir%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002449.html">
   <LINK REL="Next"  HREF="002451.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[X2go-Commits] x2goserver.git - master (branch) updated:	3.1.0.1-5-g15a647a</H1>
    <B>X2Go dev team</B> 
    <A HREF="mailto:x2go-commits%40lists.berlios.de?Subject=Re%3A%20%5BX2go-Commits%5D%20x2goserver.git%20-%20master%20%28branch%29%20updated%3A%0A%093.1.0.1-5-g15a647a&In-Reply-To=%3C20120308110434.DE7AA5DB35%40ymir%3E"
       TITLE="[X2go-Commits] x2goserver.git - master (branch) updated:	3.1.0.1-5-g15a647a">git-admin at x2go.org
       </A><BR>
    <I>Thu Mar  8 12:04:34 CET 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="002449.html">[X2go-Commits] python-x2go.git - master (branch) updated:	0.1.1.4-124-gb9421ed
</A></li>
        <LI>Next message: <A HREF="002451.html">[X2go-Commits] x2gognomebindings.git - master (branch) updated:	2.0.1.4-2-g0bb5890
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2450">[ date ]</a>
              <a href="thread.html#2450">[ thread ]</a>
              <a href="subject.html#2450">[ subject ]</a>
              <a href="author.html#2450">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>The branch, master has been updated
       via  15a647adc8f64e964fd01a18369c2b5783c53157 (commit)
       via  26ffae24c0b9a5040781ff84705258a15e017417 (commit)
       via  a9973bc2ca40e0d4e8ff1cacc799844eaf6ea695 (commit)
       via  840c71310f06661b9d487aefe8d088a2d237c8d1 (commit)
      from  ca589f22db4536a8bff1f9f3b714fcff8caeb9c1 (commit)

Those revisions listed above that are new to this repository have
not appeared on any other notification email; so we list those
revisions in full, below.

- Log -----------------------------------------------------------------
commit 15a647adc8f64e964fd01a18369c2b5783c53157
Author: Mike Gabriel &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">mike.gabriel at das-netzwerkteam.de</A>&gt;
Date:   Thu Mar 8 12:04:30 2012 +0100

    Fix x2goserver extension calls in x2goruncommand.

commit 26ffae24c0b9a5040781ff84705258a15e017417
Author: Mike Gabriel &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">mike.gabriel at das-netzwerkteam.de</A>&gt;
Date:   Thu Mar 8 11:02:15 2012 +0100

    Fix syslog output of x2goserver-run-exentions.

commit a9973bc2ca40e0d4e8ff1cacc799844eaf6ea695
Author: Mike Gabriel &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">mike.gabriel at das-netzwerkteam.de</A>&gt;
Date:   Thu Mar 8 11:01:04 2012 +0100

    Add usage output to x2goserver-run-extensions.

commit 840c71310f06661b9d487aefe8d088a2d237c8d1
Author: Mike Gabriel &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">mike.gabriel at das-netzwerkteam.de</A>&gt;
Date:   Thu Mar 8 10:58:49 2012 +0100

    Syslog warnings have to be named ,,warning'' not ,,warn''.

-----------------------------------------------------------------------

Summary of changes:
 debian/changelog                                   |    6 +++++-
 .../bin/x2goserver-run-extensions                  |    6 ++++--
 x2goserver/bin/x2goruncommand                      |    6 +++---
 3 files changed, 12 insertions(+), 6 deletions(-)

The diff of changes is:
diff --git a/debian/changelog b/debian/changelog
index 3087bfb..fbf1141 100644
--- a/debian/changelog
+++ b/debian/changelog
@@ -1,6 +1,10 @@
 x2goserver (3.1.0.2-0~x2go1) UNRELEASED; urgency=low
 
-  * Continue development...
+  * New upstream version (3.1.0.2):
+    - Syslog warnings have to be named ,,warning'' not ,,warn''. 
+    - Add usage output to x2goserver-run-extensions.
+    - Fix syslog output of x2goserver-run-exentions.
+    - Fix x2goserver extension calls in x2goruncommand.
 
  -- Mike Gabriel &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">mike.gabriel at das-netzwerkteam.de</A>&gt;  Wed, 07 Mar 2012 21:08:33 +0100
 
diff --git a/x2goserver-extensions/bin/x2goserver-run-extensions b/x2goserver-extensions/bin/x2goserver-run-extensions
index c7b671c..70636f6 100755
--- a/x2goserver-extensions/bin/x2goserver-run-extensions
+++ b/x2goserver-extensions/bin/x2goserver-run-extensions
@@ -23,6 +23,8 @@
 
 set -e
 
+test -z $2 &amp;&amp; { echo &quot;usage: $(basename $0) &lt;X2GO_SESSION_ID&gt; &lt;MODALITY&gt;&quot;; exit -1; }
+
 X2GO_LIB_PATH=`echo -n \$(x2gobasepath)/lib/x2go`
 
 $X2GO_LIB_PATH/x2gosyslog &quot;$0&quot; &quot;info&quot; &quot;$(basename $0) called with options: $@&quot;
@@ -34,9 +36,9 @@ X2GO_MODALITY=&quot;$2&quot;
 find /usr/lib/x2go/extensions/${X2GO_MODALITY}.d/ -maxdepth 1 -mindepth 1 | egrep &quot;/[0-9]{3}_[[:alnum:]]+&quot; | sort | while read x2go_extension; do
 	$X2GO_LIB_PATH/x2gosyslog &quot;$0&quot; &quot;debug&quot; &quot;executing $x2go_extension with option $X2GO_SESSION&quot;
 	$x2go_extension &quot;$X2GO_SESSION&quot; &amp;&gt;/dev/null &amp;&amp; {
-		$X2GO_LIB_PATH/x2gosyslog &quot;$0&quot; &quot;info&quot; &quot;$x2go_extension$(basename $0) for session $X2GO_SESSION has finished sucessfully&quot;
+		$X2GO_LIB_PATH/x2gosyslog &quot;$0&quot; &quot;info&quot; &quot;$x2go_extension ($(basename $0)) for session $X2GO_SESSION has finished sucessfully&quot;
 	} || {
-		$X2GO_LIB_PATH/x2gosyslog &quot;$0&quot; &quot;warn&quot; &quot;$x2go_extension$(basename $0) for session $X2GO_SESSION returned a non-zero exit code, continuing...&quot;
+		$X2GO_LIB_PATH/x2gosyslog &quot;$0&quot; &quot;warning&quot; &quot;$x2go_extension ($(basename $0)) for session $X2GO_SESSION returned a non-zero exit code, continuing...&quot;
 	}
 done
 
diff --git a/x2goserver/bin/x2goruncommand b/x2goserver/bin/x2goruncommand
index fd9f82d..c73cb6a 100755
--- a/x2goserver/bin/x2goruncommand
+++ b/x2goserver/bin/x2goruncommand
@@ -123,7 +123,7 @@ then
 fi
 
 # run x2goserver-extensions for pre-runcommand
-x2gofeature X2GO_RUN_EXTENSIONS &amp;&gt;/dev/null &amp;&amp; x2goserver-run-extensions &quot;$SESSION_NAME&quot; pre-runcommand || true
+x2gofeature X2GO_RUN_EXTENSIONS &amp;&gt;/dev/null &amp;&amp; x2goserver-run-extensions &quot;$X2GO_SESSION&quot; pre-runcommand || true
 
 sucessful_run=false
 if [ &quot;$EXEC&quot; != &quot;&quot; ] &amp;&amp; [ -x $EXEC ]; then
@@ -148,14 +148,14 @@ if [ &quot;$EXEC&quot; != &quot;&quot; ] &amp;&amp; [ -x $EXEC ]; then
 	successful_run=true
 
 	# run x2goserver-extensions for post-runcommand
-	x2gofeature X2GO_RUN_EXTENSIONS &amp;&gt;/dev/null &amp;&amp; x2goserver-run-extensions &quot;$SESSION_NAME&quot; post-runcommand || true
+	x2gofeature X2GO_RUN_EXTENSIONS &amp;&gt;/dev/null &amp;&amp; x2goserver-run-extensions &quot;$X2GO_SESSION&quot; post-runcommand || true
 
 else
 	$X2GO_LIB_PATH/x2gosyslog &quot;$0&quot; &quot;err&quot; &quot;ERROR: command $EXEC failed to execute&quot;
 	echo &quot;X2GORUNCOMMAND ERR NOEXEC:$cmd&quot; &gt; &quot;$MESSAGE_FILE&quot;
 
 	# run x2goserver-extensions for fail-runcommand
-	x2gofeature X2GO_RUN_EXTENSIONS &amp;&gt;/dev/null &amp;&amp; x2goserver-run-extensions &quot;$SESSION_NAME&quot; fail-runcommand || true
+	x2gofeature X2GO_RUN_EXTENSIONS &amp;&gt;/dev/null &amp;&amp; x2goserver-run-extensions &quot;$X2GO_SESSION&quot; fail-runcommand || true
 
 fi
 


hooks/post-receive
-- 
x2goserver.git (X2Go Server)

This is an automated email from the git hooks/post-receive script. It was
generated because a ref change was pushed to the repository containing
the project &quot;x2goserver.git&quot; (X2Go Server).


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002449.html">[X2go-Commits] python-x2go.git - master (branch) updated:	0.1.1.4-124-gb9421ed
</A></li>
	<LI>Next message: <A HREF="002451.html">[X2go-Commits] x2gognomebindings.git - master (branch) updated:	2.0.1.4-2-g0bb5890
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2450">[ date ]</a>
              <a href="thread.html#2450">[ thread ]</a>
              <a href="subject.html#2450">[ subject ]</a>
              <a href="author.html#2450">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/x2go-commits">More information about the X2go-commits
mailing list</a><br>
</body></html>
