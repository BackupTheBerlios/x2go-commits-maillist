<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [X2Go-Commits] x2goserver.git - build-baikal (branch) updated:	3.1.1.3-35-g48bba82
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/x2go-commits/2014-January/index.html" >
   <LINK REL="made" HREF="mailto:x2go-commits%40lists.berlios.de?Subject=Re%3A%20%5BX2Go-Commits%5D%20x2goserver.git%20-%20build-baikal%20%28branch%29%20updated%3A%0A%093.1.1.3-35-g48bba82&In-Reply-To=%3C20140103195310.85CF05DB43%40ymir%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="019720.html">
   <LINK REL="Next"  HREF="019752.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[X2Go-Commits] x2goserver.git - build-baikal (branch) updated:	3.1.1.3-35-g48bba82</H1>
    <B>X2Go dev team</B> 
    <A HREF="mailto:x2go-commits%40lists.berlios.de?Subject=Re%3A%20%5BX2Go-Commits%5D%20x2goserver.git%20-%20build-baikal%20%28branch%29%20updated%3A%0A%093.1.1.3-35-g48bba82&In-Reply-To=%3C20140103195310.85CF05DB43%40ymir%3E"
       TITLE="[X2Go-Commits] x2goserver.git - build-baikal (branch) updated:	3.1.1.3-35-g48bba82">git-admin at x2go.org
       </A><BR>
    <I>Fri Jan  3 20:53:10 CET 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="019720.html">[X2Go-Commits] x2goserver.git - build-baikal (branch) updated:	3.1.1.3-38-g3cbeb32
</A></li>
        <LI>Next message: <A HREF="019752.html">[X2Go-Commits] x2goserver.git - build-baikal (branch) updated:	3.1.1.3-37-g8314a25
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19724">[ date ]</a>
              <a href="thread.html#19724">[ thread ]</a>
              <a href="subject.html#19724">[ subject ]</a>
              <a href="author.html#19724">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>The branch, build-baikal has been updated
       via  48bba822b03cf2bf8a50d9c1d89293d2506200c3 (commit)
      from  99e016052db1e271859147177688ea5ea8f0f27f (commit)

Those revisions listed above that are new to this repository have
not appeared on any other notification email; so we list those
revisions in full, below.

- Log -----------------------------------------------------------------
-----------------------------------------------------------------------

Summary of changes:
 INSTALL                                            |   26 ++++-----
 Makefile                                           |    9 +++-
 X2Go/Server/DB.pm                                  |   46 ++++++++--------
 debian/changelog                                   |    2 +
 debian/control                                     |    2 +-
 debian/libx2go-server-db-perl.install              |    4 +-
 ...gs.postinst =&gt; libx2go-server-db-perl.postinst} |   21 +++++---
 ...inting.postrm =&gt; libx2go-server-db-perl.postrm} |    8 +--
 debian/rules                                       |    1 -
 debian/x2goserver.install                          |    1 -
 debian/x2goserver.postinst                         |   19 +++----
 debian/x2goserver.postrm                           |    3 --
 libx2go-server-db-perl/Makefile                    |   56 ++++++++++++++++++++
 .../lib/libx2go-server-db-sqlite3-wrapper.pl       |    0
 .../src/libx2go-server-db-sqlite3-wrapper.c        |    4 +-
 x2goserver-compat/Makefile                         |   27 ++--------
 x2goserver-extensions/Makefile                     |    6 +--
 x2goserver-fmbindings/Makefile                     |    6 +--
 x2goserver-printing/Makefile                       |   26 ++-------
 x2goserver-pyhoca/Makefile                         |   48 +++--------------
 x2goserver-xsession/Makefile                       |   29 +++-------
 x2goserver/Makefile                                |   16 ++----
 22 files changed, 174 insertions(+), 186 deletions(-)
 copy debian/{x2goserver-fmbindings.postinst =&gt; libx2go-server-db-perl.postinst} (68%)
 copy debian/{x2goserver-printing.postrm =&gt; libx2go-server-db-perl.postrm} (78%)
 create mode 100755 libx2go-server-db-perl/Makefile
 rename x2goserver/lib/x2gosqlitewrapper.pl =&gt; libx2go-server-db-perl/lib/libx2go-server-db-sqlite3-wrapper.pl (100%)
 rename x2goserver/x2gosqlitewrapper.c =&gt; libx2go-server-db-perl/src/libx2go-server-db-sqlite3-wrapper.c (94%)

The diff of changes is:
diff --git a/INSTALL b/INSTALL
index 4bbf432..7a0d689 100644
--- a/INSTALL
+++ b/INSTALL
@@ -23,20 +23,21 @@ already:
 -----------------------------
 Extract tarball and run 
 
- $ make &amp;&amp; make install
+ $ make &amp;&amp; sudo make install
 
 in base folder of the extracted tarball. 
 
 
 3.) SGID GROUP
 --------------
-Configure ownership, permissions and setgid group bits of x2gosqlitewrapper and x2goprint:
+Configure ownership, permissions and setgid group bits of
+libx2go-server-db-sqlite3-wrapper and x2goprint:
 
   NOTE: The described actions have already been performed by the Makefile 
   run, leaving this here for documentation only.
 
- $ chown root:x2gouser /usr/lib/x2go/x2gosqlitewrapper
- $ chmod 2755 /usr/lib/x2go/x2gosqlitewrapper
+ $ chown root:x2gouser /usr/lib/x2go/libx2go-server-db-sqlite3-wrapper
+ $ chmod 2755 /usr/lib/x2go/libx2go-server-db-sqlite3-wrapper
 
  $ chown root:x2goprint /usr/bin/x2goprint
  $ chmod 2755 /usr/bin/x2goprint
@@ -67,23 +68,24 @@ members of the server-side ,,fuse'' group (see above).
 
 As X2Go printing setups can be rather versatile, details on X2Go printing are explained in 
 the project's wiki:
-<A HREF="http://wiki.x2go.org/installing_x2go_printing_debian_ubuntu">http://wiki.x2go.org/installing_x2go_printing_debian_ubuntu</A>
+<A HREF="http://www.x2go.org/doku.php/wiki:components:printing">http://www.x2go.org/doku.php/wiki:components:printing</A>
+<A HREF="http://www.x2go.org/doku.php/wiki:advanced:multi-node:x2goserver-printing">http://www.x2go.org/doku.php/wiki:advanced:multi-node:x2goserver-printing</A>
 
 
-7.) DATABASE SETUP (SQLite only)
---------------------------------
+7.) DATABASE SETUP (SQLite3 only)
+---------------------------------
 
  $ x2godbadmin --createdb
 
 
-7a.) DEFAULT: SQLite setup
---------------------------
+7a.) DEFAULT: SQLite3 setup
+---------------------------
 This variant is the default X2Go database setup. The X2Go database keeps track of
-running/suspended/finished X2Go sessions, mounted devices, etc. If you use SQLite
+running/suspended/finished X2Go sessions, mounted devices, etc. If you use SQLite3
 as DB backend, X2Go will run on one single server.
 
 For multi-X2goServer support use the PostgreSQL setup variant of X2Go server. All files
-should be present for this setup. If not, please report it as a bug.
+are already resent for this setup. If not, please report it as a bug.
 
 
 7b.) ALTERNATIVE: PostgreSQL setup
@@ -91,5 +93,5 @@ should be present for this setup. If not, please report it as a bug.
 This variant is for a setup of x2goserver that uses a PostgreSQL database backend...
 
 The exact installation of x2goserver with PostgreSQL support is described here:
-<A HREF="http://wiki.x2go.org/adding_x2go_server_postgresql_support">http://wiki.x2go.org/adding_x2go_server_postgresql_support</A>
+<A HREF="http://www.x2go.org/doku.php/wiki:advanced:multi-node:x2goserver-pgsql">http://www.x2go.org/doku.php/wiki:advanced:multi-node:x2goserver-pgsql</A>
 
diff --git a/Makefile b/Makefile
index df27aa0..41a508f 100755
--- a/Makefile
+++ b/Makefile
@@ -19,6 +19,7 @@ build: build-arch build-indep
 # make man2html build available from project's base folder...
 build_man2html:
 	$(MAKE) -C x2goserver $@
+	$(MAKE) -C libx2go-server-db-perl $@
 	$(MAKE) -C x2goserver-printing $@
 	$(MAKE) -C x2goserver-compat $@
 	$(MAKE) -C x2goserver-extensions $@
@@ -29,6 +30,7 @@ build_man2html:
 clean:
 	-$(MAKE) -f Makefile.perl clean
 	$(MAKE) -C x2goserver $@
+	$(MAKE) -C libx2go-server-db-perl $@
 	$(MAKE) -C x2goserver-printing $@
 	$(MAKE) -C x2goserver-compat $@
 	$(MAKE) -C x2goserver-extensions $@
@@ -39,6 +41,7 @@ clean:
 distclean:
 	-$(MAKE) -f Makefile.perl realclean
 	$(MAKE) -C x2goserver clean
+	$(MAKE) -C libx2go-server-db-perl clean
 	$(MAKE) -C x2goserver-printing clean
 	$(MAKE) -C x2goserver-compat clean
 	$(MAKE) -C x2goserver-extensions clean
@@ -48,6 +51,7 @@ distclean:
 
 build-arch:
 	$(MAKE) -C x2goserver $@
+	$(MAKE) -C libx2go-server-db-perl $@
 	$(MAKE) -C x2goserver-printing $@
 	$(MAKE) -C x2goserver-compat $@
 	$(MAKE) -C x2goserver-extensions $@
@@ -59,6 +63,7 @@ build-indep:
 	$(PERL) Makefile.PL INSTALLDIRS=$(PERL_INSTALLDIRS)
 	$(MAKE) -f Makefile.perl
 	$(MAKE) -C x2goserver $@
+	$(MAKE) -C libx2go-server-db-perl $@
 	$(MAKE) -C x2goserver-printing $@
 	$(MAKE) -C x2goserver-compat $@
 	$(MAKE) -C x2goserver-extensions $@
@@ -69,6 +74,7 @@ build-indep:
 install:
 	$(MAKE) -f Makefile.perl install
 	$(MAKE) -C x2goserver $@
+	$(MAKE) -C libx2go-server-db-perl $@
 	$(MAKE) -C x2goserver-printing $@
 	$(MAKE) -C x2goserver-compat $@
 	$(MAKE) -C x2goserver-extensions $@
@@ -77,13 +83,14 @@ install:
 	$(MAKE) -C x2goserver-pyhoca $@
 
 uninstall:
-	$(MAKE) -f Makefile.perl uninstall
 	$(MAKE) -C x2goserver-printing $@
 	$(MAKE) -C x2goserver-compat $@
 	$(MAKE) -C x2goserver-xsession $@
 	$(MAKE) -C x2goserver-fmbindings $@
 	$(MAKE) -C x2goserver-pyhoca $@
 	$(MAKE) -C x2goserver-extensions $@
+	$(MAKE) -f Makefile.perl uninstall
+	$(MAKE) -C libx2go-server-db-perl $@
 	$(MAKE) -C x2goserver $@
 	if test -d $(DESTDIR)$(LIBDIR); then $(RM_DIR) $(DESTDIR)$(LIBDIR); fi
 	if test -d $(DESTDIR)$(SHAREDIR)/x2gofeature.d; then $(RM_DIR) $(DESTDIR)$(SHAREDIR)/x2gofeature.d; fi
diff --git a/X2Go/Server/DB.pm b/X2Go/Server/DB.pm
index ea33b6a..42a3453 100644
--- a/X2Go/Server/DB.pm
+++ b/X2Go/Server/DB.pm
@@ -117,7 +117,7 @@ sub dbsys_rmsessionsroot
 	}
 	if($backend eq 'sqlite')
 	{
-		`$x2go_lib_path/x2gosqlitewrapper rmsessionsroot $sid`;
+		`$x2go_lib_path/libx2go-server-db-sqlite3-wrapper rmsessionsroot $sid`;
 	}
 }
 
@@ -134,7 +134,7 @@ sub dbsys_deletemounts
         }
         if ($backend eq 'sqlite')
         {
-                `$x2go_lib_path/x2gosqlitewrapper deletemounts $sid`;
+                `$x2go_lib_path/libx2go-server-db-sqlite3-wrapper deletemounts $sid`;
         }
         syslog('debug', &quot;dbsys_deletemounts called, session ID: $sid&quot;);
 }
@@ -166,7 +166,7 @@ sub dbsys_listsessionsroot
 	}
 	if($backend eq 'sqlite')
 	{
-		return split(&quot;\n&quot;,`$x2go_lib_path/x2gosqlitewrapper listsessionsroot $server`);
+		return split(&quot;\n&quot;,`$x2go_lib_path/libx2go-server-db-sqlite3-wrapper listsessionsroot $server`);
 	}
 }
 
@@ -194,7 +194,7 @@ sub dbsys_listsessionsroot_all
 	}
 	if ($backend eq 'sqlite')
 	{
-		return split(&quot;\n&quot;,`$x2go_lib_path/x2gosqlitewrapper listsessionsroot_all`);
+		return split(&quot;\n&quot;,`$x2go_lib_path/libx2go-server-db-sqlite3-wrapper listsessionsroot_all`);
 	}
 }
 
@@ -220,7 +220,7 @@ sub dbsys_getmounts
 	}
 	if ($backend eq 'sqlite')
 	{
-		@mounts = split(&quot;\n&quot;,`$x2go_lib_path/x2gosqlitewrapper getmounts $sid`);
+		@mounts = split(&quot;\n&quot;,`$x2go_lib_path/libx2go-server-db-sqlite3-wrapper getmounts $sid`);
 	}
 	my $log_retval = join(&quot; &quot;, @mounts);
 	syslog('debug', &quot;dbsys_getmounts called, session ID: $sid; return value: $log_retval&quot;);
@@ -249,7 +249,7 @@ sub db_getmounts
 	}
 	if ($backend eq 'sqlite')
 	{
-		@mounts = split(&quot;\n&quot;,`$x2go_lib_path/x2gosqlitewrapper getmounts $sid`);
+		@mounts = split(&quot;\n&quot;,`$x2go_lib_path/libx2go-server-db-sqlite3-wrapper getmounts $sid`);
 	}
 	my $log_retval = join(&quot; &quot;, @mounts);
 	syslog('debug', &quot;db_getmounts called, session ID: $sid; return value: $log_retval&quot;);
@@ -270,7 +270,7 @@ sub db_deletemount
 	}
 	if ($backend eq 'sqlite')
 	{
-		`$x2go_lib_path/x2gosqlitewrapper deletemount $sid \&quot;$path\&quot;`;
+		`$x2go_lib_path/libx2go-server-db-sqlite3-wrapper deletemount $sid \&quot;$path\&quot;`;
 	}
 	syslog('debug', &quot;db_deletemount called, session ID: $sid, path: $path&quot;);
 }
@@ -295,7 +295,7 @@ sub db_insertmount
 	}
 	if ($backend eq 'sqlite')
 	{
-		if( `$x2go_lib_path/x2gosqlitewrapper insertmount $sid \&quot;$path\&quot; $client` eq &quot;ok&quot;)
+		if( `$x2go_lib_path/libx2go-server-db-sqlite3-wrapper insertmount $sid \&quot;$path\&quot; $client` eq &quot;ok&quot;)
 		{
 			$res_ok=1;
 		}
@@ -319,10 +319,10 @@ sub db_insertsession
 	}
 	if ($backend eq 'sqlite')
 	{
-		my $err=`$x2go_lib_path/x2gosqlitewrapper insertsession $display $server $sid`;
+		my $err=`$x2go_lib_path/libx2go-server-db-sqlite3-wrapper insertsession $display $server $sid`;
 		if ($err ne &quot;ok&quot;)
 		{
-			die &quot;$err: $x2go_lib_path/x2gosqlitewrapper insertsession $display $server $sid&quot;;
+			die &quot;$err: $x2go_lib_path/libx2go-server-db-sqlite3-wrapper insertsession $display $server $sid&quot;;
 		}
 	}
 	syslog('debug', &quot;db_insertsession called, session ID: $sid, server: $server, session ID: $sid&quot;);
@@ -349,7 +349,7 @@ sub db_createsession
 	}
 	if ($backend eq 'sqlite')
 	{
-		my $err= `$x2go_lib_path/x2gosqlitewrapper createsession $cookie $pid $client $gr_port $snd_port $fs_port $sid`;
+		my $err= `$x2go_lib_path/libx2go-server-db-sqlite3-wrapper createsession $cookie $pid $client $gr_port $snd_port $fs_port $sid`;
 		if ($err ne &quot;ok&quot;)
 		{
 			die $err;
@@ -373,7 +373,7 @@ sub db_insertport
 	}
 	if ($backend eq 'sqlite')
 	{
-		`$x2go_lib_path/x2gosqlitewrapper insertport $server $sid $sshport`;
+		`$x2go_lib_path/libx2go-server-db-sqlite3-wrapper insertport $server $sid $sshport`;
 	}
 	syslog('debug', &quot;db_insertport called, session ID: $sid, server: $server, SSH port: $sshport&quot;);
 }
@@ -393,7 +393,7 @@ sub db_rmport
 	}
 	if ($backend eq 'sqlite')
 	{
-		`$x2go_lib_path/x2gosqlitewrapper rmport $server $sid $sshport`;
+		`$x2go_lib_path/libx2go-server-db-sqlite3-wrapper rmport $server $sid $sshport`;
 	}
 	syslog('debug', &quot;db_rmport called, session ID: $sid, server: $server, SSH port: $sshport&quot;);
 }
@@ -416,7 +416,7 @@ sub db_resume
 	}
 	if ($backend eq 'sqlite')
 	{
-		`$x2go_lib_path/x2gosqlitewrapper resume $client $sid $gr_port $sound_port $fs_port`;
+		`$x2go_lib_path/libx2go-server-db-sqlite3-wrapper resume $client $sid $gr_port $sound_port $fs_port`;
 	}
 	syslog('debug', &quot;db_resume called, session ID: $sid, client: $client, gr_port: $gr_port, sound_port: $sound_port, fs_port: $fs_port&quot;);
 }
@@ -435,7 +435,7 @@ sub db_changestatus
 	}
 	if ($backend eq 'sqlite')
 	{
-		`$x2go_lib_path/x2gosqlitewrapper changestatus $status $sid`;
+		`$x2go_lib_path/libx2go-server-db-sqlite3-wrapper changestatus $status $sid`;
 	}
 	syslog('debug', &quot;db_changestatus called, session ID: $sid, new status: $status&quot;);
 }
@@ -459,7 +459,7 @@ sub db_getstatus
 	}
 	if ($backend eq 'sqlite')
 	{
-		$status=`$x2go_lib_path/x2gosqlitewrapper getstatus $sid`;
+		$status=`$x2go_lib_path/libx2go-server-db-sqlite3-wrapper getstatus $sid`;
 	}
 	syslog('debug', &quot;db_getstatus called, session ID: $sid, return value: $status&quot;);
 	return $status;
@@ -488,7 +488,7 @@ sub db_getdisplays
 	}
 	if ($backend eq 'sqlite')
 	{
-		@displays = split(&quot;\n&quot;,`$x2go_lib_path/x2gosqlitewrapper getdisplays $server`);
+		@displays = split(&quot;\n&quot;,`$x2go_lib_path/libx2go-server-db-sqlite3-wrapper getdisplays $server`);
 	}
 	my $log_retval = join(&quot; &quot;, @displays);
 	syslog('debug', &quot;db_getdisplays called, server: $server; return value: $log_retval&quot;);
@@ -518,7 +518,7 @@ sub db_getports
 	}
 	if ($backend eq 'sqlite')
 	{
-		@ports = split(&quot;\n&quot;,`$x2go_lib_path/x2gosqlitewrapper getports $server`);
+		@ports = split(&quot;\n&quot;,`$x2go_lib_path/libx2go-server-db-sqlite3-wrapper getports $server`);
 	}
 	my $log_retval = join(&quot; &quot;, @ports);
 	syslog('debug', &quot;db_getports called, server: $server; return value: $log_retval&quot;);
@@ -546,7 +546,7 @@ sub db_getservers
 	}
 	if ($backend eq 'sqlite')
 	{
-		@servers = split(&quot;\n&quot;,`$x2go_lib_path/x2gosqlitewrapper getservers`);
+		@servers = split(&quot;\n&quot;,`$x2go_lib_path/libx2go-server-db-sqlite3-wrapper getservers`);
 	}
 	my $log_retval = join(&quot; &quot;, @servers);
 	syslog('debug', &quot;db_getservers called, return value: $log_retval&quot;);
@@ -574,7 +574,7 @@ sub db_getagent
 	}
 	if($backend eq 'sqlite')
 	{
-		$agent=`$x2go_lib_path/x2gosqlitewrapper getagent $sid`;
+		$agent=`$x2go_lib_path/libx2go-server-db-sqlite3-wrapper getagent $sid`;
 	}
 	syslog('debug', &quot;db_getagent called, session ID: $sid; return value: $agent&quot;);
 	return $agent;
@@ -601,7 +601,7 @@ sub db_getdisplay
 	}
 	if ($backend eq 'sqlite')
 	{
-		$display=`$x2go_lib_path/x2gosqlitewrapper getdisplay $sid`;
+		$display=`$x2go_lib_path/libx2go-server-db-sqlite3-wrapper getdisplay $sid`;
 	}
 	syslog('debug', &quot;db_getdisplay called, session ID: $sid; return value: $display&quot;);
 	return $display;
@@ -633,7 +633,7 @@ sub db_listsessions
 	}
 	if ($backend eq 'sqlite')
 	{
-		return split(&quot;\n&quot;,`$x2go_lib_path/x2gosqlitewrapper listsessions $server`);
+		return split(&quot;\n&quot;,`$x2go_lib_path/libx2go-server-db-sqlite3-wrapper listsessions $server`);
 	}
 }
 
@@ -662,6 +662,6 @@ sub db_listsessions_all
 	}
 	if ($backend eq 'sqlite')
 	{
-		return split(&quot;\n&quot;,`$x2go_lib_path/x2gosqlitewrapper listsessions_all`);
+		return split(&quot;\n&quot;,`$x2go_lib_path/libx2go-server-db-sqlite3-wrapper listsessions_all`);
 	}
 }
diff --git a/debian/changelog b/debian/changelog
index e215b2f..de93abb 100644
--- a/debian/changelog
+++ b/debian/changelog
@@ -21,6 +21,8 @@ x2goserver (3.2.0.0-0~x2go1) UNRELEASED; urgency=low
     - Transform x2godbwrapper.pm into proper Perl module X2Go::Server::DB.
     - Transform x2gosqlitewrapper.pl into small wrapper script and move the
       SQLite3 into Perl package X2Go::Server::DB::SQLite3.
+    - Move x2gosqlitewrapper into package X2Go::Server::DB::SQLite3 Perl
+      package.
   * /debian/control:
     + Maintainer change in package: X2Go Developers &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">x2go-dev at lists.berlios.de</A>&gt;.
     + Depend on nx-libs (&gt;=3.5.0.15-0~) which has the Xrandr symlinks folder.
diff --git a/debian/control b/debian/control
index 8b04e77..1f47f49 100644
--- a/debian/control
+++ b/debian/control
@@ -36,6 +36,7 @@ Section: perl
 Depends:
  ${perl:Depends},
  ${misc:Depends},
+ ${shlibs:Depends},
  libx2go-server-perl (&gt;= ${source:Version}), libx2go-server-perl (&lt;&lt; ${source:Version}.1~),
 Description: Perl X2Go::Server:DB package
  X2Go is a server based computing environment with
@@ -68,7 +69,6 @@ Description: Perl X2Go::Log package
 Package: x2goserver
 Architecture: any
 Depends:
- ${shlibs:Depends},
  ${misc:Depends},
  libx2go-server-db-perl (&gt;= ${source:Version}), libx2go-server-db-perl (&lt;&lt; ${source:Version}.1~),
  libx2go-log-perl (&gt;= ${source:Version}), libx2go-log-perl (&lt;&lt; ${source:Version}.1~),
diff --git a/debian/libx2go-server-db-perl.install b/debian/libx2go-server-db-perl.install
index 90a73ea..ee0dde1 100644
--- a/debian/libx2go-server-db-perl.install
+++ b/debian/libx2go-server-db-perl.install
@@ -1,2 +1,4 @@
 usr/share/perl5/X2Go/Server/DB*
-usr/share/man/man3/X2Go::Server::DB.*
\ No newline at end of file
+usr/share/man/man3/X2Go::Server::DB.*
+libx2go-server-db-perl/lib/libx2go-server-db-sqlite3-wrapper /usr/lib/x2go/
+libx2go-server-db-perl/lib/libx2go-server-db-sqlite3-wrapper.pl /usr/lib/x2go/
\ No newline at end of file
diff --git a/debian/x2goserver-fmbindings.postinst b/debian/libx2go-server-db-perl.postinst
similarity index 68%
copy from debian/x2goserver-fmbindings.postinst
copy to debian/libx2go-server-db-perl.postinst
index b64235f..b8a43f3 100755
--- a/debian/x2goserver-fmbindings.postinst
+++ b/debian/libx2go-server-db-perl.postinst
@@ -1,10 +1,13 @@
 #!/bin/sh
-# postinst script for x2goserver-fmbindings
+# postinst script for libx2go-server-db-perl
 #
 # see: dh_installdeb(1)
 
 set -e
 
+# Source debconf library.
+. /usr/share/debconf/confmodule
+
 # summary of how this script can be called:
 #        * &lt;postinst&gt; `configure' &lt;most-recently-configured-version&gt;
 #        * &lt;old-postinst&gt; `abort-upgrade' &lt;new version&gt;
@@ -20,17 +23,21 @@ set -e
 
 case &quot;$1&quot; in
 	configure)
-		update-desktop-database
-		update-mime-database /usr/share/mime
-	;;
+
+		# the SQLite3 X2Go session db has to be accessed as uid x2gouser
+		if ! dpkg-statoverride --list /usr/lib/x2go/libx2go-server-db-sqlite3-wrapper &gt;/dev/null; then
+		    dpkg-statoverride --add --update root x2gouser 2755 /usr/lib/x2go/libx2go-server-db-sqlite3-wrapper
+		fi
+
+		;;
 
 	abort-upgrade|abort-remove|abort-deconfigure)
-	;;
+		;;
 
 	*)
 		echo &quot;postinst called with unknown argument \`$1'&quot; &gt;&amp;2
 		exit 1
-	;;
+		;;
 esac
 
 # dh_installdeb will replace this with shell code automatically
@@ -39,3 +46,5 @@ esac
 #DEBHELPER#
 
 exit 0
+
+
diff --git a/debian/x2goserver-printing.postrm b/debian/libx2go-server-db-perl.postrm
similarity index 78%
copy from debian/x2goserver-printing.postrm
copy to debian/libx2go-server-db-perl.postrm
index 16b0f1e..2071de4 100755
--- a/debian/x2goserver-printing.postrm
+++ b/debian/libx2go-server-db-perl.postrm
@@ -1,5 +1,5 @@
 #! /bin/sh
-# postrm script for x2goserver-printing
+# postrm script for libx2go-server-db-perl
 #
 # see: dh_installdeb(1)
 # summary of how this script can be called:
@@ -18,8 +18,10 @@ set -e
 
 case &quot;$1&quot; in
 	purge)
-		getent passwd x2goprint &gt;/dev/null &amp;&amp; deluser x2goprint
-		getent group x2goprint &gt;/dev/null &amp;&amp; delgroup x2goprint
+		if dpkg-statoverride --list /usr/lib/x2go/libx2go-server-db-sqlite3-wrapper &gt;/dev/null; then
+			dpkg-statoverride --remove /usr/lib/x2go/libx2go-server-db-sqlite3-wrapper
+		fi
+
 		;;
 	remove|upgrade|failed-upgrade|abort-install|abort-upgrade|disappear)
 		;;
diff --git a/debian/rules b/debian/rules
index 959a9e0..43139c0 100755
--- a/debian/rules
+++ b/debian/rules
@@ -11,7 +11,6 @@ override_dh_auto_install:
 	PREFIX=/usr dh_auto_install
 
 override_dh_auto_clean:
-	rm -fv x2gosqlitewrapper
 	rm -Rfv x2goserver/.build_html
 	rm -Rfv x2goserver-extensions/.build_html
 	dh_auto_clean
diff --git a/debian/x2goserver.install b/debian/x2goserver.install
index 4ed8986..879a538 100644
--- a/debian/x2goserver.install
+++ b/debian/x2goserver.install
@@ -3,5 +3,4 @@ x2goserver/sbin/x2go*                   /usr/sbin/
 x2goserver/lib/x2go*                    /usr/lib/x2go/
 x2goserver/etc/*                        /etc/x2go/
 x2goserver/VERSION.x2goserver           /usr/share/x2go/versions/
-x2goserver/x2gosqlitewrapper            /usr/lib/x2go/
 x2goserver/share/x2gofeature.d          /usr/share/x2go/
diff --git a/debian/x2goserver.postinst b/debian/x2goserver.postinst
index 2837629..e8efa5c 100755
--- a/debian/x2goserver.postinst
+++ b/debian/x2goserver.postinst
@@ -78,24 +78,25 @@ case &quot;$1&quot; in
 
 		### setgid section for x2gouser (SQLite DB access)
 
-		# we may be upgrading versions of x2goserver that had
-		# /usr/lib/x2go/x2gosqlitewrapper.pl set to setuid x2gouser.
+		# we may be upgrading from versions of x2goserver that had
+		# /usr/lib/x2go/x2gosqlitewrapper.pl set to setuid x2gouser. This script is
+		# not at that location anymore, we clear the dpkg-statoverride entry.
 		if dpkg-statoverride --list /usr/lib/x2go/x2gosqlitewrapper.pl &gt;/dev/null; then
 			dpkg-statoverride --remove /usr/lib/x2go/x2gosqlitewrapper.pl
-			chown root:root /usr/lib/x2go/x2gosqlitewrapper.pl
-			chmod 0755 /usr/lib/x2go/x2gosqlitewrapper.pl
 		fi
 
-		# we may be upgrading versions of x2goserver that had
-		# /usr/bin/x2gosqlitewrapper set to setuid or setgid x2gouser, the script itself is
+		# we may be upgrading from versions of x2goserver that had
+		# /usr/bin/x2gosqlitewrapper set to setuid or setgid x2gouser, the script itself is not
 		# at this location anymore, we just clear the dpkg-statoverride config entry.
 		if dpkg-statoverride --list /usr/bin/x2gosqlitewrapper &gt;/dev/null; then
 			dpkg-statoverride --remove /usr/bin/x2gosqlitewrapper
 		fi
 
-		# the sqlite db has to be accessed as uid x2gouser
-		if ! dpkg-statoverride --list /usr/lib/x2go/x2gosqlitewrapper &gt;/dev/null; then
-		    dpkg-statoverride --add --update root x2gouser 2755 /usr/lib/x2go/x2gosqlitewrapper
+		# we may be upgrading from versions of x2goserver that had
+		# /usr/lib/x2go/x2gosqlitewrapper set to setgid x2gouser, the script itself is not
+		# at this location anymore, we just clear the dpkg-statoverride config entry.
+		if dpkg-statoverride --list /usr/lib/x2go/x2gosqlitewrapper &gt;/dev/null; then
+		    dpkg-statoverride --remove /usr/lib/x2go/x2gosqlitewrapper
 		fi
 
 		# create /etc/x2go/applications symlink if not already there (as link or as dir)
diff --git a/debian/x2goserver.postrm b/debian/x2goserver.postrm
index 2d965cc..8d5f624 100755
--- a/debian/x2goserver.postrm
+++ b/debian/x2goserver.postrm
@@ -18,9 +18,6 @@ set -e
 
 case &quot;$1&quot; in
 	purge)
-		if dpkg-statoverride --list /usr/lib/x2go/x2gosqlitewrapper &gt;/dev/null; then
-			dpkg-statoverride --remove /usr/lib/x2go/x2gosqlitewrapper
-		fi
 		echo &quot;Removing x2go session database&quot; &gt;&amp;2
 		rm -vf /var/lib/x2go/x2go_sessions
 		rm -vf /etc/x2go/x2gosql/passwords/pgadmin
diff --git a/libx2go-server-db-perl/Makefile b/libx2go-server-db-perl/Makefile
new file mode 100755
index 0000000..0b29ba1
--- /dev/null
+++ b/libx2go-server-db-perl/Makefile
@@ -0,0 +1,56 @@
+#!/usr/bin/make -f
+
+SRC_DIR=$(CURDIR)
+SHELL=/bin/bash
+
+INSTALL_DIR=install -d -o root -g root -m 755
+INSTALL_FILE=install -o root -g root -m 644
+INSTALL_PROGRAM=install -o root -g root -m 755
+
+RM_FILE=rm -f
+RM_DIR=rmdir -p --ignore-fail-on-non-empty
+
+DESTDIR=
+PREFIX ?= /usr/local
+ETCDIR=/etc/x2go
+BINDIR=$(PREFIX)/bin
+SBINDIR=$(PREFIX)/sbin
+LIBDIR=$(PREFIX)/lib/x2go
+MANDIR=$(PREFIX)/share/man
+SHAREDIR=$(PREFIX)/share/x2go
+
+#BIN_SCRIPTS=$(shell cd bin &amp;&amp; echo *)
+#SBIN_SCRIPTS=$(shell cd sbin &amp;&amp; echo *)
+LIB_FILES=libx2go-server-db-sqlite3-wrapper libx2go-server-db-sqlite3-wrapper.pl
+#FEATURE_SCRIPTS=$(shell cd share/x2gofeature.d &amp;&amp; echo *.features)
+
+#man_pages = `cd man &amp;&amp; find * -type f`
+
+#MAN2HTML_BIN  = man2html
+#MAN2HTML_SRC  = man
+#MAN2HTML_DEST = .build_man2html/html
+
+all: clean build
+
+build: build-arch build-indep
+
+build-arch:
+	gcc -fPIE -pie -o lib/libx2go-server-db-sqlite3-wrapper src/libx2go-server-db-sqlite3-wrapper.c
+
+build-indep:
+
+clean: clean-arch clean-indep
+
+clean-arch:
+	rm -f lib/libx2go-server-db-sqlite3-wrapper
+
+clean-indep:
+
+install:
+	$(INSTALL_DIR) $(DESTDIR)$(LIBDIR)
+	$(INSTALL_PROGRAM) lib/*                   $(DESTDIR)$(LIBDIR)/
+	getent group x2gouser &amp;&gt;/dev/null &amp;&amp; chown root:x2gouser $(DESTDIR)$(LIBDIR)/libx2go-server-db-sqlite3-wrapper || true
+	chmod 2755 $(DESTDIR)$(LIBDIR)/libx2go-server-db-sqlite3-wrapper
+
+uninstall:
+	for file in $(LIB_FILES); do $(RM_FILE) $(DESTDIR)$(LIBDIR)/$$file; done
diff --git a/x2goserver/lib/x2gosqlitewrapper.pl b/libx2go-server-db-perl/lib/libx2go-server-db-sqlite3-wrapper.pl
similarity index 100%
rename from x2goserver/lib/x2gosqlitewrapper.pl
rename to libx2go-server-db-perl/lib/libx2go-server-db-sqlite3-wrapper.pl
diff --git a/x2goserver/x2gosqlitewrapper.c b/libx2go-server-db-perl/src/libx2go-server-db-sqlite3-wrapper.c
similarity index 94%
rename from x2goserver/x2gosqlitewrapper.c
rename to libx2go-server-db-perl/src/libx2go-server-db-sqlite3-wrapper.c
index a134efc..c70174f 100644
--- a/x2goserver/x2gosqlitewrapper.c
+++ b/libx2go-server-db-perl/src/libx2go-server-db-sqlite3-wrapper.c
@@ -59,8 +59,8 @@ int main( int argc, char *argv[] ) {
 			exit(EXIT_FAILURE);
 		}
 
-		// derive the full path of x2gosqlitewrapper.pl from path of this binary
-		rvap = asprintf(&amp;x2gosqlitewrapper, &quot;%s/%s&quot;, dirname(buffer), &quot;x2gosqlitewrapper.pl&quot;);
+		// derive the full path of libx2go-server-db-sqlite3-wrapper.pl from path of this binary
+		rvap = asprintf(&amp;x2gosqlitewrapper, &quot;%s/%s&quot;, dirname(buffer), &quot;libx2go-server-db-sqlite3-wrapper.pl&quot;);
 		if(rvap == -1){
 			fprintf(stderr, &quot;Failed to allocate memory calling asprintf\n&quot;);
 			exit(EXIT_FAILURE);
diff --git a/x2goserver-compat/Makefile b/x2goserver-compat/Makefile
index 72619cd..3775dae 100755
--- a/x2goserver-compat/Makefile
+++ b/x2goserver-compat/Makefile
@@ -14,8 +14,8 @@ DESTDIR=
 PREFIX ?= /usr/local
 ETCDIR=/etc/x2go
 BINDIR=$(PREFIX)/bin
-#SBINDIR=$(PREFIX)/sbin
-#LIBDIR=$(PREFIX)/lib/x2go
+SBINDIR=$(PREFIX)/sbin
+LIBDIR=$(PREFIX)/lib/x2go
 MANDIR=$(PREFIX)/share/man
 SHAREDIR=$(PREFIX)/share/x2go
 
@@ -32,12 +32,12 @@ MAN2HTML_DEST = .build_man2html/html
 
 all: clean build
 
-build: build-indep
-
-build-indep: build_man2html
+build: build-arch build-indep
 
 build-arch:
 
+build-indep: build_man2html
+
 build_man2html:
 	mkdir -p $(MAN2HTML_DEST)
 	for man_page in $(man_pages); do mkdir -p `dirname $(MAN2HTML_DEST)/$$man_page`; done
@@ -52,20 +52,11 @@ install: install_scripts install_config install_man install_version
 
 install_scripts:
 	$(INSTALL_DIR) $(DESTDIR)$(BINDIR)
-#	$(INSTALL_DIR) $(DESTDIR)$(SBINDIR)
-#	$(INSTALL_DIR) $(DESTDIR)$(LIBDIR)
 	$(INSTALL_DIR) $(DESTDIR)$(SHAREDIR)
 	$(INSTALL_PROGRAM) bin/*                $(DESTDIR)$(BINDIR)/
-#	$(INSTALL_PROGRAM) sbin/*               $(DESTDIR)$(SBINDIR)/
-#	$(INSTALL_FILE) lib/*                   $(DESTDIR)$(LIBDIR)/
 	$(INSTALL_PROGRAM) share/x2gofeature.d/*.features $(DESTDIR)$(SHAREDIR)/x2gofeature.d/
 
 install_config:
-#	$(INSTALL_DIR) $(DESTDIR)$(ETCDIR)
-#	$(INSTALL_DIR) $(DESTDIR)$(ETCDIR)/x2gosql
-#	$(INSTALL_DIR) $(DESTDIR)$(ETCDIR)/x2gosql/passwords
-#	$(INSTALL_FILE) etc/x2goserver.conf     $(DESTDIR)$(ETCDIR)/
-#	$(INSTALL_FILE) etc/x2gosql/sql         $(DESTDIR)$(ETCDIR)/x2gosql
 
 install_man:
 	$(INSTALL_DIR) $(DESTDIR)$(MANDIR)
@@ -83,16 +74,8 @@ uninstall: uninstall_scripts uninstall_config uninstall_man uninstall_version
 uninstall_scripts:
 	for file in $(BIN_SCRIPTS); do $(RM_FILE) $(DESTDIR)$(BINDIR)/$$file; done
 	for file in $(FEATURE_SCRIPTS); do $(RM_FILE) $(DESTDIR)$(SHAREDIR)/x2gofeature.d/$$file; done
-#	for file in $(SBIN_SCRIPTS); do $(RM_FILE) $(DESTDIR)$(SBINDIR)/$$file; done
-#	for file in $(LIB_FILES); do $(RM_FILE) $(DESTDIR)$(LIBDIR)/$$file; done
-#	$(RM_DIR) $(DESTDIR)$(LIBDIR) || true
 
 uninstall_config:
-#	$(RM_FILE) $(DESTDIR)$(ETCDIR)/x2goserver.conf
-#	$(RM_FILE) $(DESTDIR)$(ETCDIR)/x2gosql/sql
-#	$(RM_DIR)  $(DESTDIR)$(ETCDIR) || true
-#	$(RM_DIR)  $(DESTDIR)$(ETCDIR)/x2gosql/passwords || true
-#	$(RM_DIR)  $(DESTDIR)$(ETCDIR)/x2gosql || true
 
 uninstall_man:
 	for file in $(BIN_SCRIPTS); do $(RM_FILE) $(DESTDIR)$(MANDIR)/man8/$$file.8.gz; done
diff --git a/x2goserver-extensions/Makefile b/x2goserver-extensions/Makefile
index ae9eae2..41f6487 100755
--- a/x2goserver-extensions/Makefile
+++ b/x2goserver-extensions/Makefile
@@ -32,12 +32,12 @@ MAN2HTML_DEST = .build_man2html/html
 
 all: clean build
 
-build: build-indep
-
-build-indep: build_man2html
+build: build-arch build-indep
 
 build-arch:
 
+build-indep: build_man2html
+
 build_man2html:
 	mkdir -p $(MAN2HTML_DEST)
 	for man_page in $(man_pages); do mkdir -p `dirname $(MAN2HTML_DEST)/$$man_page`; done
diff --git a/x2goserver-fmbindings/Makefile b/x2goserver-fmbindings/Makefile
index 4d68485..c90179a 100755
--- a/x2goserver-fmbindings/Makefile
+++ b/x2goserver-fmbindings/Makefile
@@ -32,12 +32,12 @@ MAN2HTML_DEST = .build_man2html/html
 
 all: clean build
 
-build: build-indep
-
-build-indep: build_man2html
+build: build-arch build-indep
 
 build-arch:
 
+build-indep: build_man2html
+
 build_man2html:
 	mkdir -p $(MAN2HTML_DEST)
 	for man_page in $(man_pages); do mkdir -p `dirname $(MAN2HTML_DEST)/$$man_page`; done
diff --git a/x2goserver-printing/Makefile b/x2goserver-printing/Makefile
index 0eb6842..3900717 100755
--- a/x2goserver-printing/Makefile
+++ b/x2goserver-printing/Makefile
@@ -14,8 +14,8 @@ DESTDIR=
 PREFIX ?= /usr/local
 ETCDIR=/etc/x2go
 BINDIR=$(PREFIX)/bin
-#SBINDIR=$(PREFIX)/sbin
-#LIBDIR=$(PREFIX)/lib/x2go
+SBINDIR=$(PREFIX)/sbin
+LIBDIR=$(PREFIX)/lib/x2go
 MANDIR=$(PREFIX)/share/man
 SHAREDIR=$(PREFIX)/share/x2go
 
@@ -32,12 +32,12 @@ MAN2HTML_DEST = .build_man2html/html
 
 all: clean build
 
-build: build-indep
-
-build-indep: build_man2html
+build: build-arch build-indep
 
 build-arch:
 
+build-indep: build_man2html
+
 build_man2html:
 	mkdir -p $(MAN2HTML_DEST)
 	for man_page in $(man_pages); do mkdir -p `dirname $(MAN2HTML_DEST)/$$man_page`; done
@@ -52,20 +52,11 @@ install: install_scripts install_config install_man install_version
 
 install_scripts:
 	$(INSTALL_DIR) $(DESTDIR)$(BINDIR)
-#	$(INSTALL_DIR) $(DESTDIR)$(SBINDIR)
-#	$(INSTALL_DIR) $(DESTDIR)$(LIBDIR)
 	$(INSTALL_DIR) $(DESTDIR)$(SHAREDIR)
 	$(INSTALL_PROGRAM) bin/*                $(DESTDIR)$(BINDIR)/
-#	$(INSTALL_PROGRAM) sbin/*               $(DESTDIR)$(SBINDIR)/
-#	$(INSTALL_FILE) lib/*                   $(DESTDIR)$(LIBDIR)/
 	$(INSTALL_PROGRAM) share/x2gofeature.d/*.features $(DESTDIR)$(SHAREDIR)/x2gofeature.d/
 
 install_config:
-#	$(INSTALL_DIR) $(DESTDIR)$(ETCDIR)
-#	$(INSTALL_DIR) $(DESTDIR)$(ETCDIR)/x2gosql
-#	$(INSTALL_DIR) $(DESTDIR)$(ETCDIR)/x2gosql/passwords
-#	$(INSTALL_FILE) etc/x2goserver.conf     $(DESTDIR)$(ETCDIR)/
-#	$(INSTALL_FILE) etc/x2gosql/sql         $(DESTDIR)$(ETCDIR)/x2gosql
 
 install_man:
 	$(INSTALL_DIR) $(DESTDIR)$(MANDIR)
@@ -82,16 +73,9 @@ uninstall: uninstall_scripts uninstall_config uninstall_man uninstall_version
 
 uninstall_scripts:
 	for file in $(BIN_SCRIPTS); do $(RM_FILE) $(DESTDIR)$(BINDIR)/$$file; done
-#	for file in $(SBIN_SCRIPTS); do $(RM_FILE) $(DESTDIR)$(SBINDIR)/$$file; done
-#	for file in $(LIB_FILES); do $(RM_FILE) $(DESTDIR)$(LIBDIR)/$$file; done
 	for file in $(FEATURE_SCRIPTS); do $(RM_FILE) $(DESTDIR)$(SHAREDIR)/x2gofeature.d/$$file; done
 
 uninstall_config:
-#	$(RM_FILE) $(DESTDIR)$(ETCDIR)/x2goserver.conf
-#	$(RM_FILE) $(DESTDIR)$(ETCDIR)/x2gosql/sql
-#	$(RM_DIR)  $(DESTDIR)$(ETCDIR) || true
-#	$(RM_DIR)  $(DESTDIR)$(ETCDIR)/x2gosql/passwords || true
-#	$(RM_DIR)  $(DESTDIR)$(ETCDIR)/x2gosql || true
 
 uninstall_man:
 	for file in $(BIN_SCRIPTS); do $(RM_FILE) $(DESTDIR)$(MANDIR)/man8/$$file.8.gz; done
diff --git a/x2goserver-pyhoca/Makefile b/x2goserver-pyhoca/Makefile
index 6db725e..b8ecfa8 100755
--- a/x2goserver-pyhoca/Makefile
+++ b/x2goserver-pyhoca/Makefile
@@ -14,7 +14,7 @@ DESTDIR=
 PREFIX ?= /usr/local
 ETCDIR=/etc/x2go
 BINDIR=$(PREFIX)/bin
-#SBINDIR=$(PREFIX)/sbin
+SBINDIR=$(PREFIX)/sbin
 LIBDIR=$(PREFIX)/lib/x2go
 MANDIR=$(PREFIX)/share/man
 SHAREDIR=$(PREFIX)/share/x2go
@@ -24,53 +24,33 @@ BIN_SCRIPTS=$(shell cd bin &amp;&amp; echo *)
 #LIB_FILES=$(shell cd lib &amp;&amp; echo *)
 FEATURE_SCRIPTS=$(shell cd share/x2gofeature.d &amp;&amp; echo *.features)
 
-man_pages = `cd man &amp;&amp; find * -type f`
+#man_pages = `cd man &amp;&amp; find * -type f`
 
-MAN2HTML_BIN  = man2html
-MAN2HTML_SRC  = man
-MAN2HTML_DEST = .build_man2html/html
+#MAN2HTML_BIN  = man2html
+#MAN2HTML_SRC  = man
+#MAN2HTML_DEST = .build_man2html/html
 
 all: clean build
 
-build: build-indep
-
-build-indep: build_man2html
+build: build-arch build-indep
 
 build-arch:
 
+build-indep: build_man2html
+
 build_man2html:
-#	mkdir -p $(MAN2HTML_DEST)
-#	for man_page in $(man_pages); do mkdir -p `dirname $(MAN2HTML_DEST)/$$man_page`; done
-#	for man_page in $(man_pages); do $(MAN2HTML_BIN) $(MAN2HTML_SRC)/$$man_page &gt; $(MAN2HTML_DEST)/$$man_page.html; done
 
 clean: clean_man2html
 
 clean_man2html:
-#	rm -rf `dirname $(MAN2HTML_DEST)`
 
 install: install_scripts install_config install_man install_version
 
 install_scripts:
-#	$(INSTALL_DIR) $(DESTDIR)$(BINDIR)
-#	$(INSTALL_DIR) $(DESTDIR)$(SBINDIR)
-#	$(INSTALL_DIR) $(DESTDIR)$(SHAREDIR)
-#	$(INSTALL_DIR) $(DESTDIR)$(SHAREDIR)/x2gofeature.d
-#	$(INSTALL_PROGRAM) bin/*                $(DESTDIR)$(BINDIR)/
-#	$(INSTALL_PROGRAM) sbin/*               $(DESTDIR)$(SBINDIR)/
-#	$(INSTALL_PROGRAM) share/x2gofeature.d/*.features $(DESTDIR)$(SHAREDIR)/x2gofeature.d/
 
 install_config:
-#	$(INSTALL_DIR) $(DESTDIR)$(ETCDIR)
-#	$(INSTALL_DIR) $(DESTDIR)$(ETCDIR)/x2gosql
-#	$(INSTALL_DIR) $(DESTDIR)$(ETCDIR)/x2gosql/passwords
-#	$(INSTALL_FILE) etc/x2goserver.conf     $(DESTDIR)$(ETCDIR)/
-#	$(INSTALL_FILE) etc/x2gosql/sql         $(DESTDIR)$(ETCDIR)/x2gosql
 
 install_man:
-#	$(INSTALL_DIR) $(DESTDIR)$(MANDIR)
-#	$(INSTALL_DIR) $(DESTDIR)$(MANDIR)/man8
-#	$(INSTALL_FILE) man/man8/*.8           $(DESTDIR)$(MANDIR)/man8
-#	gzip -f $(DESTDIR)$(MANDIR)/man8/x2go*.8
 
 install_version:
 	$(INSTALL_DIR) $(DESTDIR)$(SHAREDIR)
@@ -80,22 +60,10 @@ install_version:
 uninstall: uninstall_scripts uninstall_config uninstall_man uninstall_version
 
 uninstall_scripts:
-#	for file in $(BIN_SCRIPTS); do $(RM_FILE) $(DESTDIR)$(BINDIR)/$$file; done
-#	for file in $(SBIN_SCRIPTS); do $(RM_FILE) $(DESTDIR)$(SBINDIR)/$$file; done
-#	for file in $(LIB_FILES); do $(RM_FILE) $(DESTDIR)$(LIBDIR)/$$file; done
-#	for file in $(FEATURE_SCRIPTS); do $(RM_FILE) $(DESTDIR)$(SHAREDIR)/x2gofeature.d/$$file; done
 
 uninstall_config:
-#	$(RM_FILE) $(DESTDIR)$(ETCDIR)/x2goserver.conf
-#	$(RM_FILE) $(DESTDIR)$(ETCDIR)/x2gosql/sql
-#	$(RM_DIR)  $(DESTDIR)$(ETCDIR) || true
-#	$(RM_DIR)  $(DESTDIR)$(ETCDIR)/x2gosql/passwords || true
-#	$(RM_DIR)  $(DESTDIR)$(ETCDIR)/x2gosql || true
 
 uninstall_man:
-#	for file in $(BIN_SCRIPTS); do $(RM_FILE) $(DESTDIR)$(MANDIR)/man8/$$file.8.gz; done
-#	for file in $(SBIN_SCRIPTS); do $(RM_FILE) $(DESTDIR)$(MANDIR)/man8/$$file.8.gz; done
-#	$(RM_DIR)  $(DESTDIR)$(MANDIR) || true
 
 uninstall_version:
 	$(RM_FILE) $(DESTDIR)$(SHAREDIR)/versions/VERSION.x2goserver-pyhoca
diff --git a/x2goserver-xsession/Makefile b/x2goserver-xsession/Makefile
index 77cb7f1..23f1c93 100755
--- a/x2goserver-xsession/Makefile
+++ b/x2goserver-xsession/Makefile
@@ -14,9 +14,9 @@ RM_DIR=rmdir -p --ignore-fail-on-non-empty
 DESTDIR=
 PREFIX ?= /usr/local
 ETCDIR=/etc/x2go
-#BINDIR=$(PREFIX)/bin
-#SBINDIR=$(PREFIX)/sbin
-#LIBDIR=$(PREFIX)/lib/x2go
+BINDIR=$(PREFIX)/bin
+SBINDIR=$(PREFIX)/sbin
+LIBDIR=$(PREFIX)/lib/x2go
 MANDIR=$(PREFIX)/share/man
 SHAREDIR=$(PREFIX)/share/x2go
 
@@ -34,31 +34,23 @@ FEATURE_SCRIPTS=$(shell cd share/x2gofeature.d &amp;&amp; echo *.features)
 
 all: clean build
 
-build: build-indep
-
-build-indep: build_man2html
+build: build-arch build-indep
 
 build-arch:
 
+build-indep: build_man2html
+
 build_man2html:
-#	mkdir -p $(MAN2HTML_DEST)
-#	for man_page in $(man_pages); do mkdir -p `dirname $(MAN2HTML_DEST)/$$man_page`; done
-#	for man_page in $(man_pages); do $(MAN2HTML_BIN) $(MAN2HTML_SRC)/$$man_page &gt; $(MAN2HTML_DEST)/$$man_page.html; done
 
 clean: clean_man2html
 
 clean_man2html:
-#	rm -rf `dirname $(MAN2HTML_DEST)`
 
 install: install_scripts install_config install_man install_version
 
 install_scripts:
-#	$(INSTALL_DIR) $(DESTDIR)$(BINDIR)
-#	$(INSTALL_DIR) $(DESTDIR)$(SBINDIR)
 	$(INSTALL_DIR) $(DESTDIR)$(SHAREDIR)
 	$(INSTALL_DIR) $(DESTDIR)$(SHAREDIR)/x2gofeature.d
-#	$(INSTALL_PROGRAM) bin/*                $(DESTDIR)$(BINDIR)/
-#	$(INSTALL_PROGRAM) sbin/*               $(DESTDIR)$(SBINDIR)/
 	$(INSTALL_PROGRAM) share/x2gofeature.d/*.features $(DESTDIR)$(SHAREDIR)/x2gofeature.d/
 
 install_config:
@@ -73,10 +65,6 @@ install_config:
 
 
 install_man:
-#	$(INSTALL_DIR) $(DESTDIR)$(MANDIR)
-#	$(INSTALL_DIR) $(DESTDIR)$(MANDIR)/man8
-#	$(INSTALL_FILE) man/man8/*.8           $(DESTDIR)$(MANDIR)/man8
-#	gzip -f $(DESTDIR)$(MANDIR)/man8/x2go*.8
 
 install_version:
 	$(INSTALL_DIR) $(DESTDIR)$(SHAREDIR)
@@ -86,17 +74,12 @@ install_version:
 uninstall: uninstall_scripts uninstall_config uninstall_man uninstall_version
 
 uninstall_scripts:
-#	for file in $(BIN_SCRIPTS); do $(RM_FILE) $(DESTDIR)$(BINDIR)/$$file; done
-#	for file in $(SBIN_SCRIPTS); do $(RM_FILE) $(DESTDIR)$(SBINDIR)/$$file; done
 	for file in $(FEATURE_SCRIPTS); do $(RM_FILE) $(DESTDIR)$(SHAREDIR)/x2gofeature.d/$$file; done
 
 uninstall_config:
 	for file in $(ETC_FILES); do $(RM_FILE) $(DESTDIR)$(ETCDIR)/$$file; done
 
 uninstall_man:
-#	for file in $(BIN_SCRIPTS); do $(RM_FILE) $(DESTDIR)$(MANDIR)/man8/$$file.8.gz; done
-#	for file in $(SBIN_SCRIPTS); do $(RM_FILE) $(DESTDIR)$(MANDIR)/man8/$$file.8.gz; done
-#	$(RM_DIR)  $(DESTDIR)$(MANDIR) || true
 
 uninstall_version:
 	$(RM_FILE) $(DESTDIR)$(SHAREDIR)/versions/VERSION.x2goserver-xsession
diff --git a/x2goserver/Makefile b/x2goserver/Makefile
index 9065d7f..27c2e06 100755
--- a/x2goserver/Makefile
+++ b/x2goserver/Makefile
@@ -34,10 +34,7 @@ all: clean build
 
 build: build-arch build-indep
 
-build-arch: build_setgidwrappers
-
-build_setgidwrappers:
-	gcc -fPIE -pie -o x2gosqlitewrapper x2gosqlitewrapper.c
+build-arch:
 
 build-indep: build_man2html
 
@@ -46,10 +43,11 @@ build_man2html:
 	for man_page in $(man_pages); do mkdir -p `dirname $(MAN2HTML_DEST)/$$man_page`; done
 	for man_page in $(man_pages); do $(MAN2HTML_BIN) $(MAN2HTML_SRC)/$$man_page &gt; $(MAN2HTML_DEST)/$$man_page.html; done
 
-clean: clean_arch clean_man2html
+clean: clean-arch clean-indep
+
+clean-arch:
 
-clean_arch:
-	rm -f x2gosqlitewrapper
+clean-indep: clean_man2html
 
 clean_man2html:
 	rm -Rf `dirname $(MAN2HTML_DEST)`
@@ -63,11 +61,8 @@ install_scripts:
 	$(INSTALL_DIR) $(DESTDIR)$(SHAREDIR)/x2gofeature.d
 	$(INSTALL_PROGRAM) bin/*                $(DESTDIR)$(BINDIR)/
 	$(INSTALL_PROGRAM) sbin/*               $(DESTDIR)$(SBINDIR)/
-	$(INSTALL_PROGRAM) x2gosqlitewrapper       $(DESTDIR)$(LIBDIR)/
 	$(INSTALL_PROGRAM) lib/*                   $(DESTDIR)$(LIBDIR)/
 	$(INSTALL_PROGRAM) share/x2gofeature.d/*.features $(DESTDIR)$(SHAREDIR)/x2gofeature.d/
-	getent group x2gouser &amp;&gt;/dev/null &amp;&amp; chown root:x2gouser $(DESTDIR)$(LIBDIR)/x2gosqlitewrapper || true
-	chmod 2755 $(DESTDIR)$(LIBDIR)/x2gosqlitewrapper
 
 install_config:
 	$(INSTALL_DIR) $(DESTDIR)$(ETCDIR)
@@ -94,7 +89,6 @@ uninstall_scripts:
 	for file in $(SBIN_SCRIPTS); do $(RM_FILE) $(DESTDIR)$(SBINDIR)/$$file; done
 	for file in $(LIB_FILES); do $(RM_FILE) $(DESTDIR)$(LIBDIR)/$$file; done
 	for file in $(FEATURE_SCRIPTS); do $(RM_FILE) $(DESTDIR)$(SHAREDIR)/x2gofeature.d/$$file; done
-	$(RM_FILE) $(DESTDIR)$(LIBDIR)/x2gosqlitewrapper
 	$(RM_DIR) $(DESTDIR)$(LIBDIR) || true
 	$(RM_DIR) $(DESTDIR)$(SHAREDIR)/x2gofeature.d || true
 	$(RM_DIR) $(DESTDIR)$(SHAREDIR) || true


hooks/post-receive
-- 
x2goserver.git (X2Go Server)

This is an automated email from the git hooks/post-receive script. It was
generated because a ref change was pushed to the repository containing
the project &quot;x2goserver.git&quot; (X2Go Server).

</PRE>


























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="019720.html">[X2Go-Commits] x2goserver.git - build-baikal (branch) updated:	3.1.1.3-38-g3cbeb32
</A></li>
	<LI>Next message: <A HREF="019752.html">[X2Go-Commits] x2goserver.git - build-baikal (branch) updated:	3.1.1.3-37-g8314a25
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19724">[ date ]</a>
              <a href="thread.html#19724">[ thread ]</a>
              <a href="subject.html#19724">[ subject ]</a>
              <a href="author.html#19724">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/x2go-commits">More information about the X2Go-commits
mailing list</a><br>
</body></html>
