<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [X2Go-Commits] x2goclient.git - build-baikal (branch) updated:	4.0.1.1-10-g8cade0e
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/x2go-commits/2014-January/index.html" >
   <LINK REL="made" HREF="mailto:x2go-commits%40lists.berlios.de?Subject=Re%3A%20%5BX2Go-Commits%5D%20x2goclient.git%20-%20build-baikal%20%28branch%29%20updated%3A%0A%094.0.1.1-10-g8cade0e&In-Reply-To=%3C20140108212004.9920F5DB3B%40ymir%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025983.html">
   <LINK REL="Next"  HREF="025985.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[X2Go-Commits] x2goclient.git - build-baikal (branch) updated:	4.0.1.1-10-g8cade0e</H1>
    <B>X2Go dev team</B> 
    <A HREF="mailto:x2go-commits%40lists.berlios.de?Subject=Re%3A%20%5BX2Go-Commits%5D%20x2goclient.git%20-%20build-baikal%20%28branch%29%20updated%3A%0A%094.0.1.1-10-g8cade0e&In-Reply-To=%3C20140108212004.9920F5DB3B%40ymir%3E"
       TITLE="[X2Go-Commits] x2goclient.git - build-baikal (branch) updated:	4.0.1.1-10-g8cade0e">git-admin at x2go.org
       </A><BR>
    <I>Wed Jan  8 22:20:04 CET 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="025983.html">[X2Go-Commits] x2goclient.git - build-baikal (branch) updated:	4.0.1.1-8-gf376e1c
</A></li>
        <LI>Next message: <A HREF="025985.html">[X2Go-Commits] x2goclient.git - build-baikal (branch) updated:	4.0.1.1-11-gcf33d55
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25984">[ date ]</a>
              <a href="thread.html#25984">[ thread ]</a>
              <a href="subject.html#25984">[ subject ]</a>
              <a href="author.html#25984">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>The branch, build-baikal has been updated
       via  8cade0ed5bc2e7595d394857f56308c55138f862 (commit)
      from  a0e76cf105a0a44705b53c9ddf5bf0b4483f15b5 (commit)

Those revisions listed above that are new to this repository have
not appeared on any other notification email; so we list those
revisions in full, below.

- Log -----------------------------------------------------------------
-----------------------------------------------------------------------

Summary of changes:
 debian/changelog             |    2 +
 COPYING =&gt; nsis/gpl.txt      |    6 +-
 nsis/icons/win-install.ico   |  Bin 0 -&gt; 1078 bytes
 nsis/icons/win-uninstall.ico |  Bin 0 -&gt; 1078 bytes
 nsis/make_installer.sh       |    4 +
 nsis/x2goclient.nsi          |  167 ++++++++++++++++++++++++++++++++++++++++++
 6 files changed, 176 insertions(+), 3 deletions(-)
 copy COPYING =&gt; nsis/gpl.txt (98%)
 mode change 100644 =&gt; 100755
 create mode 100755 nsis/icons/win-install.ico
 create mode 100755 nsis/icons/win-uninstall.ico
 create mode 100755 nsis/make_installer.sh
 create mode 100755 nsis/x2goclient.nsi

The diff of changes is:
diff --git a/debian/changelog b/debian/changelog
index 5e3c3c9..05b5189 100644
--- a/debian/changelog
+++ b/debian/changelog
@@ -3,6 +3,8 @@ x2goclient (4.0.1.2-0~x2go2) UNRELEASED; urgency=low
   [ Mike Gabriel ]
   * New upstream version (4.0.1.2):
     + Provide Keywords: key in .desktop file.
+    + Add NSIS packaging files for win32 builds to source tree.
+      (Files provided by Oleksandr Shneyder, thanks!!!).
   * Pull-in packaging changes from Debian.
 
   [ Ricardo D&#195;&#173;az Mart&#195;&#173;n ]
diff --git a/COPYING b/nsis/gpl.txt
old mode 100644
new mode 100755
similarity index 98%
copy from COPYING
copy to nsis/gpl.txt
index 57f4943..7a8e8ab
--- a/COPYING
+++ b/nsis/gpl.txt
@@ -2,7 +2,7 @@
 		       Version 2, June 1991
 
  Copyright (C) 1989, 1991 Free Software Foundation, Inc.
- 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA
+ 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA
  Everyone is permitted to copy and distribute verbatim copies
  of this license document, but changing it is not allowed.
 
@@ -305,7 +305,7 @@ the &quot;copyright&quot; line and a pointer to where the full notice is found.
 
     You should have received a copy of the GNU General Public License
     along with this program; if not, write to the Free Software
-    Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
+    Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA
 
 
 Also add information on how to contact you by electronic and paper mail.
@@ -336,5 +336,5 @@ necessary.  Here is a sample; alter the names:
 This General Public License does not permit incorporating your program into
 proprietary programs.  If your program is a subroutine library, you may
 consider it more useful to permit linking proprietary applications with the
-library.  If this is what you want to do, use the GNU Library General
+library.  If this is what you want to do, use the GNU Lesser General
 Public License instead of this License.
diff --git a/nsis/icons/win-install.ico b/nsis/icons/win-install.ico
new file mode 100755
index 0000000..c0a5a00
Binary files /dev/null and b/nsis/icons/win-install.ico differ
diff --git a/nsis/icons/win-uninstall.ico b/nsis/icons/win-uninstall.ico
new file mode 100755
index 0000000..9329176
Binary files /dev/null and b/nsis/icons/win-uninstall.ico differ
diff --git a/nsis/make_installer.sh b/nsis/make_installer.sh
new file mode 100755
index 0000000..3e0ee88
--- /dev/null
+++ b/nsis/make_installer.sh
@@ -0,0 +1,4 @@
+#!/bin/bash
+
+upx x2goclient/x2goclient.exe
+makensis x2goclient.nsi
diff --git a/nsis/x2goclient.nsi b/nsis/x2goclient.nsi
new file mode 100755
index 0000000..e429895
--- /dev/null
+++ b/nsis/x2goclient.nsi
@@ -0,0 +1,167 @@
+;NSIS Modern User Interface
+;Multilingual Example Script
+;Written by Joost Verburg
+
+
+!include &quot;MUI.nsh&quot;
+!include &quot;FileFunc.nsh&quot;
+!insertmacro Locate
+;--------------------------------
+;General
+
+  RequestExecutionLevel admin
+ !define VERSION &quot;4.0.1.0-pre02&quot;
+  Name &quot;x2goclient-${VERSION}&quot;
+  Caption &quot;x2goclient-${VERSION}&quot;
+  OutFile &quot;x2goclient-${VERSION}-setup.exe&quot;
+  !define MUI_ICON icons\win-install.ico
+  !define MUI_UNICON icons\win-uninstall.ico
+  ;Default installation folder
+  InstallDir &quot;$PROGRAMFILES\x2goclient&quot;
+  
+  ;Get installation folder from registry if available
+  InstallDirRegKey HKLM &quot;Software\x2goclient&quot; &quot;&quot;
+
+;--------------------------------
+;Check if user is admin
+Section
+    userInfo::getAccountType
+    pop $0
+    strCmp $0 &quot;Admin&quot; +3
+    messageBox MB_OK $(ADM_RIGHT)
+    abort
+SectionEnd
+
+;--------------------------------
+;Interface Settings
+
+  !define MUI_ABORTWARNING
+
+;--------------------------------
+;Language Selection Dialog Settings
+
+  ;Remember the installer language
+  !define MUI_LANGDLL_REGISTRY_ROOT &quot;HKLM&quot; 
+  !define MUI_LANGDLL_REGISTRY_KEY &quot;Software\x2goclient&quot; 
+  !define MUI_LANGDLL_REGISTRY_VALUENAME &quot;Installer Language&quot;
+
+;------------------------------
+;Variables
+
+  Var STARTMENU_FOLDER
+  Var MUI_TEMP
+
+;--------------------------------
+;Pages
+
+  !insertmacro MUI_PAGE_LICENSE &quot;gpl.txt&quot;
+  !insertmacro MUI_PAGE_DIRECTORY
+  !define MUI_STARTMENUPAGE_DEFAULTFOLDER &quot;X2Go Client for Windows&quot;
+  !define MUI_STARTMENUPAGE_REGISTRY_ROOT &quot;HKLM&quot;
+  !define MUI_STARTMENUPAGE_REGISTRY_KEY &quot;Software\x2goclient&quot;
+  !define MUI_STARTMENUPAGE_REGISTRY_VALUENAME &quot;Start Menu Folder&quot;  
+  !insertmacro MUI_PAGE_STARTMENU &quot;Application&quot; $STARTMENU_FOLDER
+  !insertmacro MUI_PAGE_INSTFILES
+  !insertmacro MUI_UNPAGE_CONFIRM
+  !insertmacro MUI_UNPAGE_INSTFILES
+  !insertmacro MUI_PAGE_FINISH
+
+;--------------------------------
+;Languages
+
+  !insertmacro MUI_LANGUAGE &quot;English&quot; 
+  !insertmacro MUI_LANGUAGE &quot;German&quot;
+  !insertmacro MUI_LANGUAGE &quot;Russian&quot;
+  
+;--------------------------------
+;Reserve Files
+  
+  ;If you are using solid compression, files that are required before
+  ;the actual installation should be stored first in the data block,
+  ;because this will make your installer start faster.
+  
+  !insertmacro MUI_RESERVEFILE_LANGDLL
+
+
+;--------------------------------
+;Installer Sections
+Section &quot;x2goclient&quot; Section1
+
+  SetShellVarContext all 
+  SectionIn RO
+
+  SetOutPath &quot;$INSTDIR&quot;
+  File /a &quot;x2goclient\*.*&quot;
+  File /r &quot;x2goclient\pulse&quot;
+  File /r &quot;x2goclient\VcXsrv&quot;
+  
+  ;Store installation folder
+  WriteRegStr HKLM &quot;Software\x2goclient&quot; &quot;&quot; $INSTDIR
+  
+  ;Create uninstaller
+  WriteUninstaller &quot;$INSTDIR\Uninstall.exe&quot;
+  !insertmacro MUI_STARTMENU_WRITE_BEGIN Application
+  CreateDirectory &quot;$SMPROGRAMS\$STARTMENU_FOLDER&quot;
+  CreateShortCut &quot;$SMPROGRAMS\$STARTMENU_FOLDER\Uninstall.lnk&quot; &quot;$INSTDIR\Uninstall.exe&quot;
+  CreateShortCut &quot;$INSTDIR\X2goClient.lnk&quot; &quot;$INSTDIR\x2goclient.exe&quot;
+  CreateShortCut &quot;$SMPROGRAMS\$STARTMENU_FOLDER\X2goClient.lnk&quot; &quot;$INSTDIR\x2goclient.exe&quot;
+  CreateShortCut &quot;$DESKTOP\X2goClient.lnk&quot; &quot;$INSTDIR\x2goclient.exe&quot;
+  CreateShortCut &quot;$DESKTOP\X2goClient.lnk&quot; &quot;$INSTDIR\x2goclient.exe&quot;
+  
+  !insertmacro MUI_STARTMENU_WRITE_END
+SectionEnd
+
+;-------------------------------------------
+;Descriptions
+
+
+LangString ADM_RIGHT ${LANG_ENGLISH} &quot;You have to be Administrator on this computer to install X2Go Client&quot;
+LangString ADM_RIGHT ${LANG_GERMAN} &quot;Sie brauchen Administratorenrechte um X2go Client zu installieren&quot;
+LangString ADM_RIGHT ${LANG_RUSSIAN} &quot;&#196;&#235;&#255; &#242;&#238;&#227;&#238;, &#247;&#242;&#238;&#225;&#251; &#243;&#241;&#242;&#224;&#237;&#238;&#226;&#232;&#242;&#252; X2Go Client, &#237;&#229;&#238;&#225;&#245;&#238;&#228;&#232;&#236;&#238; &#225;&#251;&#242;&#252; &#224;&#228;&#236;&#232;&#237;&#232;&#241;&#242;&#240;&#224;&#242;&#238;&#240;&#238;&#236; &#253;&#242;&#238;&#227;&#238; &#234;&#238;&#236;&#239;&#252;&#254;&#242;&#229;&#240;&#224;&quot;
+
+
+!Insertmacro MUI_FUNCTION_DESCRIPTION_BEGIN
+!Insertmacro MUI_FUNCTION_DESCRIPTION_END
+
+;--------------------------------
+;Installer Functions
+
+Function .onInit
+
+  !insertmacro MUI_LANGDLL_DISPLAY
+FunctionEnd
+
+;--------------------------------
+;Uninstaller Section
+
+Section &quot;Uninstall&quot;
+
+  SetShellVarContext all 
+
+  !insertmacro MUI_STARTMENU_GETFOLDER Application $MUI_TEMP
+  Delete &quot;$SMPROGRAMS\$MUI_TEMP\Uninstall.lnk&quot;
+  Delete &quot;$SMPROGRAMS\$MUI_TEMP\X2goClient.lnk&quot;
+  Delete &quot;$DESKTOP\X2goClient.lnk&quot;
+  StrCpy $MUI_TEMP &quot;$SMPROGRAMS\$MUI_TEMP&quot;
+  startMenuDeleteLoop:
+	ClearErrors
+    RMDir $MUI_TEMP
+    GetFullPathName $MUI_TEMP &quot;$MUI_TEMP\..&quot;
+    IfErrors startMenuDeleteLoopDone
+    StrCmp $MUI_TEMP $SMPROGRAMS startMenuDeleteLoopDone startMenuDeleteLoop
+  startMenuDeleteLoopDone:
+
+  RMDir /r &quot;$INSTDIR&quot;
+
+  DeleteRegKey  HKLM &quot;Software\x2goclient&quot;
+
+SectionEnd
+
+;--------------------------------
+;Uninstaller Functions
+
+Function un.onInit
+
+  !insertmacro MUI_UNGETLANGUAGE
+  
+FunctionEnd


hooks/post-receive
-- 
x2goclient.git (X2Go Client)

This is an automated email from the git hooks/post-receive script. It was
generated because a ref change was pushed to the repository containing
the project &quot;x2goclient.git&quot; (X2Go Client).

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="025983.html">[X2Go-Commits] x2goclient.git - build-baikal (branch) updated:	4.0.1.1-8-gf376e1c
</A></li>
	<LI>Next message: <A HREF="025985.html">[X2Go-Commits] x2goclient.git - build-baikal (branch) updated:	4.0.1.1-11-gcf33d55
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25984">[ date ]</a>
              <a href="thread.html#25984">[ thread ]</a>
              <a href="subject.html#25984">[ subject ]</a>
              <a href="author.html#25984">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/x2go-commits">More information about the X2Go-commits
mailing list</a><br>
</body></html>
