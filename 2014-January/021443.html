<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [X2Go-Commits] python-x2go.git - brokerclient (branch) updated:	0.0.36.1-7-g10c4634
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/x2go-commits/2014-January/index.html" >
   <LINK REL="made" HREF="mailto:x2go-commits%40lists.berlios.de?Subject=Re%3A%20%5BX2Go-Commits%5D%20python-x2go.git%20-%20brokerclient%20%28branch%29%20updated%3A%0A%090.0.36.1-7-g10c4634&In-Reply-To=%3C20140107152005.B2F315DF62%40ymir%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021440.html">
   <LINK REL="Next"  HREF="021454.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[X2Go-Commits] python-x2go.git - brokerclient (branch) updated:	0.0.36.1-7-g10c4634</H1>
    <B>X2Go dev team</B> 
    <A HREF="mailto:x2go-commits%40lists.berlios.de?Subject=Re%3A%20%5BX2Go-Commits%5D%20python-x2go.git%20-%20brokerclient%20%28branch%29%20updated%3A%0A%090.0.36.1-7-g10c4634&In-Reply-To=%3C20140107152005.B2F315DF62%40ymir%3E"
       TITLE="[X2Go-Commits] python-x2go.git - brokerclient (branch) updated:	0.0.36.1-7-g10c4634">git-admin at x2go.org
       </A><BR>
    <I>Tue Jan  7 16:20:05 CET 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="021440.html">[X2Go-Commits] python-x2go.git - brokerclient (branch) updated:	0.0.36.1-4-g892d3bd
</A></li>
        <LI>Next message: <A HREF="021454.html">[X2Go-Commits] python-x2go.git - brokerclient (branch) updated:	0.0.36.1-6-ga6d7462
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21443">[ date ]</a>
              <a href="thread.html#21443">[ thread ]</a>
              <a href="subject.html#21443">[ subject ]</a>
              <a href="author.html#21443">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>The branch, brokerclient has been updated
  discards  a6d746203239ffd58f4d86de4085c03b5e3ba4e4 (commit)
       via  10c46349815fa1652ed0b98d86f3d5f14a46295e (commit)
       via  632bd0730d2db7ba960c49eae7837cbd236d6754 (commit)

This update added new revisions after undoing existing revisions.  That is
to say, the old revision is not a strict subset of the new revision.  This
situation occurs when you --force push a change and generate a repository
containing something like this:

 * -- * -- B -- O -- O -- O (a6d746203239ffd58f4d86de4085c03b5e3ba4e4)
            \
             N -- N -- N (10c46349815fa1652ed0b98d86f3d5f14a46295e)

When this happens we assume that you've already had alert emails for all
of the O revisions, and so we here report only the revisions in the N
branch from the common base, B.

Those revisions listed above that are new to this repository have
not appeared on any other notification email; so we list those
revisions in full, below.

- Log -----------------------------------------------------------------
-----------------------------------------------------------------------

Summary of changes:
 .gitignore         |    1 +
 README             |   15 ++++++++-------
 x2go/pulseaudio.py |   17 +++++++++--------
 3 files changed, 18 insertions(+), 15 deletions(-)
 create mode 100644 .gitignore

The diff of changes is:
diff --git a/.gitignore b/.gitignore
new file mode 100644
index 0000000..0d20b64
--- /dev/null
+++ b/.gitignore
@@ -0,0 +1 @@
+*.pyc
diff --git a/README b/README
index 40922f9..3c36982 100644
--- a/README
+++ b/README
@@ -1,4 +1,4 @@
-python-x2go - Copyright (C) 2010 by Mike Gabriel &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">m.gabriel at das-netzwerkteam.de</A>&gt;
+python-x2go - Copyright (C) 2010-2011 by Mike Gabriel &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">mike.gabriel at das-netzwerkteam.de</A>&gt;
 
 Published under the terms of the GNU General Public License.
 See <A HREF="http://www.gnu.org/licenses/gpl.html">http://www.gnu.org/licenses/gpl.html</A> for a recent copy.
@@ -7,7 +7,8 @@ See <A HREF="http://www.gnu.org/licenses/gpl.html">http://www.gnu.org/licenses/gpl.html</A> for a recent copy.
 === What is Python X2go? ===
 
 The Python X2go module integrates X2go client support into your python programmes.
-Python X2go is used in the headless X2go client &#187;pyhoca-cli&#171;.
+Python X2go is used in the headless X2go client &#187;pyhoca-cli&#171; and by the tiny systray GUI
+application &#187;pyhoca-gui&#171;
 
 Python X2go takes advantages of the NX Proxy by NoMachine published under GPL. 
 On Windows and MacOS X systems you have to make sure that you have installed a current
@@ -64,7 +65,7 @@ Ubuntu:
 create /etc/apt/sources.list.d/nwt.list and put the following line into it:
 
 &lt;snip&gt;
-deb <A HREF="http://packages.das-netzwerkteam.de/ubuntu">http://packages.das-netzwerkteam.de/ubuntu</A> {lucid|maverick} main
+deb <A HREF="http://packages.das-netzwerkteam.de/ubuntu">http://packages.das-netzwerkteam.de/ubuntu</A> {lucid|maverick|natty} main
 &lt;/snip&gt;
 
 If you run a newer Ubuntu version, replace &#187;lucid&#171; with your version (&#187;maverick&#171;, ...)
@@ -80,7 +81,7 @@ Debian:
 create /etc/apt/sources.list.d/nwt.list and put the following line into it:
 
 &lt;snip&gt;
-deb <A HREF="http://packages.das-netzwerkteam.de/debian">http://packages.das-netzwerkteam.de/debian</A> {squeeze|sid} main
+deb <A HREF="http://packages.das-netzwerkteam.de/debian">http://packages.das-netzwerkteam.de/debian</A> {squeeze|wheezy|sid} main
 &lt;/snip&gt;
 
 Then run the following commands as super-user root:
@@ -119,10 +120,10 @@ desktop's system tray.
 
 === Repository and Feedback ===
 
-Before giving feedback take a look at <A HREF="http://svn.das-netzwerkteam.de/websvn">http://svn.das-netzwerkteam.de/websvn</A> and
-check if you issues have already been solved in the HEAD of code.
+Before giving feedback take a look at <A HREF="http://git.x2go.org/">http://git.x2go.org/</A> (project: python-x2go.git) and
+check if your issues have already been solved in the HEAD of python-x2go code.
 
-For now, bugs can be reported via mail to <A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">m.gabriel at das-netzwerkteam.de</A>
+For now, bugs can be reported via mail to <A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">mike.gabriel at das-netzwerkteam.de</A>
 
 
 light+love
diff --git a/x2go/pulseaudio.py b/x2go/pulseaudio.py
index 5a4a94d..34d491b 100644
--- a/x2go/pulseaudio.py
+++ b/x2go/pulseaudio.py
@@ -25,7 +25,6 @@ __NAME__ = 'x2gopulseaudio-pylib'
 from defaults import X2GOCLIENT_OS as _X2GOCLIENT_OS
 if _X2GOCLIENT_OS == 'Windows':
     import wmi
-    import win32api
 
 # modules
 import os
@@ -73,7 +72,10 @@ class X2goPulseAudio(threading.Thread):
         &quot;&quot;&quot;
         self._keepalive = True
         cmd = 'pulseaudio.exe'
+        if self.path:
+            cmd = os.path.join(self.path, cmd)
         cmd_options = [
+            '-D',
             '-n',
             '-L module-native-protocol-tcp port=4713',
             '-L module-esound-protocol-tcp port=16001',
@@ -90,7 +92,6 @@ class X2goPulseAudio(threading.Thread):
                              stdout=subprocess.PIPE,
                              stderr=subprocess.STDOUT,
                              shell=_shell,
-                             cwd=self.path,
                             )
         gevent.sleep(5)
         _is_alive = p and (p.poll() is None)
@@ -107,12 +108,12 @@ class X2goPulseAudio(threading.Thread):
                 self.client_instance.HOOK_pulseaudio_server_died()
 
         self.logger('terminating running PulseAudio server', loglevel=log.loglevel_DEBUG)
-
-        # there is no real kill command on Windows...
-        PROCESS_TERMINATE = 1
-        p_handle = win32api.OpenProcess(PROCESS_TERMINATE, False, p.pid)
-        win32api.TerminateProcess(p_handle, 0)
-        win32api.CloseHandle(p_handle)
+        p = subprocess.Popen(['pulseaudio', '-k', ],
+                             stdin=_stdin,
+                             stdout=subprocess.PIPE,
+                             stderr=subprocess.STDOUT,
+                             shell=_shell,
+                            )
 
     def stop_thread(self):
         &quot;&quot;&quot;\


hooks/post-receive
-- 
python-x2go.git (Python X2Go Client API)

This is an automated email from the git hooks/post-receive script. It was
generated because a ref change was pushed to the repository containing
the project &quot;python-x2go.git&quot; (Python X2Go Client API).

</PRE>





















































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021440.html">[X2Go-Commits] python-x2go.git - brokerclient (branch) updated:	0.0.36.1-4-g892d3bd
</A></li>
	<LI>Next message: <A HREF="021454.html">[X2Go-Commits] python-x2go.git - brokerclient (branch) updated:	0.0.36.1-6-ga6d7462
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21443">[ date ]</a>
              <a href="thread.html#21443">[ thread ]</a>
              <a href="subject.html#21443">[ subject ]</a>
              <a href="author.html#21443">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/x2go-commits">More information about the X2Go-commits
mailing list</a><br>
</body></html>
