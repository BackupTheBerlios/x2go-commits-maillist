<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [X2go-Commits] x2goserver.git - master (branch) updated:	3.0.99-2-141-gdc9e74c
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/x2go-commits/2011-July/index.html" >
   <LINK REL="made" HREF="mailto:x2go-commits%40lists.berlios.de?Subject=Re%3A%20%5BX2go-Commits%5D%20x2goserver.git%20-%20master%20%28branch%29%20updated%3A%0A%093.0.99-2-141-gdc9e74c&In-Reply-To=%3C20110728111511.3853B5DB18%40ymir.das-netzwerkteam.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001286.html">
   <LINK REL="Next"  HREF="001288.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[X2go-Commits] x2goserver.git - master (branch) updated:	3.0.99-2-141-gdc9e74c</H1>
    <B>X2go dev team</B> 
    <A HREF="mailto:x2go-commits%40lists.berlios.de?Subject=Re%3A%20%5BX2go-Commits%5D%20x2goserver.git%20-%20master%20%28branch%29%20updated%3A%0A%093.0.99-2-141-gdc9e74c&In-Reply-To=%3C20110728111511.3853B5DB18%40ymir.das-netzwerkteam.de%3E"
       TITLE="[X2go-Commits] x2goserver.git - master (branch) updated:	3.0.99-2-141-gdc9e74c">git-admin at x2go.org
       </A><BR>
    <I>Thu Jul 28 13:15:11 CEST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="001286.html">[X2go-Commits] x2goserver.git - master (branch) updated:	3.0.99-2-135-gc1b3c93
</A></li>
        <LI>Next message: <A HREF="001288.html">[X2go-Commits] x2goserver.git - master (branch) updated:	3.0.99-2-142-gcf74c47
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1287">[ date ]</a>
              <a href="thread.html#1287">[ thread ]</a>
              <a href="subject.html#1287">[ subject ]</a>
              <a href="author.html#1287">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>The branch, master has been updated
       via  dc9e74c18a01b9e0f472da1f6c6246bc26b5c79a (commit)
       via  93c72ab1328fdf4c899ddacc14afd6adc39412d2 (commit)
       via  1679d531856d352536f7474dcd00c2f84d8e380d (commit)
       via  215194bdd30b432c8e86cc2e2837eb099db7b765 (commit)
       via  e2cbf2d58b98b53a5c68334de9844740d8f657b5 (commit)
       via  04704f9d55ac9f5c900468e183dd1f22c68f49e5 (commit)
      from  c1b3c93b2398923b2b9ce42a28db276b312b6ca0 (commit)

Those revisions listed above that are new to this repository have
not appeared on any other notification email; so we list those
revisions in full, below.

- Log -----------------------------------------------------------------
commit dc9e74c18a01b9e0f472da1f6c6246bc26b5c79a
Author: Mike Gabriel &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">mike.gabriel at das-netzwerkteam.de</A>&gt;
Date:   Thu Jul 28 13:15:06 2011 +0200

    moved x2gosqlitewrapper into $PREFIX/lib/x2go

commit 93c72ab1328fdf4c899ddacc14afd6adc39412d2
Author: Mike Gabriel &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">mike.gabriel at das-netzwerkteam.de</A>&gt;
Date:   Thu Jul 28 13:11:55 2011 +0200

    x2gosqlitewrapper -&gt; $PREFIX/lib/x2go, removal of compat scripts from x2goserver package

commit 1679d531856d352536f7474dcd00c2f84d8e380d
Author: Mike Gabriel &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">mike.gabriel at das-netzwerkteam.de</A>&gt;
Date:   Thu Jul 28 13:11:08 2011 +0200

    Makefiles, control file update (for package x2goserver-compat)

commit 215194bdd30b432c8e86cc2e2837eb099db7b765
Author: Mike Gabriel &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">mike.gabriel at das-netzwerkteam.de</A>&gt;
Date:   Thu Jul 28 13:10:06 2011 +0200

    moved man pages of x2goserver-extensions from section 8 -&gt; 1

commit e2cbf2d58b98b53a5c68334de9844740d8f657b5
Author: Mike Gabriel &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">mike.gabriel at das-netzwerkteam.de</A>&gt;
Date:   Thu Jul 28 13:09:05 2011 +0200

    moved compat scripts into separate package x2goserver-compat

commit 04704f9d55ac9f5c900468e183dd1f22c68f49e5
Author: Mike Gabriel &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">mike.gabriel at das-netzwerkteam.de</A>&gt;
Date:   Thu Jul 28 13:06:39 2011 +0200

    man page separation (section 1 + 8)

-----------------------------------------------------------------------

Summary of changes:
 Makefile                                           |    6 +++
 Makefile.docupload                                 |   17 ++++----
 debian/control                                     |   19 +++++++++
 debian/x2goserver-compat.install                   |    1 +
 debian/x2goserver-compat.manpages                  |    1 +
 debian/x2goserver-extensions.manpages              |    2 +-
 debian/x2goserver.install                          |    5 +-
 debian/x2goserver.lintian-overrides                |    1 +
 debian/x2goserver.manpages                         |    1 +
 debian/x2goserver.postinst                         |    4 +-
 .../Makefile                                       |    4 +-
 .../compat =&gt; x2goserver-compat}/bin/x2gosuspend   |    0
 .../compat =&gt; x2goserver-compat}/bin/x2goterminate |    0
 .../compat =&gt; x2goserver-compat}/bin/x2goumount    |    0
 x2goserver-compat/man/man1/x2gosuspend.1           |   23 +++++++++++
 x2goserver-compat/man/man1/x2goterminate.1         |   23 +++++++++++
 x2goserver-compat/man/man1/x2goumount.1            |   23 +++++++++++
 .../x2gosetkeyboard.8 =&gt; man1/x2gosetkeyboard.1}   |    0
 .../man/{man8/x2goversion.8 =&gt; man1/x2goversion.1} |    0
 x2goserver/bin/x2goumount_session                  |    1 +
 x2goserver/compat/bin/x2goumount_session           |   24 -----------
 x2goserver/lib/x2godbwrapper.pm                    |   42 ++++++++++---------
 .../x2gocmdexitmessage.1}                          |    0
 .../x2golistdesktops.8 =&gt; man1/x2golistdesktops.1} |    0
 .../x2golistsessions.8 =&gt; man1/x2golistsessions.1} |    0
 .../{man8/x2gomountdirs.8 =&gt; man1/x2gomountdirs.1} |    0
 .../man/{man8/x2goprint.8 =&gt; man1/x2goprint.1}     |    0
 .../x2goresume-session.1}                          |    0
 .../x2goruncommand.8 =&gt; man1/x2goruncommand.1}     |    0
 .../x2goshowblocks.8 =&gt; man1/x2goshowblocks.1}     |    0
 .../x2gostartagent.8 =&gt; man1/x2gostartagent.1}     |    0
 .../x2gosuspend-session.1}                         |    0
 .../x2goterminate-session.1}                       |    0
 .../x2goumount-session.1}                          |    0
 x2goserver/man/man1/x2goumount_session.1           |    1 +
 35 files changed, 138 insertions(+), 60 deletions(-)
 create mode 100644 debian/x2goserver-compat.install
 create mode 100644 debian/x2goserver-compat.manpages
 create mode 100644 debian/x2goserver.lintian-overrides
 copy {x2goserver-extensions =&gt; x2goserver-compat}/Makefile (94%)
 rename {x2goserver/compat =&gt; x2goserver-compat}/bin/x2gosuspend (100%)
 rename {x2goserver/compat =&gt; x2goserver-compat}/bin/x2goterminate (100%)
 rename {x2goserver/compat =&gt; x2goserver-compat}/bin/x2goumount (100%)
 create mode 100644 x2goserver-compat/man/man1/x2gosuspend.1
 create mode 100644 x2goserver-compat/man/man1/x2goterminate.1
 create mode 100644 x2goserver-compat/man/man1/x2goumount.1
 rename x2goserver-extensions/man/{man8/x2gosetkeyboard.8 =&gt; man1/x2gosetkeyboard.1} (100%)
 rename x2goserver-extensions/man/{man8/x2goversion.8 =&gt; man1/x2goversion.1} (100%)
 create mode 120000 x2goserver/bin/x2goumount_session
 delete mode 100755 x2goserver/compat/bin/x2goumount_session
 rename x2goserver/man/{man8/x2gocmdexitmessage.8 =&gt; man1/x2gocmdexitmessage.1} (100%)
 rename x2goserver/man/{man8/x2golistdesktops.8 =&gt; man1/x2golistdesktops.1} (100%)
 rename x2goserver/man/{man8/x2golistsessions.8 =&gt; man1/x2golistsessions.1} (100%)
 rename x2goserver/man/{man8/x2gomountdirs.8 =&gt; man1/x2gomountdirs.1} (100%)
 rename x2goserver/man/{man8/x2goprint.8 =&gt; man1/x2goprint.1} (100%)
 rename x2goserver/man/{man8/x2goresume-session.8 =&gt; man1/x2goresume-session.1} (100%)
 rename x2goserver/man/{man8/x2goruncommand.8 =&gt; man1/x2goruncommand.1} (100%)
 rename x2goserver/man/{man8/x2goshowblocks.8 =&gt; man1/x2goshowblocks.1} (100%)
 rename x2goserver/man/{man8/x2gostartagent.8 =&gt; man1/x2gostartagent.1} (100%)
 rename x2goserver/man/{man8/x2gosuspend-session.8 =&gt; man1/x2gosuspend-session.1} (100%)
 rename x2goserver/man/{man8/x2goterminate-session.8 =&gt; man1/x2goterminate-session.1} (100%)
 rename x2goserver/man/{man8/x2goumount-session.8 =&gt; man1/x2goumount-session.1} (100%)
 create mode 120000 x2goserver/man/man1/x2goumount_session.1

The diff of changes is:
diff --git a/Makefile b/Makefile
index a9208da..bee6125 100755
--- a/Makefile
+++ b/Makefile
@@ -7,26 +7,32 @@ build: build-indep
 # make man2html build available from project's base folder...
 build_man2html:
 	cd x2goserver &amp;&amp; make $@
+	cd x2goserver-compat &amp;&amp; make $@
 	cd x2goserver-extensions &amp;&amp; make $@
 
 clean:
 	cd x2goserver &amp;&amp; make $@
+	cd x2goserver-compat &amp;&amp; make $@
 	cd x2goserver-extensions &amp;&amp; make $@
 
 build-arch:
 	cd x2goserver &amp;&amp; make $@
+	cd x2goserver-compat &amp;&amp; make $@
 	cd x2goserver-extensions &amp;&amp; make $@
 
 build-indep:
 	cd x2goserver &amp;&amp; make $@
+	cd x2goserver-compat &amp;&amp; make $@
 	cd x2goserver-extensions &amp;&amp; make $@
 
 install:
 	cd x2goserver &amp;&amp; make $@
+	cd x2goserver-compat &amp;&amp; make $@
 	cd x2goserver-extensions &amp;&amp; make $@
 
 uninstall:
 	cd x2goserver &amp;&amp; make $@
+	cd x2goserver-compat &amp;&amp; make $@
 	cd x2goserver-extensions &amp;&amp; make $@
 
 
diff --git a/Makefile.docupload b/Makefile.docupload
index 69cd63a..fece265 100644
--- a/Makefile.docupload
+++ b/Makefile.docupload
@@ -4,8 +4,9 @@
 
 VERSION=`head -n1 debian/changelog | sed 's,.*(\(.*\)).*,\1,' | cut -d&quot;-&quot; -f1`
 DOC_HOST=code.x2go.org
-DOC_PATH_1=/srv/sites/x2go.org/packages/doc/x2goserver/man/
-DOC_PATH_2=/srv/sites/x2go.org/packages/doc/x2goserver-extensions/man/
+DOC_PATCH_x2goserver=/srv/sites/x2go.org/packages/doc/x2goserver/man/
+DOC_PATCH_compat=/srv/sites/x2go.org/packages/doc/x2goserver-compat/man/
+DOC_PATCH_extensions=/srv/sites/x2go.org/packages/doc/x2goserver-extensions/man/
 DOC_USER=x2go-admin
 
 doc: docbuild docupload
@@ -14,9 +15,9 @@ docbuild:
 	make -f Makefile build_man2html
 
 docupload:
-	ssh -l${DOC_USER} ${DOC_HOST} &quot;{ mkdir -p ${DOC_PATH_1}; rm -Rfv ${DOC_PATH_1}/*; }&quot;
-	ssh -l${DOC_USER} ${DOC_HOST} &quot;{ mkdir -p ${DOC_PATH_2}; rm -Rfv ${DOC_PATH_2}/*; }&quot;
-	scp -r x2goserver/.build_man2html/html/* ${DOC_USER}@${DOC_HOST}:${DOC_PATH_1}/
-	scp -r x2goserver-extensions/.build_man2html/html/* ${DOC_USER}@${DOC_HOST}:${DOC_PATH_2}/
-
-
+	ssh -l${DOC_USER} ${DOC_HOST} &quot;{ mkdir -p ${DOC_PATCH_x2goserver}; rm -Rfv ${DOC_PATCH_x2goserver}/*; }&quot;
+	ssh -l${DOC_USER} ${DOC_HOST} &quot;{ mkdir -p ${DOC_PATCH_compat}; rm -Rfv ${DOC_PATCH_compat}/*; }&quot;
+	ssh -l${DOC_USER} ${DOC_HOST} &quot;{ mkdir -p ${DOC_PATCH_extensions}; rm -Rfv ${DOC_PATCH_extensions}/*; }&quot;
+	scp -r x2goserver/.build_man2html/html/* ${DOC_USER}@${DOC_HOST}:${DOC_PATCH_x2goserver}/
+	scp -r x2goserver-compat/.build_man2html/html/* ${DOC_USER}@${DOC_HOST}:${DOC_PATCH_compat}/
+	scp -r x2goserver-extensions/.build_man2html/html/* ${DOC_USER}@${DOC_HOST}:${DOC_PATCH_extensions}/
diff --git a/debian/control b/debian/control
index d8eabca..038d3d3 100644
--- a/debian/control
+++ b/debian/control
@@ -37,6 +37,8 @@ Recommends:
  x11-xserver-utils,
  xinit,
  x2goserver-extensions (= ${source:Version})
+Suggests:
+ x2goserver-compat (= ${source:Version})
 Breaks:
  x2goserver-one,
  x2goserver-home,
@@ -65,6 +67,23 @@ Description: X2go server daemon scripts
  of X2go make sure that you also have X2go server
  extensions package (x2goserver-extensions) installed.
 
+Package: x2goserver-compat
+Architecture: all
+Depends:
+ ${misc:Depends},
+ x2goserver (&gt;= ${source:Version}), x2goserver (&lt;&lt; ${source:Version}.1~)
+Description: X2go server daemon scripts (backwards compatitbity to old client versions)
+ X2go is a serverbased computing environment with
+    - session resuming
+    - low bandwith support
+    - LDAP support
+    - client side mass storage mounting support
+    - audio support
+    - authentication by smartcard and USB stick
+ .
+ This package contains compatitbility scripts to allow
+ old x2goclient versions to connect to your X2go server.
+
 Package: x2goserver-extensions
 Architecture: all
 Depends:
diff --git a/debian/x2goserver-compat.install b/debian/x2goserver-compat.install
new file mode 100644
index 0000000..b7ce8ba
--- /dev/null
+++ b/debian/x2goserver-compat.install
@@ -0,0 +1 @@
+x2goserver-compat/bin/x2go*                    /usr/bin/
diff --git a/debian/x2goserver-compat.manpages b/debian/x2goserver-compat.manpages
new file mode 100644
index 0000000..106369b
--- /dev/null
+++ b/debian/x2goserver-compat.manpages
@@ -0,0 +1 @@
+x2goserver-compat/man/man1/*
\ No newline at end of file
diff --git a/debian/x2goserver-extensions.manpages b/debian/x2goserver-extensions.manpages
index 1dec58d..f5e3174 100644
--- a/debian/x2goserver-extensions.manpages
+++ b/debian/x2goserver-extensions.manpages
@@ -1 +1 @@
-x2goserver-extensions/man/man8/*
\ No newline at end of file
+x2goserver-extensions/man/man1/*
\ No newline at end of file
diff --git a/debian/x2goserver.install b/debian/x2goserver.install
index 4b9097b..5f1395a 100644
--- a/debian/x2goserver.install
+++ b/debian/x2goserver.install
@@ -4,6 +4,5 @@ x2goserver/lib/x2go*                    /usr/lib/x2go/
 x2goserver/etc/x2gosql/sql              /etc/x2go/x2gosql/
 x2goserver/etc/x2goserver.conf          /etc/x2go/
 x2goserver/VERSION.x2goserver           /usr/share/x2go/versions/
-x2goserver/x2gosqlitewrapper            /usr/bin
-# compatibility
-x2goserver/compat/bin/x2go*             /usr/bin
+x2goserver/x2gosqlitewrapper            /usr/lib/x2go/
+
diff --git a/debian/x2goserver.lintian-overrides b/debian/x2goserver.lintian-overrides
new file mode 100644
index 0000000..637b7db
--- /dev/null
+++ b/debian/x2goserver.lintian-overrides
@@ -0,0 +1 @@
+x2goserver: breaks-without-version
diff --git a/debian/x2goserver.manpages b/debian/x2goserver.manpages
index 88720a8..d70a25f 100644
--- a/debian/x2goserver.manpages
+++ b/debian/x2goserver.manpages
@@ -1 +1,2 @@
+x2goserver/man/man1/*
 x2goserver/man/man8/*
\ No newline at end of file
diff --git a/debian/x2goserver.postinst b/debian/x2goserver.postinst
index 77730bd..f94a68a 100755
--- a/debian/x2goserver.postinst
+++ b/debian/x2goserver.postinst
@@ -57,11 +57,11 @@ case &quot;$1&quot; in
 
 		# we may be upgrading versions of x2goserver that had /usr/lib/x2go/x2gosqlitewrapper.pl set to setuid x2gouser.
 		dpkg-statoverride --remove /usr/lib/x2go/x2gosqlitewrapper.pl &amp;&amp; chown root:root /usr/lib/x2go/x2gosqlitewrapper.pl &amp;&amp; chmod 0755 /usr/lib/x2go/x2gosqlitewrapper.pl || true
-		# we may be upgrading versions of x2goserver that had /usr/bin/x2gosqlitewrapper set to setuid x2gouser.
+		# we may be upgrading versions of x2goserver that had /usr/bin/x2gosqlitewrapper set to setuid or setgid x2gouser.
 		dpkg-statoverride --remove /usr/bin/x2gosqlitewrapper &amp;&amp; chown root:root /usr/bin/x2gosqlitewrapper &amp;&amp; chmod 0755 /usr/bin/x2gosqlitewrapper || true
 
 		# the sqlite db has to be accessed as uid x2gouser
-		dpkg-statoverride --add --update root x2gouser 2755 /usr/bin/x2gosqlitewrapper || true
+		dpkg-statoverride --add --update root x2gouser 2755 /usr/lib/x2go/x2gosqlitewrapper || true
 		;;
 
 	abort-upgrade|abort-remove|abort-deconfigure)
diff --git a/x2goserver-extensions/Makefile b/x2goserver-compat/Makefile
similarity index 94%
copy from x2goserver-extensions/Makefile
copy to x2goserver-compat/Makefile
index ae6b3c1..7145f04 100755
--- a/x2goserver-extensions/Makefile
+++ b/x2goserver-compat/Makefile
@@ -73,7 +73,7 @@ install_man:
 install_version:
 	$(INSTALL_DIR) $(DESTDIR)$(SHAREDIR)
 	$(INSTALL_DIR) $(DESTDIR)$(SHAREDIR)/versions
-	$(INSTALL_FILE) VERSION.x2goserver-extensions     $(DESTDIR)$(SHAREDIR)/versions/VERSION.x2goserver-extensions
+	$(INSTALL_FILE) VERSION.x2goserver-compat     $(DESTDIR)$(SHAREDIR)/versions/VERSION.x2goserver-compat
 
 uninstall: uninstall_scripts uninstall_config uninstall_man uninstall_version
 
@@ -96,5 +96,5 @@ uninstall_man:
 	$(RM_DIR)  $(DESTDIR)$(MANDIR)
 
 uninstall_version:
-	$(RM_FILE) $(DESTDIR)$(SHAREDIR)/versions/VERSION.x2goserver-extensions
+	$(RM_FILE) $(DESTDIR)$(SHAREDIR)/versions/VERSION.x2goserver-compat
 	$(RM_DIR)  $(DESTDIR)$(SHAREDIR)/versions
diff --git a/x2goserver/compat/bin/x2gosuspend b/x2goserver-compat/bin/x2gosuspend
similarity index 100%
rename from x2goserver/compat/bin/x2gosuspend
rename to x2goserver-compat/bin/x2gosuspend
diff --git a/x2goserver/compat/bin/x2goterminate b/x2goserver-compat/bin/x2goterminate
similarity index 100%
rename from x2goserver/compat/bin/x2goterminate
rename to x2goserver-compat/bin/x2goterminate
diff --git a/x2goserver/compat/bin/x2goumount b/x2goserver-compat/bin/x2goumount
similarity index 100%
rename from x2goserver/compat/bin/x2goumount
rename to x2goserver-compat/bin/x2goumount
diff --git a/x2goserver-compat/man/man1/x2gosuspend.1 b/x2goserver-compat/man/man1/x2gosuspend.1
new file mode 100644
index 0000000..3348377
--- /dev/null
+++ b/x2goserver-compat/man/man1/x2gosuspend.1
@@ -0,0 +1,23 @@
+'\&quot; -*- coding: utf-8 -*-
+.if \n(.g .ds T&lt; \\FC
+.if \n(.g .ds T&gt; \\F[\n[.fam]]
+.de URL
+\\$2 \(la\\$1\(ra\\$3
+..
+.if \n(.g .mso www.tmac
+.TH x2gomount 1 &quot;18 May 2011&quot; &quot;Version 3.0.99.x&quot; &quot;X2go Server Tool&quot;
+.SH NAME
+x2gomount \- X2go Server Script (deprecated, shipped for compatibility)
+.SH SYNOPSIS
+'nh
+.fi
+.ad l
+x2gomount (deprecated)
+
+.SH DESCRIPTION
+\fBx2gomount\fR is a deprecated script belonging to X2go Server. The availability of this script
+is required to allow old local folder sharing to old \fBx2goclient\fR versions.
+.PP
+.SH AUTHOR
+This manual has been written by Mike Gabriel &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">mike.gabriel at das-netzwerkteam.de</A>&gt; for the X2go project
+(<A HREF="http://www.x2go.org">http://www.x2go.org</A>).
diff --git a/x2goserver-compat/man/man1/x2goterminate.1 b/x2goserver-compat/man/man1/x2goterminate.1
new file mode 100644
index 0000000..3348377
--- /dev/null
+++ b/x2goserver-compat/man/man1/x2goterminate.1
@@ -0,0 +1,23 @@
+'\&quot; -*- coding: utf-8 -*-
+.if \n(.g .ds T&lt; \\FC
+.if \n(.g .ds T&gt; \\F[\n[.fam]]
+.de URL
+\\$2 \(la\\$1\(ra\\$3
+..
+.if \n(.g .mso www.tmac
+.TH x2gomount 1 &quot;18 May 2011&quot; &quot;Version 3.0.99.x&quot; &quot;X2go Server Tool&quot;
+.SH NAME
+x2gomount \- X2go Server Script (deprecated, shipped for compatibility)
+.SH SYNOPSIS
+'nh
+.fi
+.ad l
+x2gomount (deprecated)
+
+.SH DESCRIPTION
+\fBx2gomount\fR is a deprecated script belonging to X2go Server. The availability of this script
+is required to allow old local folder sharing to old \fBx2goclient\fR versions.
+.PP
+.SH AUTHOR
+This manual has been written by Mike Gabriel &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">mike.gabriel at das-netzwerkteam.de</A>&gt; for the X2go project
+(<A HREF="http://www.x2go.org">http://www.x2go.org</A>).
diff --git a/x2goserver-compat/man/man1/x2goumount.1 b/x2goserver-compat/man/man1/x2goumount.1
new file mode 100644
index 0000000..3348377
--- /dev/null
+++ b/x2goserver-compat/man/man1/x2goumount.1
@@ -0,0 +1,23 @@
+'\&quot; -*- coding: utf-8 -*-
+.if \n(.g .ds T&lt; \\FC
+.if \n(.g .ds T&gt; \\F[\n[.fam]]
+.de URL
+\\$2 \(la\\$1\(ra\\$3
+..
+.if \n(.g .mso www.tmac
+.TH x2gomount 1 &quot;18 May 2011&quot; &quot;Version 3.0.99.x&quot; &quot;X2go Server Tool&quot;
+.SH NAME
+x2gomount \- X2go Server Script (deprecated, shipped for compatibility)
+.SH SYNOPSIS
+'nh
+.fi
+.ad l
+x2gomount (deprecated)
+
+.SH DESCRIPTION
+\fBx2gomount\fR is a deprecated script belonging to X2go Server. The availability of this script
+is required to allow old local folder sharing to old \fBx2goclient\fR versions.
+.PP
+.SH AUTHOR
+This manual has been written by Mike Gabriel &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">mike.gabriel at das-netzwerkteam.de</A>&gt; for the X2go project
+(<A HREF="http://www.x2go.org">http://www.x2go.org</A>).
diff --git a/x2goserver-extensions/man/man8/x2gosetkeyboard.8 b/x2goserver-extensions/man/man1/x2gosetkeyboard.1
similarity index 100%
rename from x2goserver-extensions/man/man8/x2gosetkeyboard.8
rename to x2goserver-extensions/man/man1/x2gosetkeyboard.1
diff --git a/x2goserver-extensions/man/man8/x2goversion.8 b/x2goserver-extensions/man/man1/x2goversion.1
similarity index 100%
rename from x2goserver-extensions/man/man8/x2goversion.8
rename to x2goserver-extensions/man/man1/x2goversion.1
diff --git a/x2goserver/bin/x2goumount_session b/x2goserver/bin/x2goumount_session
new file mode 120000
index 0000000..b33a4dc
--- /dev/null
+++ b/x2goserver/bin/x2goumount_session
@@ -0,0 +1 @@
+x2goumount-session
\ No newline at end of file
diff --git a/x2goserver/compat/bin/x2goumount_session b/x2goserver/compat/bin/x2goumount_session
deleted file mode 100755
index 5814b34..0000000
--- a/x2goserver/compat/bin/x2goumount_session
+++ /dev/null
@@ -1,24 +0,0 @@
-#!/bin/bash
-
-# Copyright (C) 2007-2011 X2go Project - <A HREF="http://wiki.x2go.org">http://wiki.x2go.org</A>
-#
-# This program is free software; you can redistribute it and/or modify
-# it under the terms of the GNU General Public License as published by
-# the Free Software Foundation; either version 2 of the License, or
-# (at your option) any later version.
-#
-# This program is distributed in the hope that it will be useful,
-# but WITHOUT ANY WARRANTY; without even the implied warranty of
-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
-# GNU General Public License for more details.
-#
-# You should have received a copy of the GNU General Public License
-# along with this program; if not, write to the
-# Free Software Foundation, Inc.,
-# 51 Franklin St, Fifth Floor, Boston, MA 02110-1301, USA.
-#
-# Copyright (C) 2007-2011  Oleksandr Shneyder &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">oleksandr.shneyder at obviously-nice.de</A>&gt;
-# Copyright (C) 2007-2011  Heinz-Markus Graesing &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">heinz-m.graesing at obviously-nice.de</A>&gt;
-
-# this script is here for reasons of backwards compatibility with older clients
-x2goumount-session $@
\ No newline at end of file
diff --git a/x2goserver/lib/x2godbwrapper.pm b/x2goserver/lib/x2godbwrapper.pm
index cf17bb4..943ac1c 100644
--- a/x2goserver/lib/x2godbwrapper.pm
+++ b/x2goserver/lib/x2godbwrapper.pm
@@ -26,6 +26,8 @@ use DBI;
 
 use POSIX;
 
+my $x2go_lib_path=`echo -n \$(dirname $0)/../lib/x2go`;
+
 my ($uname, $pass, $uid, $pgid, $quota, $comment, $gcos, $homedir, $shell, $expire) = getpwuid(getuid());
 
 my $Config = new Config::Simple(syntax=&gt;'ini');
@@ -98,7 +100,7 @@ sub dbsys_rmsessionsroot
 	}
 	if($backend eq 'sqlite')
 	{
-		`x2gosqlitewrapper rmsessionsroot $sid`;
+		`$x2go_lib_path/x2gosqlitewrapper rmsessionsroot $sid`;
 	}
 }
 
@@ -129,7 +131,7 @@ sub dbsys_listsessionsroot
 	}
 	if($backend eq 'sqlite')
 	{
-		return split(&quot;\n&quot;,`x2gosqlitewrapper listsessionsroot $server`);
+		return split(&quot;\n&quot;,`$x2go_lib_path/x2gosqlitewrapper listsessionsroot $server`);
 	}
 }
 
@@ -157,7 +159,7 @@ sub dbsys_listsessionsroot_all
 	}
 	if ($backend eq 'sqlite')
 	{
-		return split(&quot;\n&quot;,`x2gosqlitewrapper listsessionsroot_all`);
+		return split(&quot;\n&quot;,`$x2go_lib_path/x2gosqlitewrapper listsessionsroot_all`);
 	}
 }
 
@@ -182,7 +184,7 @@ sub dbsys_getmounts
 	}
 	if ($backend eq 'sqlite')
 	{
-		return split(&quot;\n&quot;,`x2gosqlitewrapper getmounts $sid`);
+		return split(&quot;\n&quot;,`$x2go_lib_path/x2gosqlitewrapper getmounts $sid`);
 	}
 }
 
@@ -207,7 +209,7 @@ sub db_getmounts
 	}
 	if ($backend eq 'sqlite')
 	{
-		return split(&quot;\n&quot;,`x2gosqlitewrapper getmounts $sid`);
+		return split(&quot;\n&quot;,`$x2go_lib_path/x2gosqlitewrapper getmounts $sid`);
 	}
 }
 
@@ -225,7 +227,7 @@ sub db_deletemount
 	}
 	if ($backend eq 'sqlite')
 	{
-		`x2gosqlitewrapper deletemount $sid \&quot;$path\&quot;`;
+		`$x2go_lib_path/x2gosqlitewrapper deletemount $sid \&quot;$path\&quot;`;
 	}
 }
 
@@ -249,7 +251,7 @@ sub db_insertmount
 	}
 	if ($backend eq 'sqlite')
 	{
-		if( `x2gosqlitewrapper insertmount $sid \&quot;$path\&quot; $client` eq &quot;ok&quot;)
+		if( `$x2go_lib_path/x2gosqlitewrapper insertmount $sid \&quot;$path\&quot; $client` eq &quot;ok&quot;)
 		{
 			$res_ok=1;
 		}
@@ -272,10 +274,10 @@ sub db_insertsession
 	}
 	if ($backend eq 'sqlite')
 	{
-		my $err=`x2gosqlitewrapper insertsession $display $server $sid`;
+		my $err=`$x2go_lib_path/x2gosqlitewrapper insertsession $display $server $sid`;
 		if ($err ne &quot;ok&quot;)
 		{
-			die &quot;$err: x2gosqlitewrapper insertsession $display $server $sid&quot;;
+			die &quot;$err: $x2go_lib_path/x2gosqlitewrapper insertsession $display $server $sid&quot;;
 		}
 	}
 }
@@ -301,7 +303,7 @@ sub db_createsession
 	}
 	if ($backend eq 'sqlite')
 	{
-		my $err= `x2gosqlitewrapper createsession $cookie $pid $client $gr_port $snd_port $fs_port $sid`;
+		my $err= `$x2go_lib_path/x2gosqlitewrapper createsession $cookie $pid $client $gr_port $snd_port $fs_port $sid`;
 		if ($err ne &quot;ok&quot;)
 		{
 			die $err;
@@ -324,7 +326,7 @@ sub db_insertport
 	}
 	if ($backend eq 'sqlite')
 	{
-		`x2gosqlitewrapper insertport $server $sid $sshport`;
+		`$x2go_lib_path/x2gosqlitewrapper insertport $server $sid $sshport`;
 	}
 }
 
@@ -342,7 +344,7 @@ sub db_resume
 	}
 	if ($backend eq 'sqlite')
 	{
-		`x2gosqlitewrapper resume $client $sid`;
+		`$x2go_lib_path/x2gosqlitewrapper resume $client $sid`;
 	}
 }
 
@@ -360,7 +362,7 @@ sub db_changestatus
 	}
 	if ($backend eq 'sqlite')
 	{
-		`x2gosqlitewrapper changestatus $status $sid`;
+		`$x2go_lib_path/x2gosqlitewrapper changestatus $status $sid`;
 	}
 }
 
@@ -386,7 +388,7 @@ sub db_getdisplays
 	}
 	if ($backend eq 'sqlite')
 	{
-		return split(&quot;\n&quot;,`x2gosqlitewrapper getdisplays $server`);
+		return split(&quot;\n&quot;,`$x2go_lib_path/x2gosqlitewrapper getdisplays $server`);
 	}
 }
 
@@ -412,7 +414,7 @@ sub db_getports
 	}
 	if ($backend eq 'sqlite')
 	{
-		return split(&quot;\n&quot;,`x2gosqlitewrapper getports $server`);
+		return split(&quot;\n&quot;,`$x2go_lib_path/x2gosqlitewrapper getports $server`);
 	}
 }
 
@@ -436,7 +438,7 @@ sub db_getservers
 	}
 		if ($backend eq 'sqlite')
 	{
-		return split(&quot;\n&quot;,`x2gosqlitewrapper getservers`);
+		return split(&quot;\n&quot;,`$x2go_lib_path/x2gosqlitewrapper getservers`);
 	}
 }
 
@@ -461,7 +463,7 @@ sub db_getagent
 	}
 	if($backend eq 'sqlite')
 	{
-		$agent=`x2gosqlitewrapper getagent $sid`;
+		$agent=`$x2go_lib_path/x2gosqlitewrapper getagent $sid`;
 	}
 	return $agent;
 }
@@ -487,7 +489,7 @@ sub db_getdisplay
 	}
 	if ($backend eq 'sqlite')
 	{
-		$display=`x2gosqlitewrapper getdisplay $sid`;
+		$display=`$x2go_lib_path/x2gosqlitewrapper getdisplay $sid`;
 	}
 	return $display;
 }
@@ -518,7 +520,7 @@ sub db_listsessions
 	}
 	if ($backend eq 'sqlite')
 	{
-		return split(&quot;\n&quot;,`x2gosqlitewrapper listsessions $server`);
+		return split(&quot;\n&quot;,`$x2go_lib_path/x2gosqlitewrapper listsessions $server`);
 	}
 }
 
@@ -547,6 +549,6 @@ sub db_listsessions_all
 	}
 	if ($backend eq 'sqlite')
 	{
-		return split(&quot;\n&quot;,`x2gosqlitewrapper listsessions_all`);
+		return split(&quot;\n&quot;,`$x2go_lib_path/x2gosqlitewrapper listsessions_all`);
 	}
 }
diff --git a/x2goserver/man/man8/x2gocmdexitmessage.8 b/x2goserver/man/man1/x2gocmdexitmessage.1
similarity index 100%
rename from x2goserver/man/man8/x2gocmdexitmessage.8
rename to x2goserver/man/man1/x2gocmdexitmessage.1
diff --git a/x2goserver/man/man8/x2golistdesktops.8 b/x2goserver/man/man1/x2golistdesktops.1
similarity index 100%
rename from x2goserver/man/man8/x2golistdesktops.8
rename to x2goserver/man/man1/x2golistdesktops.1
diff --git a/x2goserver/man/man8/x2golistsessions.8 b/x2goserver/man/man1/x2golistsessions.1
similarity index 100%
rename from x2goserver/man/man8/x2golistsessions.8
rename to x2goserver/man/man1/x2golistsessions.1
diff --git a/x2goserver/man/man8/x2gomountdirs.8 b/x2goserver/man/man1/x2gomountdirs.1
similarity index 100%
rename from x2goserver/man/man8/x2gomountdirs.8
rename to x2goserver/man/man1/x2gomountdirs.1
diff --git a/x2goserver/man/man8/x2goprint.8 b/x2goserver/man/man1/x2goprint.1
similarity index 100%
rename from x2goserver/man/man8/x2goprint.8
rename to x2goserver/man/man1/x2goprint.1
diff --git a/x2goserver/man/man8/x2goresume-session.8 b/x2goserver/man/man1/x2goresume-session.1
similarity index 100%
rename from x2goserver/man/man8/x2goresume-session.8
rename to x2goserver/man/man1/x2goresume-session.1
diff --git a/x2goserver/man/man8/x2goruncommand.8 b/x2goserver/man/man1/x2goruncommand.1
similarity index 100%
rename from x2goserver/man/man8/x2goruncommand.8
rename to x2goserver/man/man1/x2goruncommand.1
diff --git a/x2goserver/man/man8/x2goshowblocks.8 b/x2goserver/man/man1/x2goshowblocks.1
similarity index 100%
rename from x2goserver/man/man8/x2goshowblocks.8
rename to x2goserver/man/man1/x2goshowblocks.1
diff --git a/x2goserver/man/man8/x2gostartagent.8 b/x2goserver/man/man1/x2gostartagent.1
similarity index 100%
rename from x2goserver/man/man8/x2gostartagent.8
rename to x2goserver/man/man1/x2gostartagent.1
diff --git a/x2goserver/man/man8/x2gosuspend-session.8 b/x2goserver/man/man1/x2gosuspend-session.1
similarity index 100%
rename from x2goserver/man/man8/x2gosuspend-session.8
rename to x2goserver/man/man1/x2gosuspend-session.1
diff --git a/x2goserver/man/man8/x2goterminate-session.8 b/x2goserver/man/man1/x2goterminate-session.1
similarity index 100%
rename from x2goserver/man/man8/x2goterminate-session.8
rename to x2goserver/man/man1/x2goterminate-session.1
diff --git a/x2goserver/man/man8/x2goumount-session.8 b/x2goserver/man/man1/x2goumount-session.1
similarity index 100%
rename from x2goserver/man/man8/x2goumount-session.8
rename to x2goserver/man/man1/x2goumount-session.1
diff --git a/x2goserver/man/man1/x2goumount_session.1 b/x2goserver/man/man1/x2goumount_session.1
new file mode 120000
index 0000000..7417601
--- /dev/null
+++ b/x2goserver/man/man1/x2goumount_session.1
@@ -0,0 +1 @@
+x2goumount-session.1
\ No newline at end of file


hooks/post-receive
-- 
x2goserver.git (X2go Server)

This is an automated email from the git hooks/post-receive script. It was
generated because a ref change was pushed to the repository containing
the project &quot;x2goserver.git&quot; (X2go Server).


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001286.html">[X2go-Commits] x2goserver.git - master (branch) updated:	3.0.99-2-135-gc1b3c93
</A></li>
	<LI>Next message: <A HREF="001288.html">[X2go-Commits] x2goserver.git - master (branch) updated:	3.0.99-2-142-gcf74c47
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1287">[ date ]</a>
              <a href="thread.html#1287">[ thread ]</a>
              <a href="subject.html#1287">[ subject ]</a>
              <a href="author.html#1287">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/x2go-commits">More information about the X2go-commits
mailing list</a><br>
</body></html>
