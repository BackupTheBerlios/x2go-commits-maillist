<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [X2go-Commits] pyhoca-gui.git - master (branch) updated:	0.1.0.10-218-g77c8b64
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/x2go-commits/2012-April/index.html" >
   <LINK REL="made" HREF="mailto:x2go-commits%40lists.berlios.de?Subject=Re%3A%20%5BX2go-Commits%5D%20pyhoca-gui.git%20-%20master%20%28branch%29%20updated%3A%0A%090.1.0.10-218-g77c8b64&In-Reply-To=%3C20120419201401.B94E25DB19%40ymir%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002756.html">
   <LINK REL="Next"  HREF="002758.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[X2go-Commits] pyhoca-gui.git - master (branch) updated:	0.1.0.10-218-g77c8b64</H1>
    <B>X2Go dev team</B> 
    <A HREF="mailto:x2go-commits%40lists.berlios.de?Subject=Re%3A%20%5BX2go-Commits%5D%20pyhoca-gui.git%20-%20master%20%28branch%29%20updated%3A%0A%090.1.0.10-218-g77c8b64&In-Reply-To=%3C20120419201401.B94E25DB19%40ymir%3E"
       TITLE="[X2go-Commits] pyhoca-gui.git - master (branch) updated:	0.1.0.10-218-g77c8b64">git-admin at x2go.org
       </A><BR>
    <I>Thu Apr 19 22:14:01 CEST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="002756.html">[X2go-Commits] x2goserver.git - master (branch) updated:	3.1.1.0-6-g91c4bb8
</A></li>
        <LI>Next message: <A HREF="002758.html">[X2go-Commits] pyhoca-gui.git - master (branch) updated:	0.1.0.10-219-g5c29aff
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2757">[ date ]</a>
              <a href="thread.html#2757">[ thread ]</a>
              <a href="subject.html#2757">[ subject ]</a>
              <a href="author.html#2757">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>The branch, master has been updated
       via  77c8b6464aa3c845d4b8cdb0d1794c5b57d9ade0 (commit)
       via  703c8897df7a2ac61213a1ad607cdaf9f0ca4292 (commit)
      from  09b9d09489e6fc4c325bd0a73ac0b9b340edb933 (commit)

Those revisions listed above that are new to this repository have
not appeared on any other notification email; so we list those
revisions in full, below.

- Log -----------------------------------------------------------------
commit 77c8b6464aa3c845d4b8cdb0d1794c5b57d9ade0
Author: Mike Gabriel &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">mike.gabriel at das-netzwerkteam.de</A>&gt;
Date:   Thu Apr 19 22:13:56 2012 +0200

    Fix initialization of published applications sessions.

commit 703c8897df7a2ac61213a1ad607cdaf9f0ca4292
Author: Mike Gabriel &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">mike.gabriel at das-netzwerkteam.de</A>&gt;
Date:   Thu Apr 19 22:13:45 2012 +0200

    drop outdated .mo files

-----------------------------------------------------------------------

Summary of changes:
 build/mo/bg/LC_MESSAGES/pyhoca-gui.mo    |  Bin 541 -&gt; 0 bytes
 build/mo/de/LC_MESSAGES/pyhoca-gui.mo    |  Bin 22802 -&gt; 0 bytes
 build/mo/en/LC_MESSAGES/pyhoca-gui.mo    |  Bin 21368 -&gt; 0 bytes
 build/mo/es/LC_MESSAGES/pyhoca-gui.mo    |  Bin 17738 -&gt; 0 bytes
 build/mo/nb_NO/LC_MESSAGES/pyhoca-gui.mo |  Bin 18323 -&gt; 0 bytes
 build/mo/nl/LC_MESSAGES/pyhoca-gui.mo    |  Bin 21739 -&gt; 0 bytes
 build/mo/sv/LC_MESSAGES/pyhoca-gui.mo    |  Bin 21029 -&gt; 0 bytes
 debian/changelog                         |    1 +
 pyhoca/wxgui/frontend.py                 |   57 ++++++++++++++++--------------
 9 files changed, 31 insertions(+), 27 deletions(-)
 delete mode 100644 build/mo/bg/LC_MESSAGES/pyhoca-gui.mo
 delete mode 100644 build/mo/de/LC_MESSAGES/pyhoca-gui.mo
 delete mode 100644 build/mo/en/LC_MESSAGES/pyhoca-gui.mo
 delete mode 100644 build/mo/es/LC_MESSAGES/pyhoca-gui.mo
 delete mode 100644 build/mo/nb_NO/LC_MESSAGES/pyhoca-gui.mo
 delete mode 100644 build/mo/nl/LC_MESSAGES/pyhoca-gui.mo
 delete mode 100644 build/mo/sv/LC_MESSAGES/pyhoca-gui.mo

The diff of changes is:
diff --git a/build/mo/bg/LC_MESSAGES/pyhoca-gui.mo b/build/mo/bg/LC_MESSAGES/pyhoca-gui.mo
deleted file mode 100644
index 3cb4920..0000000
Binary files a/build/mo/bg/LC_MESSAGES/pyhoca-gui.mo and /dev/null differ
diff --git a/build/mo/de/LC_MESSAGES/pyhoca-gui.mo b/build/mo/de/LC_MESSAGES/pyhoca-gui.mo
deleted file mode 100644
index 0326859..0000000
Binary files a/build/mo/de/LC_MESSAGES/pyhoca-gui.mo and /dev/null differ
diff --git a/build/mo/en/LC_MESSAGES/pyhoca-gui.mo b/build/mo/en/LC_MESSAGES/pyhoca-gui.mo
deleted file mode 100644
index feb061c..0000000
Binary files a/build/mo/en/LC_MESSAGES/pyhoca-gui.mo and /dev/null differ
diff --git a/build/mo/es/LC_MESSAGES/pyhoca-gui.mo b/build/mo/es/LC_MESSAGES/pyhoca-gui.mo
deleted file mode 100644
index 3a60dc3..0000000
Binary files a/build/mo/es/LC_MESSAGES/pyhoca-gui.mo and /dev/null differ
diff --git a/build/mo/nb_NO/LC_MESSAGES/pyhoca-gui.mo b/build/mo/nb_NO/LC_MESSAGES/pyhoca-gui.mo
deleted file mode 100644
index 73bca6c..0000000
Binary files a/build/mo/nb_NO/LC_MESSAGES/pyhoca-gui.mo and /dev/null differ
diff --git a/build/mo/nl/LC_MESSAGES/pyhoca-gui.mo b/build/mo/nl/LC_MESSAGES/pyhoca-gui.mo
deleted file mode 100644
index e9f7af8..0000000
Binary files a/build/mo/nl/LC_MESSAGES/pyhoca-gui.mo and /dev/null differ
diff --git a/build/mo/sv/LC_MESSAGES/pyhoca-gui.mo b/build/mo/sv/LC_MESSAGES/pyhoca-gui.mo
deleted file mode 100644
index 0eeede9..0000000
Binary files a/build/mo/sv/LC_MESSAGES/pyhoca-gui.mo and /dev/null differ
diff --git a/debian/changelog b/debian/changelog
index 0e297b8..41b455a 100644
--- a/debian/changelog
+++ b/debian/changelog
@@ -111,6 +111,7 @@ pyhoca-gui (0.1.2.0-0~x2go1) UNRELEASED; urgency=low
     - When packaging Windows binary with py2exe, use VcXsrv-1.12.0.1.
     - Fix missing declaration of notificationmessage_NotifierPopup.timeout.
     - Make sure the log file on Windows does not grow limitlessly.
+    - Fix initialization of published applications sessions.
   * Depend on Python X2Go 0.1.2.0.
   * Install GNOME icons via dh_links.
   * Install X2Go icons with explicit install paths.
diff --git a/pyhoca/wxgui/frontend.py b/pyhoca/wxgui/frontend.py
index e3eec79..76d30d5 100644
--- a/pyhoca/wxgui/frontend.py
+++ b/pyhoca/wxgui/frontend.py
@@ -392,36 +392,39 @@ class PyHocaGUI(wx.App, x2go.X2goClient):
 
             # suspend any running session that is in published applications mode (unless we are already associated with it)
             session_list = self._X2goClient__list_sessions(session_uuid=session_uuid, profile_name=profile_name)
-            pubapp_sessions_running = [ _sn for _sn in session_list.keys() if session_list[_sn].is_running() and session_list[_sn].is_published_applications_provider() ]
-            for session_name in pubapp_sessions_running:
+            if session_list:
+                pubapp_sessions_running = [ _sn for _sn in session_list.keys() if session_list[_sn].is_running() and session_list[_sn].is_published_applications_provider() ]
+                for session_name in pubapp_sessions_running:
 
-                self.suspend_session(session_uuid=connected_session(), session_name=session_name)
+                    self.suspend_session(session_uuid=connected_session(), session_name=session_name)
 
-            # resume first available session in published applications mode... (from PyHoca-GUI's perspective there should only
-            # be one)
-            if pubapp_sessions_running:
-                gevent.sleep(1)
+                # resume first available session in published applications mode... (from PyHoca-GUI's perspective there should only
+                # be one)
+                if pubapp_sessions_running:
+                    gevent.sleep(1)
             session_list = self._X2goClient__list_sessions(session_uuid=session_uuid, profile_name=profile_name, refresh_cache=True)
-            pubapp_sessions_suspended = [ _sn for _sn in session_list.keys() if session_list[_sn].is_suspended() and session_list[_sn].is_published_applications_provider() ]
-
-            for session_name in pubapp_sessions_suspended:
-
-                if not pubapp_session_resumed:
-                    # resume one single session in published applications mode immediately, if available
-                    pubapp_session = self._X2goClient__register_session(profile_name=profile_name,
-                                                                        published_applications=True,
-                                                                        cmd='PUBLISHED',
-                                                                        session_type='published',
-                                                                        session_name=session_name,
-                                                                        published_applications_no_submenus=self.args.published_applications_no_submenus,
-                                                                        return_object=True
-                                                                       )
-                    pubapp_session_resumed = pubapp_session.resume()
-                elif session_list[session_name].is_published_applications_provider() and pubapp_session_resumed:
-
-                    # if there are more then one published applications mode sessions (in suspended state), terminate them now...
-
-                    connected_session.terminate(session_name=session_name)
+
+            if session_list:
+                pubapp_sessions_suspended = [ _sn for _sn in session_list.keys() if session_list[_sn].is_suspended() and session_list[_sn].is_published_applications_provider() ]
+
+                for session_name in pubapp_sessions_suspended:
+
+                    if not pubapp_session_resumed:
+                        # resume one single session in published applications mode immediately, if available
+                        pubapp_session = self._X2goClient__register_session(profile_name=profile_name,
+                                                                            published_applications=True,
+                                                                            cmd='PUBLISHED',
+                                                                            session_type='published',
+                                                                            session_name=session_name,
+                                                                            published_applications_no_submenus=self.args.published_applications_no_submenus,
+                                                                            return_object=True
+                                                                           )
+                        pubapp_session_resumed = pubapp_session.resume()
+                    elif session_list[session_name].is_published_applications_provider() and pubapp_session_resumed:
+
+                        # if there are more then one published applications mode sessions (in suspended state), terminate them now...
+
+                        connected_session.terminate(session_name=session_name)
 
             if not pubapp_session_resumed:
 


hooks/post-receive
-- 
pyhoca-gui.git (Python X2Go Client (wxPython GUI))

This is an automated email from the git hooks/post-receive script. It was
generated because a ref change was pushed to the repository containing
the project &quot;pyhoca-gui.git&quot; (Python X2Go Client (wxPython GUI)).

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002756.html">[X2go-Commits] x2goserver.git - master (branch) updated:	3.1.1.0-6-g91c4bb8
</A></li>
	<LI>Next message: <A HREF="002758.html">[X2go-Commits] pyhoca-gui.git - master (branch) updated:	0.1.0.10-219-g5c29aff
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2757">[ date ]</a>
              <a href="thread.html#2757">[ thread ]</a>
              <a href="subject.html#2757">[ subject ]</a>
              <a href="author.html#2757">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/x2go-commits">More information about the X2go-commits
mailing list</a><br>
</body></html>
