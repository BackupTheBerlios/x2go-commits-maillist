<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [X2go-Commits] x2gothinclient.git - master (branch) updated:	1.0.1.8-33-gcacfdec
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/x2go-commits/2012-September/index.html" >
   <LINK REL="made" HREF="mailto:x2go-commits%40lists.berlios.de?Subject=Re%3A%20%5BX2go-Commits%5D%20x2gothinclient.git%20-%20master%20%28branch%29%20updated%3A%0A%091.0.1.8-33-gcacfdec&In-Reply-To=%3C20120905200439.BA77B5DB1F%40ymir%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003140.html">
   <LINK REL="Next"  HREF="003142.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[X2go-Commits] x2gothinclient.git - master (branch) updated:	1.0.1.8-33-gcacfdec</H1>
    <B>X2Go dev team</B> 
    <A HREF="mailto:x2go-commits%40lists.berlios.de?Subject=Re%3A%20%5BX2go-Commits%5D%20x2gothinclient.git%20-%20master%20%28branch%29%20updated%3A%0A%091.0.1.8-33-gcacfdec&In-Reply-To=%3C20120905200439.BA77B5DB1F%40ymir%3E"
       TITLE="[X2go-Commits] x2gothinclient.git - master (branch) updated:	1.0.1.8-33-gcacfdec">git-admin at x2go.org
       </A><BR>
    <I>Wed Sep  5 22:04:39 CEST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="003140.html">[X2go-Commits] x2goclient.git - master (branch) updated:	3.99.2.2-28-g969d3fe
</A></li>
        <LI>Next message: <A HREF="003142.html">[X2go-Commits] x2gothinclient.git - master (branch) updated:	1.0.1.8-35-g9a86547
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3141">[ date ]</a>
              <a href="thread.html#3141">[ thread ]</a>
              <a href="subject.html#3141">[ subject ]</a>
              <a href="author.html#3141">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>The branch, master has been updated
       via  cacfdec77e11e87ee1d8b1fcff16d9014b84e582 (commit)
       via  0fee6764224d9ac31cfc0e14186eec78dc5a6252 (commit)
       via  b6ad3a0b529472d27b108ad0efe7f1601d660c4e (commit)
      from  9e756ed8695081abd79ff484e0e9dc4fc675b8de (commit)

Those revisions listed above that are new to this repository have
not appeared on any other notification email; so we list those
revisions in full, below.

- Log -----------------------------------------------------------------
commit cacfdec77e11e87ee1d8b1fcff16d9014b84e582
Author: Mike Gabriel &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">mike.gabriel at das-netzwerkteam.de</A>&gt;
Date:   Wed Sep 5 22:04:34 2012 +0200

    Add direct FreeRDP support for defaults TCE installation.

commit 0fee6764224d9ac31cfc0e14186eec78dc5a6252
Author: Mike Gabriel &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">mike.gabriel at das-netzwerkteam.de</A>&gt;
Date:   Wed Sep 5 21:46:51 2012 +0200

    Move configuration template from /usr/share/tce to /usr/share/tce/etc.

commit b6ad3a0b529472d27b108ad0efe7f1601d660c4e
Author: Mike Gabriel &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">mike.gabriel at das-netzwerkteam.de</A>&gt;
Date:   Wed Sep 5 21:36:31 2012 +0200

    x2gothinlient_shell: typo fix

-----------------------------------------------------------------------

Summary of changes:
 debian/changelog                                   |    2 +
 debian/control                                     |    2 +-
 debian/x2gothinclientmanagement.install            |    3 +-
 .../sbin/x2gothinclient_create                     |   11 ++-
 x2gothinclientmanagement/sbin/x2gothinclient_shell |    2 +-
 .../sbin/x2gothinclient_update                     |    4 +
 .../share/{ =&gt; etc}/x2goclient-background.svg      |    0
 .../share/{ =&gt; etc}/x2gothinclient_init            |    1 +
 .../share/etc/x2gothinclient_sessions              |   68 ++++++++++++++++++++
 .../share/{ =&gt; etc}/x2gothinclient_start           |    0
 .../share/x2gothinclient_sessions                  |   38 -----------
 11 files changed, 85 insertions(+), 46 deletions(-)
 rename x2gothinclientmanagement/share/{ =&gt; etc}/x2goclient-background.svg (100%)
 rename x2gothinclientmanagement/share/{ =&gt; etc}/x2gothinclient_init (90%)
 create mode 100644 x2gothinclientmanagement/share/etc/x2gothinclient_sessions
 rename x2gothinclientmanagement/share/{ =&gt; etc}/x2gothinclient_start (100%)
 delete mode 100644 x2gothinclientmanagement/share/x2gothinclient_sessions

The diff of changes is:
diff --git a/debian/changelog b/debian/changelog
index 8b26b4f..4dd824e 100644
--- a/debian/changelog
+++ b/debian/changelog
@@ -35,6 +35,8 @@ x2gothinclient (1.0.99.1-0~x2go1) UNRELEASED; urgency=low
       of chroot. They are not needed during TCE boot.
     - Make the SSH daemon listen on IPv4 localhost address only.
     - Provide /dev/pts inside chroot.
+    - Move configuration template from /usr/share/tce to /usr/share/tce/etc.
+    - Add direct FreeRDP support for defaults TCE installation.
 
  -- Mike Gabriel &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">mike.gabriel at das-netzwerkteam.de</A>&gt;  Fri, 10 Aug 2012 14:13:49 +0200
 
diff --git a/debian/control b/debian/control
index c87e6fc..f170d4c 100644
--- a/debian/control
+++ b/debian/control
@@ -47,7 +47,7 @@ Architecture: all
 Depends:
  ${misc:Depends},
  psmisc,
- x2goclient (&gt;= 3.99.1.1-0~),
+ x2goclient (&gt;= 3.99.3.0-0~),
  xauth,
  xinit,
  locales,
diff --git a/debian/x2gothinclientmanagement.install b/debian/x2gothinclientmanagement.install
index 98eca2a..ee16044 100644
--- a/debian/x2gothinclientmanagement.install
+++ b/debian/x2gothinclientmanagement.install
@@ -1,5 +1,4 @@
 x2gothinclientmanagement/sbin/x2gothinclient_*                 usr/sbin/
 x2gothinclientmanagement/etc/x2gothinclient_*                  etc/x2go/
-x2gothinclientmanagement/share/x2gothinclient_*                usr/share/x2go/tce/
-x2gothinclientmanagement/share/x2goclient-background.svg       usr/share/x2go/tce/
+x2gothinclientmanagement/share/etc/                            usr/share/x2go/tce/
 x2gothinclientmanagement/share/tftpboot                        usr/share/x2go/tce/
diff --git a/x2gothinclientmanagement/sbin/x2gothinclient_create b/x2gothinclientmanagement/sbin/x2gothinclient_create
index 41c335b..b8f0c7e 100755
--- a/x2gothinclientmanagement/sbin/x2gothinclient_create
+++ b/x2gothinclientmanagement/sbin/x2gothinclient_create
@@ -63,10 +63,13 @@ read
 export LANG=C
 
 mkdir -p $TC_CONFIG
-test -f $TC_CONFIG/x2gothinclient_init || cp $SHAREDIR/x2gothinclient_init $TC_CONFIG
-test -f $TC_CONFIG/x2gothinclient_start || cp $SHAREDIR/x2gothinclient_start $TC_CONFIG
-test -f $TC_CONFIG/x2gothinclient_sessions || cp $SHAREDIR/x2gothinclient_sessions $TC_CONFIG
-test -f $TC_CONFIG/x2goclient-background.svg || cp $SHAREDIR/x2goclient-background.svg $TC_CONFIG
+test -f $TC_CONFIG/x2gothinclient_init || cp $SHAREDIR/etc/x2gothinclient_init $TC_CONFIG
+test -f $TC_CONFIG/x2gothinclient_start || cp $SHAREDIR/etc/x2gothinclient_start $TC_CONFIG
+test -f $TC_CONFIG/x2gothinclient_sessions || cp $SHAREDIR/etc/x2gothinclient_sessions $TC_CONFIG
+test -f $TC_CONFIG/x2goclient-background.svg || cp $SHAREDIR/etc/x2goclient-background.svg $TC_CONFIG
+
+mkdir -p $TC_CONFIG/freerdp
+test -f $TC_CONFIG/freerdp/known_hosts || echo &quot;# X2Go TCE: validate allowed RDP servers with their fingerprints through this file&quot; &gt; $TC_CONFIG/known_hosts
 
 apt-get install debootstrap
 mkdir -p $TC_CHROOT
diff --git a/x2gothinclientmanagement/sbin/x2gothinclient_shell b/x2gothinclientmanagement/sbin/x2gothinclient_shell
index 0ecb1aa..cb9fab6 100755
--- a/x2gothinclientmanagement/sbin/x2gothinclient_shell
+++ b/x2gothinclientmanagement/sbin/x2gothinclient_shell
@@ -98,7 +98,7 @@ chmod u+x &quot;$TC_CHROOT/x2go_tce_shell.sh&quot;
 mkdir -p $TC_CHROOT/{proc,dev/pts,sys}
 mount -tproc proc $TC_CHROOT/proc || true
 mount -tsysfs sys $TC_CHROOT/sys || true
-mount -tdevts devts $TC_CHROOT/dev/pts || true
+mount -tdevpts devts $TC_CHROOT/dev/pts || true
 
 chroot &quot;$TC_CHROOT&quot; /x2go_tce_shell.sh
 
diff --git a/x2gothinclientmanagement/sbin/x2gothinclient_update b/x2gothinclientmanagement/sbin/x2gothinclient_update
index 24f2d8b..91675fe 100755
--- a/x2gothinclientmanagement/sbin/x2gothinclient_update
+++ b/x2gothinclientmanagement/sbin/x2gothinclient_update
@@ -79,5 +79,9 @@ if test -f $TC_CONFIG/x2goclient-background.svg; then
 	chmod a+rx $TC_CHROOT/etc/x2go/x2goclient-background.svg
 fi
 
+if test -f $TC_CONFIG/freerdp/known_hosts; then
+	cp -v &quot;$TC_CONFIG/freerdp/known_hosts&quot; &quot;$TC_CHROOT/etc/x2go/freerdp/known_hosts&quot;
+fi
+
 echo
 
diff --git a/x2gothinclientmanagement/share/x2goclient-background.svg b/x2gothinclientmanagement/share/etc/x2goclient-background.svg
similarity index 100%
rename from x2gothinclientmanagement/share/x2goclient-background.svg
rename to x2gothinclientmanagement/share/etc/x2goclient-background.svg
diff --git a/x2gothinclientmanagement/share/x2gothinclient_init b/x2gothinclientmanagement/share/etc/x2gothinclient_init
similarity index 90%
rename from x2gothinclientmanagement/share/x2gothinclient_init
rename to x2gothinclientmanagement/share/etc/x2gothinclient_init
index 60a1b23..5b65a98 100755
--- a/x2gothinclientmanagement/share/x2gothinclient_init
+++ b/x2gothinclientmanagement/share/etc/x2gothinclient_init
@@ -23,6 +23,7 @@
 mkdir -p /home/x2goclient
 mkdir -p /home/x2goclient/.x2goclient
 test -e /etc/x2go/x2gothinclient_sessions &amp;&amp; cp /etc/x2go/x2gothinclient_sessions /home/x2goclient/.x2goclient/sessions
+test -e /etc/x2go/freerdp/known_hosts &amp;&amp; mkdir /home/x2goclient/.freerdp &amp;&amp; cp /etc/x2go/freerdp/known_hosts /home/x2goclient/.freerdp/known_hosts
 mkdir -p /home/x2goclient/.kde
 mkdir -p /home/x2goclient/.kde/socket-`cat /etc/hostname`
 mkdir -p /home/x2goclient/export
diff --git a/x2gothinclientmanagement/share/etc/x2gothinclient_sessions b/x2gothinclientmanagement/share/etc/x2gothinclient_sessions
new file mode 100644
index 0000000..b259c7d
--- /dev/null
+++ b/x2gothinclientmanagement/share/etc/x2gothinclient_sessions
@@ -0,0 +1,68 @@
+[20100623163928371]
+defsndport = false
+useiconv = false
+iconvfrom = ISO8859-15
+height = 768
+export = 
+speed = 4
+fullscreen = true
+layout = de
+width = 1024
+quality = 9
+xdmcpserver = localhost
+soundtunnel = 1
+rdpoptions = 
+soundsystem = pulse
+print = 1
+type = pc105/de
+sndport = 4713
+usekbd = true
+fstunnel = true
+applications = OFFICE, WWWBROWSER, MAILCLIENT, TERMINAL
+host = 192.168.0.254
+link = ADSL
+user = &lt;USER&gt;
+key = 
+startsoundsystem = false
+icon =
+sound = true
+rootless = false
+name = X2Go.EXAMPLE
+iconvto = UTF-8
+rdpserver = 
+useexports = true
+command = GNOME
+dpi = 96
+sshport = 22
+setdpi = false
+pack = 16m-jpeg
+
+[20120607130604224872]
+height = 768
+export =
+fullscreen = true
+layout = us
+useexports = 1
+width = 1024
+speed = 4
+rdpoptions =
+soundsystem = pulse
+print = true
+type = pc105/us
+sndport = 4713
+usekbd = true
+host = rdpserver.your-intranet.local
+multidisp=false
+sound=false
+rootless=false
+name=DirectRDP.Example
+command=RDP
+dpi=96
+published=false
+setdpi=false
+user=&lt;USER&gt;
+maxdim=false
+rdpclient=xfreerdp
+directrdpsettings=-d YOUR-DOMAIN --plugin rdpsnd --plugin rdpdr --data disk:media:/media --
+rdpport=3389
+directrdp=true
diff --git a/x2gothinclientmanagement/share/x2gothinclient_start b/x2gothinclientmanagement/share/etc/x2gothinclient_start
similarity index 100%
rename from x2gothinclientmanagement/share/x2gothinclient_start
rename to x2gothinclientmanagement/share/etc/x2gothinclient_start
diff --git a/x2gothinclientmanagement/share/x2gothinclient_sessions b/x2gothinclientmanagement/share/x2gothinclient_sessions
deleted file mode 100644
index 509bc9d..0000000
--- a/x2gothinclientmanagement/share/x2gothinclient_sessions
+++ /dev/null
@@ -1,38 +0,0 @@
-[20100623163928371]
-defsndport = false
-useiconv = false
-iconvfrom = ISO8859-15
-height = 768
-export = 
-speed = 4
-fullscreen = true
-layout = de
-width = 1024
-quality = 9
-xdmcpserver = localhost
-soundtunnel = 1
-rdpoptions = 
-soundsystem = pulse
-print = 1
-type = pc105/de
-sndport = 4713
-usekbd = true
-fstunnel = true
-applications = OFFICE, WWWBROWSER, MAILCLIENT, TERMINAL
-host = 192.168.0.254
-link = ADSL
-user = &lt;USER&gt;
-key = 
-startsoundsystem = false
-icon =
-sound = true
-rootless = false
-name = X2Go.EXAMPLE
-iconvto = UTF-8
-rdpserver = 
-useexports = true
-command = GNOME
-dpi = 96
-sshport = 22
-setdpi = false
-pack = 16m-jpeg


hooks/post-receive
-- 
x2gothinclient.git (X2Go Thin Client Environment)

This is an automated email from the git hooks/post-receive script. It was
generated because a ref change was pushed to the repository containing
the project &quot;x2gothinclient.git&quot; (X2Go Thin Client Environment).

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003140.html">[X2go-Commits] x2goclient.git - master (branch) updated:	3.99.2.2-28-g969d3fe
</A></li>
	<LI>Next message: <A HREF="003142.html">[X2go-Commits] x2gothinclient.git - master (branch) updated:	1.0.1.8-35-g9a86547
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3141">[ date ]</a>
              <a href="thread.html#3141">[ thread ]</a>
              <a href="subject.html#3141">[ subject ]</a>
              <a href="author.html#3141">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/x2go-commits">More information about the X2go-commits
mailing list</a><br>
</body></html>
