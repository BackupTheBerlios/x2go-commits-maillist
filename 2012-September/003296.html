<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [X2go-Commits] python-x2go.git - build-main (branch) updated:	0.2.0.10
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/x2go-commits/2012-September/index.html" >
   <LINK REL="made" HREF="mailto:x2go-commits%40lists.berlios.de?Subject=Re%3A%20%5BX2go-Commits%5D%20python-x2go.git%20-%20build-main%20%28branch%29%20updated%3A%0A%090.2.0.10&In-Reply-To=%3C20120925141255.461BB5DB19%40ymir%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003295.html">
   <LINK REL="Next"  HREF="003297.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[X2go-Commits] python-x2go.git - build-main (branch) updated:	0.2.0.10</H1>
    <B>X2Go dev team</B> 
    <A HREF="mailto:x2go-commits%40lists.berlios.de?Subject=Re%3A%20%5BX2go-Commits%5D%20python-x2go.git%20-%20build-main%20%28branch%29%20updated%3A%0A%090.2.0.10&In-Reply-To=%3C20120925141255.461BB5DB19%40ymir%3E"
       TITLE="[X2go-Commits] python-x2go.git - build-main (branch) updated:	0.2.0.10">git-admin at x2go.org
       </A><BR>
    <I>Tue Sep 25 16:12:55 CEST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="003295.html">[X2go-Commits] python-x2go.git - master (branch) updated:	0.2.0.9-16-g0773ad2
</A></li>
        <LI>Next message: <A HREF="003297.html">[X2go-Commits] python-x2go.git - master (branch) updated:	0.2.0.10-2-g38373f3
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3296">[ date ]</a>
              <a href="thread.html#3296">[ thread ]</a>
              <a href="subject.html#3296">[ subject ]</a>
              <a href="author.html#3296">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>The branch, build-main has been updated
       via  0773ad2a0b153ff0cc15cbd35d3e0686e65596d9 (commit)
       via  3283c8321733ce800331d3ba1cfd8de9c1c1bc3a (commit)
       via  2ab6c71eeea4a425ad327c9233969dd7994c6aee (commit)
       via  5a0dd6c27283830e1b18034d88b1af69cbfb6a8d (commit)
       via  2442e74331d5199bb3e7b816d7a703738ad3578c (commit)
       via  b9fffc03639a59e55d0e18d2cb5782bed8d51524 (commit)
       via  06e08a443f6c067ee48423ebb3d6fbda265478fd (commit)
       via  aa9d494e669606926afaa0e7fbf78769596a771d (commit)
       via  f60c4d39335fd135c16ab66803340b3b1ae7be34 (commit)
       via  8c8e216f3e29879791955e46d415348cea4944e1 (commit)
       via  bcd2472dcb7607546a1f801cf862661b50f0cad2 (commit)
       via  60d5a88d02fbf006f76219e8aae57e0d9a081eee (commit)
      from  187ce289743a817b1b11e1422e37a4b8968df03e (commit)

Those revisions listed above that are new to this repository have
not appeared on any other notification email; so we list those
revisions in full, below.

- Log -----------------------------------------------------------------
-----------------------------------------------------------------------

Summary of changes:
 debian/changelog                  |   17 +++++++++++++++++
 debian/control                    |    6 +++---
 x2go/__init__.py                  |    2 +-
 x2go/backends/terminal/_stdout.py |   11 +++++------
 x2go/defaults.py                  |    3 ++-
 x2go/utils.py                     |    6 ++++++
 6 files changed, 34 insertions(+), 11 deletions(-)

The diff of changes is:
diff --git a/debian/changelog b/debian/changelog
index ae02401..1093874 100644
--- a/debian/changelog
+++ b/debian/changelog
@@ -1,3 +1,20 @@
+python-x2go (0.2.0.10-0~x2go1) unstable; urgency=low
+
+  * New upstream version (0.2.0.10):
+    - Use session type 'D' for X2Go-proxied RDP session when run in
+      fullscreen mode. Fixes upstream issue #27.
+    - Indentation fix in defaults.py.
+    - Make Python X2Go aware of DirectRDP settings in session profiles.
+    - Ignore DirectRDP options in session profile config for now.
+    - Remove bashism from X2Go server command calls. Caused servers
+      with no installed x2goserver-xsession package to crash desktop
+      sessions (observed with KDE4 on Ubuntu 12.04).
+    - Handle 16bit and 17bit colour depth (Windows clients) as
+      equal when resuming sessions.
+  * Maintainer change in package: X2Go Developers &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">x2go-dev at lists.berlios.de</A>&gt;.
+
+ -- Mike Gabriel &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">mike.gabriel at das-netzwerkteam.de</A>&gt;  Tue, 25 Sep 2012 16:03:24 +0200
+
 python-x2go (0.2.0.9-0~x2go2) unstable; urgency=low
 
   * Make sure we can build against python-gevent provided on
diff --git a/debian/control b/debian/control
index cc1a956..b65ce81 100644
--- a/debian/control
+++ b/debian/control
@@ -1,7 +1,7 @@
 Source: python-x2go
 Section: python
 Priority: optional
-Maintainer: X2Go Packaging Team &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">pkg-x2go-devel at lists.alioth.debian.org</A>&gt;
+Maintainer: X2Go Packaging Team &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">x2go-dev at lists.berlios.de</A>&gt;
 Uploaders:
  Mike Gabriel &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">mike.gabriel at das-netzwerkteam.de</A>&gt;
 Build-Depends: 
@@ -35,7 +35,7 @@ Recommends:
 Description: Python module providing X2Go client API
  X2Go is a server based computing environment with
     - session resuming
-    - low bandwith support
+    - low bandwidth support
     - LDAP support
     - client side mass storage mounting support
     - audio support
@@ -53,7 +53,7 @@ Depends:
 Description: Python module providing X2Go client API (documentation)
  X2Go is a server based computing environment with
     - session resuming
-    - low bandwith support
+    - low bandwidth support
     - LDAP support
     - client side mass storage mounting support
     - audio support
diff --git a/x2go/__init__.py b/x2go/__init__.py
index 11643bf..706d488 100644
--- a/x2go/__init__.py
+++ b/x2go/__init__.py
@@ -178,7 +178,7 @@ Contact
 &quot;&quot;&quot;
 
 __NAME__    = 'python-x2go'
-__VERSION__ = '0.2.0.9'
+__VERSION__ = '0.2.0.10'
 
 from gevent import monkey
 monkey.patch_all()
diff --git a/x2go/backends/terminal/_stdout.py b/x2go/backends/terminal/_stdout.py
index bcd6771..3df1491 100644
--- a/x2go/backends/terminal/_stdout.py
+++ b/x2go/backends/terminal/_stdout.py
@@ -143,10 +143,9 @@ class X2goSessionParams(object):
             self.session_type = 'P'
             self.cmd = 'PUBLISHED'
         else:
-            if cmd == 'RDP':
-                self.session_type = 'R'
-            elif cmd.startswith('rdesktop'):
-                self.session_type = 'R'
+            if cmd == 'RDP' or cmd.startswith('rdesktop') or cmd.startswith('xfreedrp'):
+                if self.geometry == 'fullscreen': self.session_type = 'D'
+                else: self.session_type = 'R'
             elif cmd == 'XDMCP':
                 self.session_type = 'D'
             elif cmd in _X2GO_DESKTOPSESSIONS.keys():
@@ -1193,7 +1192,7 @@ class X2goTerminalSessionSTDOUT(object):
                      _rewrite_blanks(_rewrite_cmd(cmd, params=self.params)),
                      str(self.params.snd_system),
                      str(self.params.session_type),
-                     &quot;&amp;&gt; /dev/null &amp; exit&quot;,
+                     &quot;1&gt;/dev/null 2&gt;/dev/null &amp; exit&quot;,
                    ]
 
         if self.params.snd_system == 'pulse':
@@ -1297,7 +1296,7 @@ class X2goTerminalSessionSTDOUT(object):
         cmd_line.extend(
             [
                 &quot;setsid %s&quot; % exec_name,
-                &quot;&amp;&gt; /dev/null &amp; exit&quot;,
+                &quot;1&gt;/dev/null 2&gt;/dev/null &amp; exit&quot;,
             ]
         )
 
diff --git a/x2go/defaults.py b/x2go/defaults.py
index 350a288..a9562bf 100644
--- a/x2go/defaults.py
+++ b/x2go/defaults.py
@@ -41,7 +41,7 @@ if X2GOCLIENT_OS != 'Windows':
     try:
         X_DISPLAY = Xlib.display.Display()
     except Xlib.error.DisplayNameError:
-	X_DISPLAY = None
+        X_DISPLAY = None
     except Xlib.error.DisplayConnectionError:
         X_DISPLAY = None
 
@@ -305,6 +305,7 @@ X2GO_SESSIONPROFILE_DEFAULTS = {
     'name': 'NEW_PROFILE', 'icon': ':icons/128x128/x2gosession.png',
     'host': '', 'user': CURRENT_LOCAL_USER, 'key': '', 'sshport': 22, 'krblogin': False,
     'rootless': True, 'applications': X2GO_GENERIC_APPLICATIONS, 'command':'TERMINAL', 'published': False,
+    'directrdp': False, 'directrdpsettings': '', 'rdpclient': 'rdesktop', 'rdpport': 3389,
     'rdpoptions': '-u X2GO_USER -p X2GO_PASSWORD', 'rdpserver': '',
     'print': False,
     'xdmcpserver': 'localhost',
diff --git a/x2go/utils.py b/x2go/utils.py
index bae73a1..9dc38c4 100644
--- a/x2go/utils.py
+++ b/x2go/utils.py
@@ -315,6 +315,10 @@ def _convert_SessionProfileOptions_2_SessionParams(options):
             'xinerama',
             'multidisp',
             'krblogin',
+            'directrdp',
+            'directrdpsettings',
+            'rdpclient',
+            'rdpport',
     ]
     for i in _ignored_options:
         del _params[i]
@@ -538,6 +542,8 @@ def is_color_depth_ok(depth_session, depth_local):
         return True
     if ( ( depth_session == 24 or depth_session == 32 ) and ( depth_local == 24 or depth_local == 32 ) ):
         return True;
+    if ( ( depth_session == 16 or depth_session == 17 ) and ( depth_local == 16 or depth_local == 17 ) ):
+        return True;
     return False
 
 


hooks/post-receive
-- 
python-x2go.git (Python X2Go Client API)

This is an automated email from the git hooks/post-receive script. It was
generated because a ref change was pushed to the repository containing
the project &quot;python-x2go.git&quot; (Python X2Go Client API).

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003295.html">[X2go-Commits] python-x2go.git - master (branch) updated:	0.2.0.9-16-g0773ad2
</A></li>
	<LI>Next message: <A HREF="003297.html">[X2go-Commits] python-x2go.git - master (branch) updated:	0.2.0.10-2-g38373f3
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3296">[ date ]</a>
              <a href="thread.html#3296">[ thread ]</a>
              <a href="subject.html#3296">[ subject ]</a>
              <a href="author.html#3296">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/x2go-commits">More information about the X2go-commits
mailing list</a><br>
</body></html>
