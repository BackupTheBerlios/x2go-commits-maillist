<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [X2Go-Commits] pyhoca-gui.git -	build-59a18b6e3b5d3f1dd8f07f26433d37fe5984a57d (branch)	updated: 0.1.0.4-9-gd1c4d7d
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/x2go-commits/2013-August/index.html" >
   <LINK REL="made" HREF="mailto:x2go-commits%40lists.berlios.de?Subject=Re%3A%20%5BX2Go-Commits%5D%20pyhoca-gui.git%20-%0A%09build-59a18b6e3b5d3f1dd8f07f26433d37fe5984a57d%20%28branch%29%0A%09updated%3A%200.1.0.4-9-gd1c4d7d&In-Reply-To=%3C20130827112141.6D72B5DBE1%40ymir%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010538.html">
   <LINK REL="Next"  HREF="010560.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[X2Go-Commits] pyhoca-gui.git -	build-59a18b6e3b5d3f1dd8f07f26433d37fe5984a57d (branch)	updated: 0.1.0.4-9-gd1c4d7d</H1>
    <B>X2Go dev team</B> 
    <A HREF="mailto:x2go-commits%40lists.berlios.de?Subject=Re%3A%20%5BX2Go-Commits%5D%20pyhoca-gui.git%20-%0A%09build-59a18b6e3b5d3f1dd8f07f26433d37fe5984a57d%20%28branch%29%0A%09updated%3A%200.1.0.4-9-gd1c4d7d&In-Reply-To=%3C20130827112141.6D72B5DBE1%40ymir%3E"
       TITLE="[X2Go-Commits] pyhoca-gui.git -	build-59a18b6e3b5d3f1dd8f07f26433d37fe5984a57d (branch)	updated: 0.1.0.4-9-gd1c4d7d">git-admin at x2go.org
       </A><BR>
    <I>Tue Aug 27 13:21:41 CEST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="010538.html">[X2Go-Commits] pyhoca-gui.git -	build-59a18b6e3b5d3f1dd8f07f26433d37fe5984a57d (branch)	updated: 0.1.0.4-7-g8d7f832
</A></li>
        <LI>Next message: <A HREF="010560.html">[X2Go-Commits] pyhoca-gui.git -	build-59a18b6e3b5d3f1dd8f07f26433d37fe5984a57d (branch)	updated: 0.1.0.4-11-g5f3ee22
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10539">[ date ]</a>
              <a href="thread.html#10539">[ thread ]</a>
              <a href="subject.html#10539">[ subject ]</a>
              <a href="author.html#10539">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>The branch, build-59a18b6e3b5d3f1dd8f07f26433d37fe5984a57d has been updated
       via  d1c4d7df3ad670f1c96361018e49c822e9b3f883 (commit)
      from  033a966df66de981678e0deda2f5c008c5d6f1d2 (commit)

Those revisions listed above that are new to this repository have
not appeared on any other notification email; so we list those
revisions in full, below.

- Log -----------------------------------------------------------------
-----------------------------------------------------------------------

Summary of changes:
 pyhoca-gui               |    2 +-
 pyhoca/wxgui/messages.py |    5 ++++-
 2 files changed, 5 insertions(+), 2 deletions(-)

The diff of changes is:
diff --git a/pyhoca-gui b/pyhoca-gui
index 9ddab17..3723004 100755
--- a/pyhoca-gui
+++ b/pyhoca-gui
@@ -317,7 +317,7 @@ def main():
 
     if check_running(): 
         sys.stderr.write(&quot;\n###############################\n### %s: already running for user %s\n###############################\n&quot; % (PROG_NAME, _CURRENT_LOCAL_USER))
-        m = messages.PyHoca_MessageWindow_Ok(wx.App(), custom_message=_(u'PyHoca-GUI is already running for user ,,%s\'\'!\n\nOnly one instance of PyHoca-GUI can be started per\nuser. The PyHoca-GUI icon can be found in your desktops\'s\nnotification area/systray.') % _CURRENT_LOCAL_USER, title=_(u'PyHoca-GUI (%s)...') % VERSION, icon='pyhoca-trayicon')
+        m = messages.PyHoca_MessageWindow_Ok(wx.App(), shortmsg='ALREADY_RUNNING', title=u'PyHoca-GUI (%s)...' % VERSION, icon='pyhoca-trayicon')
         m.ShowModal()
         version()
 
diff --git a/pyhoca/wxgui/messages.py b/pyhoca/wxgui/messages.py
index 9fa0c5f..9ae8031 100644
--- a/pyhoca/wxgui/messages.py
+++ b/pyhoca/wxgui/messages.py
@@ -29,6 +29,8 @@ import gevent
 # PyHoca-GUI modules
 import basepath
 
+# X2go modules
+from x2go.defaults import CURRENT_LOCAL_USER as _CURRENT_LOCAL_USER
 
 _icons_location = basepath.icons_basepath
 
@@ -49,12 +51,13 @@ class PyHoca_MessageWindow(wx.Dialog):
 
         self._pyhoca_messages = { 
             'REALLY_DELETE_PROFILE': _(u'Are you really sure you want to\ndelete the session profile ,,%s\'\'?') % profile_name,
+            'ALREADY_RUNNING': _(u'PyHoca-GUI is already running for user ,,%s\'\'!\n\nOnly one instance of PyHoca-GUI can be started per\nuser. The PyHoca-GUI icon can be found in your desktops\'s\nnotification area/systray.') % _CURRENT_LOCAL_USER
         }
 
 
         if shortmsg is None:
             show_message = custom_message
-        elif shortmsg in self._pyhoca_messages:
+        elif shortmsg in self._pyhoca_messages.keys():
             show_message = self._pyhoca_messages[shortmsg]
         else:
             show_message = 'No message has been given...'


hooks/post-receive
-- 
pyhoca-gui.git (Python X2Go Client (wxPython GUI))

This is an automated email from the git hooks/post-receive script. It was
generated because a ref change was pushed to the repository containing
the project &quot;pyhoca-gui.git&quot; (Python X2Go Client (wxPython GUI)).

</PRE>
















































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010538.html">[X2Go-Commits] pyhoca-gui.git -	build-59a18b6e3b5d3f1dd8f07f26433d37fe5984a57d (branch)	updated: 0.1.0.4-7-g8d7f832
</A></li>
	<LI>Next message: <A HREF="010560.html">[X2Go-Commits] pyhoca-gui.git -	build-59a18b6e3b5d3f1dd8f07f26433d37fe5984a57d (branch)	updated: 0.1.0.4-11-g5f3ee22
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10539">[ date ]</a>
              <a href="thread.html#10539">[ thread ]</a>
              <a href="subject.html#10539">[ subject ]</a>
              <a href="author.html#10539">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/x2go-commits">More information about the X2Go-commits
mailing list</a><br>
</body></html>
