<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [X2Go-Commits] nx-libs.git - build-baikal (branch) updated:	nxauth/3.2.0-1
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/x2go-commits/2013-August/index.html" >
   <LINK REL="made" HREF="mailto:x2go-commits%40lists.berlios.de?Subject=Re%3A%20%5BX2Go-Commits%5D%20nx-libs.git%20-%20build-baikal%20%28branch%29%20updated%3A%0A%09nxauth/3.2.0-1&In-Reply-To=%3C20130830142341.24E0A5DB24%40ymir%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011610.html">
   <LINK REL="Next"  HREF="011602.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[X2Go-Commits] nx-libs.git - build-baikal (branch) updated:	nxauth/3.2.0-1</H1>
    <B>X2Go dev team</B> 
    <A HREF="mailto:x2go-commits%40lists.berlios.de?Subject=Re%3A%20%5BX2Go-Commits%5D%20nx-libs.git%20-%20build-baikal%20%28branch%29%20updated%3A%0A%09nxauth/3.2.0-1&In-Reply-To=%3C20130830142341.24E0A5DB24%40ymir%3E"
       TITLE="[X2Go-Commits] nx-libs.git - build-baikal (branch) updated:	nxauth/3.2.0-1">git-admin at x2go.org
       </A><BR>
    <I>Fri Aug 30 16:23:40 CEST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="011610.html">[X2Go-Commits] nx-libs.git - build-baikal (branch) updated:	nx-X11/3.5.0-2
</A></li>
        <LI>Next message: <A HREF="011602.html">[X2Go-Commits] nx-libs.git - build-baikal (branch) updated:	nxauth/3.3.0-1
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11608">[ date ]</a>
              <a href="thread.html#11608">[ thread ]</a>
              <a href="subject.html#11608">[ subject ]</a>
              <a href="author.html#11608">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>The branch, build-baikal has been updated
       via  76b9f2d9104af9ee21a71ae7351deb89558390b6 (commit)
      from  9610c1e727c1f1b09a1289df8d37f393dd043993 (commit)

Those revisions listed above that are new to this repository have
not appeared on any other notification email; so we list those
revisions in full, below.

- Log -----------------------------------------------------------------
-----------------------------------------------------------------------

Summary of changes:
 nx-X11/programs/nxauth/CHANGELOG |    8 ++++++++
 nx-X11/programs/nxauth/process.c |   14 ++++++++++++++
 2 files changed, 22 insertions(+)

The diff of changes is:
diff --git a/nx-X11/programs/nxauth/CHANGELOG b/nx-X11/programs/nxauth/CHANGELOG
index c2eb70c..3cc7dbb 100644
--- a/nx-X11/programs/nxauth/CHANGELOG
+++ b/nx-X11/programs/nxauth/CHANGELOG
@@ -1,5 +1,13 @@
 ChangeLog:
 
+nxauth-3.2.0-1
+
+- Opened the 3.2.0 branch based on nxauth-3.1.0-2.
+
+nxauth-3.1.0-2
+
+- Added support for launchd socket.
+
 nxauth-3.1.0-1
 
 - Opened the 3.1.0 branch based on nxauth-3.0.0-6.
diff --git a/nx-X11/programs/nxauth/process.c b/nx-X11/programs/nxauth/process.c
index bbf59eb..d656386 100644
--- a/nx-X11/programs/nxauth/process.c
+++ b/nx-X11/programs/nxauth/process.c
@@ -503,6 +503,20 @@ get_displayname_auth(char *displayname, Xauth *auth)
     if (cp &amp;&amp; strncmp (cp, &quot;/unix:&quot;, 6) == 0)
       prelen = (cp - displayname);
 
+    #ifdef __APPLE__
+
+    /*
+     * FIXME: This is an attempt to get the right
+     * cookie, because no one can grant that the
+     * X server is running on the display number
+     * reported in the launchd display name.
+     */
+
+    if (strncmp (displayname, &quot;/tmp/launch&quot;, 11) == 0)
+      displayname = strrchr(displayname, '/') + 1;
+
+    #endif
+
     if (!parse_displayname (displayname + ((prelen &gt; 0) ? prelen + 1 : 0),
 			    &amp;family, &amp;host, &amp;dpynum, &amp;scrnum, &amp;rest)) {
 	return False;


hooks/post-receive
-- 
nx-libs.git (NX (redistributed))

This is an automated email from the git hooks/post-receive script. It was
generated because a ref change was pushed to the repository containing
the project &quot;nx-libs.git&quot; (NX (redistributed)).

</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011610.html">[X2Go-Commits] nx-libs.git - build-baikal (branch) updated:	nx-X11/3.5.0-2
</A></li>
	<LI>Next message: <A HREF="011602.html">[X2Go-Commits] nx-libs.git - build-baikal (branch) updated:	nxauth/3.3.0-1
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11608">[ date ]</a>
              <a href="thread.html#11608">[ thread ]</a>
              <a href="subject.html#11608">[ subject ]</a>
              <a href="author.html#11608">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/x2go-commits">More information about the X2Go-commits
mailing list</a><br>
</body></html>
