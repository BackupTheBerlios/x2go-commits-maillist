<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [X2Go-Commits] x2gothinclient.git - master (branch) updated:	1.1.0.0-25-g37e9a55
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/x2go-commits/2013-November/index.html" >
   <LINK REL="made" HREF="mailto:x2go-commits%40lists.berlios.de?Subject=Re%3A%20%5BX2Go-Commits%5D%20x2gothinclient.git%20-%20master%20%28branch%29%20updated%3A%0A%091.1.0.0-25-g37e9a55&In-Reply-To=%3C20131114141048.0F38D5DB18%40ymir%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014693.html">
   <LINK REL="Next"  HREF="014695.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[X2Go-Commits] x2gothinclient.git - master (branch) updated:	1.1.0.0-25-g37e9a55</H1>
    <B>X2Go dev team</B> 
    <A HREF="mailto:x2go-commits%40lists.berlios.de?Subject=Re%3A%20%5BX2Go-Commits%5D%20x2gothinclient.git%20-%20master%20%28branch%29%20updated%3A%0A%091.1.0.0-25-g37e9a55&In-Reply-To=%3C20131114141048.0F38D5DB18%40ymir%3E"
       TITLE="[X2Go-Commits] x2gothinclient.git - master (branch) updated:	1.1.0.0-25-g37e9a55">git-admin at x2go.org
       </A><BR>
    <I>Thu Nov 14 15:10:47 CET 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="014693.html">[X2Go-Commits] x2gothinclient.git - master (branch) updated:	1.1.0.0-24-gdb502cb
</A></li>
        <LI>Next message: <A HREF="014695.html">[X2Go-Commits] x2gothinclient.git - master (branch) updated:	1.1.0.0-26-ge8db747
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14694">[ date ]</a>
              <a href="thread.html#14694">[ thread ]</a>
              <a href="subject.html#14694">[ subject ]</a>
              <a href="author.html#14694">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>The branch, master has been updated
       via  37e9a55ba62ca1078ed00aa4aa2847edc77e9cc6 (commit)
      from  db502cbfd190e2d0975e407ee16baf062c53e990 (commit)

Those revisions listed above that are new to this repository have
not appeared on any other notification email; so we list those
revisions in full, below.

- Log -----------------------------------------------------------------
commit 37e9a55ba62ca1078ed00aa4aa2847edc77e9cc6
Author: Mike Gabriel &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">mike.gabriel at das-netzwerkteam.de</A>&gt;
Date:   Thu Nov 14 15:10:36 2013 +0100

    Tweak the /etc/os-release more comprehensively.

-----------------------------------------------------------------------

Summary of changes:
 debian/changelog                                   |    1 +
 debian/x2gothinclient.install                      |    3 ++-
 debian/x2gothinclientmanagement.install            |    1 +
 x2gothinclient/VERSION.x2gothinclient              |    1 +
 .../VERSION.x2gothinclientmanagement               |    1 +
 .../etc/x2gothinclient_settings                    |    3 +++
 .../sbin/x2gothinclient_create                     |    2 +-
 7 files changed, 10 insertions(+), 2 deletions(-)
 create mode 120000 x2gothinclient/VERSION.x2gothinclient
 create mode 120000 x2gothinclientmanagement/VERSION.x2gothinclientmanagement

The diff of changes is:
diff --git a/debian/changelog b/debian/changelog
index 7ca3a8b..99e369f 100644
--- a/debian/changelog
+++ b/debian/changelog
@@ -19,6 +19,7 @@ x2gothinclient (1.1.0.1-0~x2go1) UNRELEASED; urgency=low
       init script and ALSA's utils.sh.
     - Refrain from using &quot;~&lt;user&gt;&quot; when launching X2Go Client as it cannot
       handle it, yet. Use &quot;~&quot; instead (handable by X2Go Client &gt;= 4.0.1.2).
+    - Tweak the /etc/os-release more comprehensively.
   * debian/control:
     + New bin:package x2gothinclient-chroot.
     + Make sure x2gothinclient-chroot pulls in editing tools like
diff --git a/debian/x2gothinclient.install b/debian/x2gothinclient.install
index ee7f973..f2c48ff 100644
--- a/debian/x2gothinclient.install
+++ b/debian/x2gothinclient.install
@@ -1,2 +1,3 @@
 x2gothinclient/sbin/x2gothinclientd         usr/sbin/
-x2gothinclientmanagement/share/etc/* etc/x2go/
+x2gothinclientmanagement/share/etc/*        etc/x2go/
+x2gothinclient/VERSION.x2gothinclient       usr/share/x2go/versions/
diff --git a/debian/x2gothinclientmanagement.install b/debian/x2gothinclientmanagement.install
index ee16044..a9077fa 100644
--- a/debian/x2gothinclientmanagement.install
+++ b/debian/x2gothinclientmanagement.install
@@ -2,3 +2,4 @@ x2gothinclientmanagement/sbin/x2gothinclient_*                 usr/sbin/
 x2gothinclientmanagement/etc/x2gothinclient_*                  etc/x2go/
 x2gothinclientmanagement/share/etc/                            usr/share/x2go/tce/
 x2gothinclientmanagement/share/tftpboot                        usr/share/x2go/tce/
+x2gothinclientmanagement/VERSION.x2gothinclientmanagement      usr/share/x2go/versions/
\ No newline at end of file
diff --git a/x2gothinclient/VERSION.x2gothinclient b/x2gothinclient/VERSION.x2gothinclient
new file mode 120000
index 0000000..6ff19de
--- /dev/null
+++ b/x2gothinclient/VERSION.x2gothinclient
@@ -0,0 +1 @@
+../VERSION
\ No newline at end of file
diff --git a/x2gothinclientmanagement/VERSION.x2gothinclientmanagement b/x2gothinclientmanagement/VERSION.x2gothinclientmanagement
new file mode 120000
index 0000000..6ff19de
--- /dev/null
+++ b/x2gothinclientmanagement/VERSION.x2gothinclientmanagement
@@ -0,0 +1 @@
+../VERSION
\ No newline at end of file
diff --git a/x2gothinclientmanagement/etc/x2gothinclient_settings b/x2gothinclientmanagement/etc/x2gothinclient_settings
index d7f942c..ba701c9 100644
--- a/x2gothinclientmanagement/etc/x2gothinclient_settings
+++ b/x2gothinclientmanagement/etc/x2gothinclient_settings
@@ -21,6 +21,9 @@
 # name of this instance of the X2Go TCE (appears during thinclient boot process)
 TC_PRETTY_NAME=&quot;X2Go TCE&quot;
 
+# Adapt to your system!!! This path fits for Debian systems. Or provide the version manually.
+TC_VERSION=`cat /usr/share/x2go/versions/VERSION.x2gothinclientmanagement`
+
 # base path for X2Go thin client files
 TC_BASE=&quot;/opt/x2gothinclient&quot;
 
diff --git a/x2gothinclientmanagement/sbin/x2gothinclient_create b/x2gothinclientmanagement/sbin/x2gothinclient_create
index f210edf..0f88f44 100755
--- a/x2gothinclientmanagement/sbin/x2gothinclient_create
+++ b/x2gothinclientmanagement/sbin/x2gothinclient_create
@@ -204,7 +204,7 @@ fi
 [ \$? -eq 0 ] &amp;&amp; sed -e 's/#ListenAddress ::/AddressFamily inet\nListenAddress 127.0.0.1/' -i /etc/ssh/sshd_config
 
 # tweak plymouth
-[ \$? -eq 0 ] &amp;&amp; test -e /etc/os-release &amp;&amp; sed -e 's/PRETTY_NAME=.*/PRETTY_NAME=$TC_PRETTY_NAME/' -i /etc/os-release || echo &quot;PRETTY_NAME=$TC_PRETTY_NAME&quot; &gt;&gt; /etc/os-release
+[ \$? -eq 0 ] &amp;&amp; test -e /etc/os-release &amp;&amp; sed -e 's/PRETTY_NAME=.*/PRETTY_NAME=&quot;$TC_PRETTY_NAME&quot;/' -e 's/NAME=.*/NAME=&quot;$TC_PRETTY_NAME&quot;/' -e 's/VERSION=.*/VERSION=&quot;$TC_VERSION&quot;/' -e 's/VERSION_ID=.*/VERSION_ID=&quot;$TC_VERSION&quot;/' -e '<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">s at HOME_URL</A>=.*@HOME_URL=&quot;<A HREF="http://wiki.x2go.org">http://wiki.x2go.org</A>&quot;@' -e '<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">s at SUPPORT_URL</A>=.*@SUPPORT_URL=&quot;<A HREF="http://wiki.x2go.org/">http://wiki.x2go.org/</A>&quot;@' -e '<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">s at BUG_REPORT_URL</A>=.*@BUG_REPORT_URL=&quot;<A HREF="http://bugs.x2go.org">http://bugs.x2go.org</A>&quot;@' -i /etc/os-release || echo -e 'PRETTY_NAME=&quot;$TC_PRETTY_NAME&quot;\nNAME=&quot;$TC_PRETTY_NAME&quot;\n' &gt; /etc/os-release
 [ \$? -eq 0 ] &amp;&amp; test -e /etc/modprobe.d/i915-kms.conf &amp;&amp; sed -s 's/modeset=1/modeset=0/' -i /etc/modprobe.d/i915-kms.conf || true
 [ \$? -eq 0 ] &amp;&amp; test -e /etc/modprobe.d/radeon-kms.conf &amp;&amp; sed -s 's/modeset=1/modeset=0/' -i /etc/modprobe.d/radeon-kms.conf || true
 


hooks/post-receive
-- 
x2gothinclient.git (X2Go Thin Client Environment)

This is an automated email from the git hooks/post-receive script. It was
generated because a ref change was pushed to the repository containing
the project &quot;x2gothinclient.git&quot; (X2Go Thin Client Environment).

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014693.html">[X2Go-Commits] x2gothinclient.git - master (branch) updated:	1.1.0.0-24-gdb502cb
</A></li>
	<LI>Next message: <A HREF="014695.html">[X2Go-Commits] x2gothinclient.git - master (branch) updated:	1.1.0.0-26-ge8db747
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14694">[ date ]</a>
              <a href="thread.html#14694">[ thread ]</a>
              <a href="subject.html#14694">[ subject ]</a>
              <a href="author.html#14694">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/x2go-commits">More information about the X2Go-commits
mailing list</a><br>
</body></html>
