<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [X2go-Commits] x2goadmincenter.git - master (branch) updated:	dc2c73feb7ba39e022d3bedf5c0ff0a987cbfe92
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/x2go-commits/2011-September/index.html" >
   <LINK REL="made" HREF="mailto:x2go-commits%40lists.berlios.de?Subject=Re%3A%20%5BX2go-Commits%5D%20x2goadmincenter.git%20-%20master%20%28branch%29%20updated%3A%0A%09dc2c73feb7ba39e022d3bedf5c0ff0a987cbfe92&In-Reply-To=%3C20110921232143.297BD5DD20%40ymir%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001521.html">
   <LINK REL="Next"  HREF="001523.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[X2go-Commits] x2goadmincenter.git - master (branch) updated:	dc2c73feb7ba39e022d3bedf5c0ff0a987cbfe92</H1>
    <B>X2go dev team</B> 
    <A HREF="mailto:x2go-commits%40lists.berlios.de?Subject=Re%3A%20%5BX2go-Commits%5D%20x2goadmincenter.git%20-%20master%20%28branch%29%20updated%3A%0A%09dc2c73feb7ba39e022d3bedf5c0ff0a987cbfe92&In-Reply-To=%3C20110921232143.297BD5DD20%40ymir%3E"
       TITLE="[X2go-Commits] x2goadmincenter.git - master (branch) updated:	dc2c73feb7ba39e022d3bedf5c0ff0a987cbfe92">git-admin at x2go.org
       </A><BR>
    <I>Thu Sep 22 01:21:43 CEST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="001521.html">[X2go-Commits] x2goadmincenter.git - master (branch) updated:	bd45e1a6373efeb3983c899804c1780a0c0d1d09
</A></li>
        <LI>Next message: <A HREF="001523.html">[X2go-Commits] buildscripts.git - master (branch) updated:	1d27752bd12d2f7985462e7a135ec8d3211ac19a
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1522">[ date ]</a>
              <a href="thread.html#1522">[ thread ]</a>
              <a href="subject.html#1522">[ subject ]</a>
              <a href="author.html#1522">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>The branch, master has been updated
       via  dc2c73feb7ba39e022d3bedf5c0ff0a987cbfe92 (commit)
      from  bd45e1a6373efeb3983c899804c1780a0c0d1d09 (commit)

Those revisions listed above that are new to this repository have
not appeared on any other notification email; so we list those
revisions in full, below.

- Log -----------------------------------------------------------------
commit dc2c73feb7ba39e022d3bedf5c0ff0a987cbfe92
Author: Mike Gabriel &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">mike.gabriel at das-netzwerkteam.de</A>&gt;
Date:   Thu Sep 22 01:20:59 2011 +0200

    tabified Perl code

-----------------------------------------------------------------------

Summary of changes:
 x2goadminserver/cgi-bin/x2gorpcserver.cgi          |   55 +-
 x2goadminserver/lib/x2goadminserver.pm             |   22 +-
 .../lib/x2goadminserver_backend_cipux.pm           | 1105 ++++++++++----------
 3 files changed, 587 insertions(+), 595 deletions(-)

The diff of changes is:
diff --git a/x2goadminserver/cgi-bin/x2gorpcserver.cgi b/x2goadminserver/cgi-bin/x2gorpcserver.cgi
index 5b6debe..eb2bc8b 100755
--- a/x2goadminserver/cgi-bin/x2gorpcserver.cgi
+++ b/x2goadminserver/cgi-bin/x2gorpcserver.cgi
@@ -49,32 +49,32 @@ process_cgi_call({
 
 # Process a CGI call.
 sub process_cgi_call ($) {
-    my ($methods) = @_;
-
-    # Get our CGI request information.
-    my $method = $ENV{'REQUEST_METHOD'};
-    my $type = $ENV{'CONTENT_TYPE'};
-    my $length = $ENV{'CONTENT_LENGTH'};
-
-    # Perform some sanity checks.
-    http_error(405, &quot;Method Not Allowed&quot;) unless $method eq &quot;POST&quot;;
-    http_error(400, &quot;Bad Request&quot;) unless $type eq &quot;text/xml&quot;;
-    http_error(411, &quot;Length Required&quot;) unless $length &gt; 0;
-
-    # Fetch our body.
-    my $body;
-    my $count = read STDIN, $body, $length;
-    http_error(400, &quot;Bad Request&quot;) unless $count == $length; 
-
-    # Serve our request.
-    my $coder = Frontier::RPC2-&gt;new;
-    send_xml($coder-&gt;serve($body, $methods));
+	my ($methods) = @_;
+
+	# Get our CGI request information.
+	my $method = $ENV{'REQUEST_METHOD'};
+	my $type = $ENV{'CONTENT_TYPE'};
+	my $length = $ENV{'CONTENT_LENGTH'};
+
+	# Perform some sanity checks.
+	http_error(405, &quot;Method Not Allowed&quot;) unless $method eq &quot;POST&quot;;
+	http_error(400, &quot;Bad Request&quot;) unless $type eq &quot;text/xml&quot;;
+	http_error(411, &quot;Length Required&quot;) unless $length &gt; 0;
+
+	# Fetch our body.
+	my $body;
+	my $count = read STDIN, $body, $length;
+	http_error(400, &quot;Bad Request&quot;) unless $count == $length; 
+
+	# Serve our request.
+	my $coder = Frontier::RPC2-&gt;new;
+	send_xml($coder-&gt;serve($body, $methods));
 }
 
 # Send an HTTP error and exit.
 sub http_error ($$) {
-    my ($code, $message) = @_;
-    print &lt;&lt;&quot;EOD&quot;;
+	my ($code, $message) = @_;
+	print &lt;&lt;&quot;EOD&quot;;
 Status: $code $message
 Content-type: text/html
 
@@ -82,20 +82,19 @@ Content-type: text/html
 &lt;h1&gt;$code $message&lt;/h1&gt;
 &lt;p&gt;Unexpected error processing XML-RPC request.&lt;/p&gt;
 EOD
-    exit 0;
+	exit 0;
 }
 
 # Send an XML document (but don't exit).
 sub send_xml ($) {
-    my ($xml_string) = @_;
-    my $length = length($xml_string);
-    print &lt;&lt;&quot;EOD&quot;;
+	my ($xml_string) = @_;
+	my $length = length($xml_string);
+	print &lt;&lt;&quot;EOD&quot;;
 Status: 200 OK
 Content-type: text/xml
 Content-length: $length
 
 EOD
     # We want precise control over whitespace here.
-    print $xml_string;
+	print $xml_string;
 }
-
diff --git a/x2goadminserver/lib/x2goadminserver.pm b/x2goadminserver/lib/x2goadminserver.pm
index 20bdc9b..2829419 100644
--- a/x2goadminserver/lib/x2goadminserver.pm
+++ b/x2goadminserver/lib/x2goadminserver.pm
@@ -28,7 +28,7 @@ use lib &quot;/usr/lib/x2go&quot;;
 
 if($backend eq &quot;cipux&quot; )
 {
-    use x2goadminserver_backend_cipux;
+	use x2goadminserver_backend_cipux;
 }
 
 
@@ -39,41 +39,41 @@ our @EXPORT=('x2goadmin_getUsers','x2goadmin_getGroups', 'x2goadmin_getGroupsOfU
 
 
 sub x2goadmin_getUsers {
-    return getUsers(@_);
+	return getUsers(@_);
 }
 
 sub x2goadmin_getGroups {
-    return getGroups(@_);
+	return getGroups(@_);
 }
 
 sub x2goadmin_getGroupsWithUsers {
-    return getGroupsWithUsers(@_);
+	return getGroupsWithUsers(@_);
 }
 
 sub x2goadmin_getGroupsOfUser {
-    return getGroupsOfUser(@_);
+	return getGroupsOfUser(@_);
 }
 
 sub x2goadmin_modifyUser {
-    return modifyUser(@_);
+	return modifyUser(@_);
 }
 
 sub x2goadmin_modifyGroup {
-    return modifyGroup(@_);
+	return modifyGroup(@_);
 }
 
 sub x2goadmin_addGroup {
-    return addGroup(@_);
+	return addGroup(@_);
 }
 
 sub x2goadmin_addUser {
-    return addUser(@_);
+	return addUser(@_);
 }
 
 sub x2goadmin_removeUsers {
-    return removeUsers(@_);
+	return removeUsers(@_);
 }
 
 sub x2goadmin_removeGroups {
-    return removeGroups(@_);
+	return removeGroups(@_);
 }
diff --git a/x2goadminserver/lib/x2goadminserver_backend_cipux.pm b/x2goadminserver/lib/x2goadminserver_backend_cipux.pm
index 46d7d6e..b175851 100644
--- a/x2goadminserver/lib/x2goadminserver_backend_cipux.pm
+++ b/x2goadminserver/lib/x2goadminserver_backend_cipux.pm
@@ -35,261 +35,259 @@ my $version='0.0.1';
 my $perr;
 my $rpc=CipUX::RPC::Client-&gt;new(
 {
-  url =&gt; $url, client =&gt; $client, version =&gt; $version,
+	url =&gt; $url, client =&gt; $client, version =&gt; $version,
 }
 );
 
 use base 'Exporter';
 our @EXPORT=('getUsers', 'getGroups', 'getGroupsOfUser', 'getGroupsWithUsers',
-	     'modifyUser', 'modifyGroup', 'addUser', 'addGroup', 'removeUsers', 'removeGroups');
+             'modifyUser', 'modifyGroup', 'addUser', 'addGroup', 'removeUsers', 'removeGroups');
 
 sub ping
 {
-  eval { $rpc-&gt;rpc_ping;};
-  if($EVAL_ERROR)
-  {
-    $perr=$EVAL_ERROR;
-    return 0;
-  }
-  else
-  {
-    return 1;
-  }
-  
+	eval { $rpc-&gt;rpc_ping;};
+	if($EVAL_ERROR)
+	{
+		$perr=$EVAL_ERROR;
+		return 0;
+	}
+	else
+	{
+		return 1;
+	}
 }
 
 sub login_srv
 {
-  my ($login, $password) = @_;
-  my $login_info=
-  {
-    login =&gt; $login,
-    password =&gt; $password
-  };
-  return $rpc-&gt;rpc_login($login_info);
+	my ($login, $password) = @_;
+	my $login_info=
+	{
+		login =&gt; $login,
+		password =&gt; $password
+	};
+	return $rpc-&gt;rpc_login($login_info);
 }
 
 sub getServerInfo
 {
-  my ($login, $password) = @_;
-  if(!ping)
-  {
-    return (0, &quot;SERVERDOWN URL:$url ERROR:$perr&quot;);
-  }
-  
-  if(!login_srv($login, $password))
-  {
-    return (0, &quot;NOACCESS&quot;);
-  }
-  return (1,&quot;OK&quot;);
+	my ($login, $password) = @_;
+	if(!ping)
+	{
+		return (0, &quot;SERVERDOWN URL:$url ERROR:$perr&quot;);
+	}
+
+	if(!login_srv($login, $password))
+	{
+		return (0, &quot;NOACCESS&quot;);
+	}
+	return (1,&quot;OK&quot;);
 }
 
 
 sub execCommand
 {
-     my ($cmd,$param,$value)=@_;
-     my $msg;
-     my $status=1;
-     my $a_hr;
-     if($param)
-     {
-        my $p_hr;
-	if($value)
+	my ($cmd,$param,$value)=@_;
+	my $msg;
+	my $status=1;
+	my $a_hr;
+	if($param)
 	{
-	  $p_hr={object =&gt; $param, value =&gt; $value,};
+		my $p_hr;
+		if($value)
+		{
+			$p_hr={object =&gt; $param, value =&gt; $value,};
+		}
+		else
+		{
+			$p_hr={object =&gt; $param,};
+		}
+			$a_hr= $rpc-&gt;xmlrpc( { cmd =&gt; $cmd, param_hr =&gt; $p_hr} );
 	}
 	else
 	{
-	  $p_hr={object =&gt; $param,};
-	}
-        $a_hr= $rpc-&gt;xmlrpc( { cmd =&gt; $cmd, param_hr =&gt; $p_hr} );
-     }
-     else
-     {
-        $a_hr= $rpc-&gt;xmlrpc( { cmd =&gt; $cmd} );
-     }
-     my $cmdres=$a_hr-&gt;{'cmdres_r'};
-     if($a_hr-&gt;{'status'} eq 'FALSE')
-     {
-       $status=0;
-       $rpc-&gt;rpc_logout;
-       $msg='CMDERR '.$a_hr-&gt;{'cmd'}.' '.$a_hr-&gt;{'problem'}.' '.$a_hr-&gt;{'msg'};
-     }     
-     return ($status, $cmdres, $msg);
+		$a_hr= $rpc-&gt;xmlrpc( { cmd =&gt; $cmd} );
+	}
+	my $cmdres=$a_hr-&gt;{'cmdres_r'};
+	if($a_hr-&gt;{'status'} eq 'FALSE')
+	{
+		$status=0;
+		$rpc-&gt;rpc_logout;
+		$msg='CMDERR '.$a_hr-&gt;{'cmd'}.' '.$a_hr-&gt;{'problem'}.' '.$a_hr-&gt;{'msg'};
+	}
+	return ($status, $cmdres, $msg);
 }
 
 sub getRoleGroups
 {
-  my @groups;
-  my ($status,$cmdres, $msg)=execCommand('cipux_task_list_role_accounts');
-  if($status)
-  {
-      while( my ($key, $value) = each (%$cmdres))
-      {
-	push(@groups, $key);
-      }
-  }
-  return ($status, $msg, @groups);
+	my @groups;
+	my ($status,$cmdres, $msg)=execCommand('cipux_task_list_role_accounts');
+	if($status)
+	{
+		while( my ($key, $value) = each (%$cmdres))
+		{
+			push(@groups, $key);
+		}
+	}
+	return ($status, $msg, @groups);
 }
 
 sub changeUser
 {
-  my ($<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">user, at args</A>)=@_;
-  my @newgrp;
-  my @obsgrp;
-  foreach (@args)
-  {
-      my @cmd=split(&quot;:&quot;,$_);
-      if(@cmd[0] eq &quot;fname&quot;)
-      {
-	my ($status,$cmdres, $msg)=execCommand('cipux_task_change_user_account_firstname',$<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">user, at cmd</A>[1]);
-	if(!$status)
-	{
-	  return $msg;
-	}	
-      }
-      if(@cmd[0] eq &quot;lname&quot;)
-      {
-	my ($status,$cmdres, $msg)=execCommand('cipux_task_change_user_account_lastname',$<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">user, at cmd</A>[1]);
-	if(!$status)
-	{
-	  return $msg;
-	}	
-      }
-      if(@cmd[0] eq &quot;password&quot;)
-      {
-	my ($status,$cmdres, $msg)=execCommand('cipux_task_change_user_account_password',$<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">user, at cmd</A>[1]);
-	if(!$status)
-	{
-	  return $msg;
-	}	
-      }
-      if(@cmd[0] eq &quot;newgroups&quot;)
-      {
-	@newgrp=split(&quot;;&quot;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">, at cmd</A>[1]);
-      }
-      if(@cmd[0] eq &quot;obsoletegroups&quot;)
-      {
-	@obsgrp=split(&quot;;&quot;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">, at cmd</A>[1]);
-      }
-    }    
-  if(@obsgrp || @newgrp)
-  {
-    my ($rstatus,$<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">rmsg, at rolegroups</A>)=getRoleGroups();
-    if(!$rstatus)
-    {
-	  return $rmsg;
-    }    
-    foreach(@obsgrp)
-    {
-      my $grp=$_;
-      if( grep { $_ eq $grp} @rolegroups)
-      {
-	my ($status,$cmdres, $msg)=execCommand('cipux_task_remove_member_from_role_account',$grp,$user);
-	if(!$status)
-	{
-	  return $msg;
-	}		
-      }
-      else
-      {
-	my ($status,$cmdres, $msg)=execCommand('cipux_task_remove_member_from_class_share',$grp,$user);
-	if(!$status)
-	{
-	  return $msg;
-	}		
-      }
-    }
-    foreach(@newgrp)
-    {
-      my $grp=$_;
-      if( grep { $_ eq $grp} @rolegroups)
-      {
-	my ($status,$cmdres, $msg)=execCommand('cipux_task_add_member_to_role_account',$grp,$user);
-	if(!$status)
+	my ($<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">user, at args</A>)=@_;
+	my @newgrp;
+	my @obsgrp;
+	foreach (@args)
 	{
-	  return $msg;
-	}		
-      }
-      else
-      {
-	my ($status,$cmdres, $msg)=execCommand('cipux_task_add_member_to_class_share',$grp,$user);
-	if(!$status)
+		my @cmd=split(&quot;:&quot;,$_);
+		if(@cmd[0] eq &quot;fname&quot;)
+		{
+			my ($status,$cmdres, $msg)=execCommand('cipux_task_change_user_account_firstname',$<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">user, at cmd</A>[1]);
+			if(!$status)
+			{
+				return $msg;
+			}
+		}
+		if(@cmd[0] eq &quot;lname&quot;)
+		{
+			my ($status,$cmdres, $msg)=execCommand('cipux_task_change_user_account_lastname',$<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">user, at cmd</A>[1]);
+			if(!$status)
+			{
+				return $msg;
+			}
+		}
+		if(@cmd[0] eq &quot;password&quot;)
+		{
+			my ($status,$cmdres, $msg)=execCommand('cipux_task_change_user_account_password',$<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">user, at cmd</A>[1]);
+			if(!$status)
+			{
+				return $msg;
+			}
+		}
+		if(@cmd[0] eq &quot;newgroups&quot;)
+		{
+			@newgrp=split(&quot;;&quot;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">, at cmd</A>[1]);
+		}
+		if(@cmd[0] eq &quot;obsoletegroups&quot;)
+		{
+			@obsgrp=split(&quot;;&quot;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">, at cmd</A>[1]);
+		}
+	}
+	if(@obsgrp || @newgrp)
 	{
-	  return $msg;
-	}		
-      }
-    }
-  }
-  $rpc-&gt;rpc_logout;
-  return &quot;OK&quot;;
-}  
+		my ($rstatus,$<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">rmsg, at rolegroups</A>)=getRoleGroups();
+		if(!$rstatus)
+		{
+			return $rmsg;
+		}
+		foreach(@obsgrp)
+		{
+			my $grp=$_;
+			if( grep { $_ eq $grp} @rolegroups)
+			{
+				my ($status,$cmdres, $msg)=execCommand('cipux_task_remove_member_from_role_account',$grp,$user);
+				if(!$status)
+				{
+					return $msg;
+				}
+			}
+			else
+			{
+				my ($status,$cmdres, $msg)=execCommand('cipux_task_remove_member_from_class_share',$grp,$user);
+				if(!$status)
+				{
+					return $msg;
+				}
+			}
+		}
+		foreach(@newgrp)
+		{
+			my $grp=$_;
+			if( grep { $_ eq $grp} @rolegroups)
+			{
+				my ($status,$cmdres, $msg)=execCommand('cipux_task_add_member_to_role_account',$grp,$user);
+				if(!$status)
+				{
+					return $msg;
+				}
+			}
+			else
+			{
+				my ($status,$cmdres, $msg)=execCommand('cipux_task_add_member_to_class_share',$grp,$user);
+				if(!$status)
+				{
+					return $msg;
+				}
+			}
+		}
+	}
+	$rpc-&gt;rpc_logout;
+	return &quot;OK&quot;;
+}
 
 sub modifyUser
 {
- 
-  my ($login,$password,$user, @args)=@_;
-  my $retmsg=&quot;OK&quot;;
-
-  my ($status,$str)=getServerInfo($login, $password);
-  if(!$status)
-  {
-    return $str;
-  }
-  return changeUser($<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">user, at args</A>);
+	my ($login,$password,$user, @args)=@_;
+	my $retmsg=&quot;OK&quot;;
+
+	my ($status,$str)=getServerInfo($login, $password);
+	if(!$status)
+	{
+		return $str;
+	}
+	return changeUser($<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">user, at args</A>);
 }
 
 sub addUser
 {
-  my ($login,$password,$user, @args)=@_;
-  my $retmsg=&quot;OK&quot;;
-
-  my ($status,$str)=getServerInfo($login, $password);
-  if(!$status)
-  {
-    return $str;
-  }
-  my $res;
-  my $msg;
-  ($status,$res, $msg)=execCommand('cipux_task_create_user_account',$user);
-  if(!$status)
-  {
-    return $msg;
-  }  
-  return changeUser($<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">user, at args</A>);
+	my ($login,$password,$user, @args)=@_;
+	my $retmsg=&quot;OK&quot;;
+
+	my ($status,$str)=getServerInfo($login, $password);
+	if(!$status)
+	{
+		return $str;
+	}
+	my $res;
+	my $msg;
+	($status,$res, $msg)=execCommand('cipux_task_create_user_account',$user);
+	if(!$status)
+	{
+		return $msg;
+	}
+	return changeUser($<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">user, at args</A>);
 }
 
 sub getUsers
 {
-  my ($login, $password) = @_;
-  my ($status,$str)=getServerInfo($login, $password);
-  if(!$status)
-  {
-    return $str;
-  }
-  $str=userAttributes();  
-  my $cmdres;
-  my $msg;
-  ($status,$cmdres, $msg)=execCommand('cipux_task_retrieve_all_user_account_lastname_firstname');
-  if(!$status)
-  {
-    return $msg;
-  }
-  $str=$str.&quot;\nBEGIN_USERS&quot;;
-  ($status,$msg)=getAllUsers();
-  if(! $status)
-  {
-    return $msg;
-  }  
-  $str=$str.$msg.&quot;\nEND_USERS&quot;;
-
-  $rpc-&gt;rpc_logout;
-  return $str;
+	my ($login, $password) = @_;
+	my ($status,$str)=getServerInfo($login, $password);
+	if(!$status)
+	{
+		return $str;
+	}
+	$str=userAttributes();  
+	my $cmdres;
+	my $msg;
+	($status,$cmdres, $msg)=execCommand('cipux_task_retrieve_all_user_account_lastname_firstname');
+	if(!$status)
+	{
+		return $msg;
+	}
+	$str=$str.&quot;\nBEGIN_USERS&quot;;
+	($status,$msg)=getAllUsers();
+	if(! $status)
+	{
+		return $msg;
+	}
+	$str=$str.$msg.&quot;\nEND_USERS&quot;;
+
+	$rpc-&gt;rpc_logout;
+	return $str;
 }
 
 sub userAttributes
 {
-  return &quot;BEGIN_USERATTR\
+	return &quot;BEGIN_USERATTR\
 uid:edit=0;unicode=0\
 firstname:edit=1;unicode=0\
 lastname:edit=1;unicode=0\
@@ -298,7 +296,7 @@ END_USERATTR&quot;;
 
 sub groupAttributes
 {
-  return &quot;BEGIN_GROUPATTR\
+	return &quot;BEGIN_GROUPATTR\
 name:edit=0;unicode=0\
 type:edit=0;vars=class_share,course_share,lecture_share,reading_share,seminar_share,studygroup_share,team_share,tutorial_share,workshop_share\
 password:edit=1;oncreate=0\
@@ -308,400 +306,395 @@ END_GROUPATTR&quot;;
 
 sub getGroups
 {
-  my ($login, $password) = @_;
-  my ($status,$str)=getServerInfo($login, $password);
-  if(!$status)
-  {
-    return $str;
-  }
-  $str=groupAttributes();  
-  my $cmdres;
-  my $msg;
-  $str=$str.&quot;\nBEGIN_USERS&quot;;
-  ($status,$msg)=getAllUsers();
-  if(! $status)
-  {
-    return $msg;
-  }  
-  $str=$str.$msg.&quot;\nEND_USERS&quot;;
-  $str=$str.&quot;\nBEGIN_GROUPS\n&quot;;  
-  my $res;
-  ($status,$msg,$res)=getAllGroupsWithUsers();
-  if(!$status)
-  {
-    return $msg;
-  }
-  $str=$str.$res;
-  $str=$str.&quot;\nEND_GROUPS\n&quot;;  
-
-  $rpc-&gt;rpc_logout;
-  return $str;
+	my ($login, $password) = @_;
+	my ($status,$str)=getServerInfo($login, $password);
+	if(!$status)
+	{
+		return $str;
+	}
+	$str=groupAttributes();  
+	my $cmdres;
+	my $msg;
+	$str=$str.&quot;\nBEGIN_USERS&quot;;
+	($status,$msg)=getAllUsers();
+	if(! $status)
+	{
+		return $msg;
+	}
+	$str=$str.$msg.&quot;\nEND_USERS&quot;;
+	$str=$str.&quot;\nBEGIN_GROUPS\n&quot;;  
+	my $res;
+	($status,$msg,$res)=getAllGroupsWithUsers();
+	if(!$status)
+	{
+		return $msg;
+	}
+	$str=$str.$res;
+	$str=$str.&quot;\nEND_GROUPS\n&quot;;  
+
+	$rpc-&gt;rpc_logout;
+	return $str;
 }
 
 sub getAllUsers
 {
-  my ($status,$cmdres, $msg)=execCommand('cipux_task_retrieve_all_user_account_lastname_firstname');
-  if(!$status)
-  {
-    return  ($status, $msg);
-  }
-  my $str;
-  while( my ($key, $value) = each (%$cmdres))
-  {
-    if($value-&gt;{'cipuxFirstname'}[0] ne &quot;Role&quot; &amp;&amp; $value-&gt;{'cipuxLastname'}[0] ne &quot;Account&quot;)
-    {
-       $str=$str.&quot;\nUID=&quot;.$value-&gt;{'uid'}[0].&quot;:FNAME=&quot;.$value-&gt;{'cipuxFirstname'}[0].&quot;:LNAME=&quot;.$value-&gt;{'cipuxLastname'}[0];
-    }
-  }
-  return ($status, $str);
+	my ($status,$cmdres, $msg)=execCommand('cipux_task_retrieve_all_user_account_lastname_firstname');
+	if(!$status)
+	{
+		return  ($status, $msg);
+	}
+	my $str;
+	while( my ($key, $value) = each (%$cmdres))
+	{
+		if($value-&gt;{'cipuxFirstname'}[0] ne &quot;Role&quot; &amp;&amp; $value-&gt;{'cipuxLastname'}[0] ne &quot;Account&quot;)
+		{
+			$str=$str.&quot;\nUID=&quot;.$value-&gt;{'uid'}[0].&quot;:FNAME=&quot;.$value-&gt;{'cipuxFirstname'}[0].&quot;:LNAME=&quot;.$value-&gt;{'cipuxLastname'}[0];
+		}
+	}
+	return ($status, $str);
 }
 
 
 sub getGroupsWithUsers
 {
-  my ($login, $password) = @_;
-  my ($status,$str)=getServerInfo($login, $password);
-  if(!$status)
-  {
-    return $str;
-  }
-  $str=userAttributes;  
-  my $cmdres;
-  my $msg;
-  $str=$str.&quot;\nBEGIN_USERS&quot;;
-  ($status,$msg)=getAllUsers();
-  if(! $status)
-  {
-    return $msg;
-  }  
-  $str=$str.$msg.&quot;\nEND_USERS&quot;;
-  $str=$str.&quot;\nBEGIN_GROUPS\n&quot;;  
-  my $res;
-  ($status,$msg,$res)=getAllGroupsWithUsers();
-  if(!$status)
-  {
-    return $msg;
-  }
-  $str=$str.$res;
-  $str=$str.&quot;\nEND_GROUPS\n&quot;;  
-
-  $rpc-&gt;rpc_logout;
-  return $str;
+	my ($login, $password) = @_;
+	my ($status,$str)=getServerInfo($login, $password);
+	if(!$status)
+	{
+		return $str;
+	}
+	$str=userAttributes;  
+	my $cmdres;
+	my $msg;
+	$str=$str.&quot;\nBEGIN_USERS&quot;;
+	($status,$msg)=getAllUsers();
+	if(! $status)
+	{
+		return $msg;
+	}
+	$str=$str.$msg.&quot;\nEND_USERS&quot;;
+	$str=$str.&quot;\nBEGIN_GROUPS\n&quot;;
+	my $res;
+	($status,$msg,$res)=getAllGroupsWithUsers();
+	if(!$status)
+	{
+		return $msg;
+	}
+	$str=$str.$res;
+	$str=$str.&quot;\nEND_GROUPS\n&quot;;  
+
+	$rpc-&gt;rpc_logout;
+	return $str;
 }
 
 sub getAllGroupsWithUsers
 {
 
-  my $str;
-  my ($status,$cmdres_all_tasks, $msg)=execCommand('cipux_task_list_tasks');
-  if(!$status)
-  {
-    return ($status, $msg, $str);
-  }  
-  while( my ($key, $value) = each (%$cmdres_all_tasks))
-  {
-    if($key =~ m/list/ &amp;&amp; $key =~ m/accounts/ &amp;&amp; 
-      $key ne &quot;cipux_task_list_user_accounts&quot; &amp;&amp;
-      $key ne &quot;cipux_task_list_role_accounts&quot; &amp;&amp;
-      $key ne &quot;cipux_task_list_skel_accounts&quot;)
-    {
-      my $cmdres;
-      ($status,$cmdres, $msg)=execCommand($key);
-      if(!$status)
-      {
-         return ($status, $msg, $str);
-      }
-      while( my ($gkey, $gvalue) = each (%$cmdres))
-      {
-	my $aref=$gvalue-&gt;{'memberUid'};
-	$str=$str.&quot;\nNAME=&quot;.$gkey.&quot;:TYPE=role:MEMBERS=&quot;.join(&quot;;&quot;,@$aref);
-      }
-    }
-    if($key =~ m/list/ &amp;&amp; $key =~ m/shares/)
-    {
-      my $cmdres;
-      ($status,$cmdres, $msg)=execCommand($key);
-      if(!$status)
-      {
-             return ($status, $msg, $str);
-      }
-      while( my ($gkey, $gvalue) = each (%$cmdres))
-      {
-	  my $sharetype=(split(&quot;_&quot;,$key))[3];
-	  my $cmdshareres;
-          ($status,$cmdshareres, $msg)=execCommand(&quot;cipux_task_list_members_of_$sharetype&quot;.&quot;_share&quot;, $gkey);
-          if(!$status)
-          {
-            return ($status, $msg, $str);
-          }
-	  while( my ($gkey, $gvalue) = each (%$cmdshareres))
-	  {
-	    my $aref=$gvalue-&gt;{'memberUid'};
-	    $str=$str.&quot;\nNAME=&quot;.$gkey.&quot;:TYPE=&quot;.$sharetype.&quot;_share:MEMBERS=&quot;.join(&quot;;&quot;,@$aref);
-	  }
-      }      
-    }
-  }
-  return ($status, $msg, $str);
+	my $str;
+	my ($status,$cmdres_all_tasks, $msg)=execCommand('cipux_task_list_tasks');
+	if(!$status)
+	{
+		return ($status, $msg, $str);
+	}
+	while( my ($key, $value) = each (%$cmdres_all_tasks))
+	{
+		if($key =~ m/list/ &amp;&amp; $key =~ m/accounts/ &amp;&amp; 
+		   $key ne &quot;cipux_task_list_user_accounts&quot; &amp;&amp;
+		   $key ne &quot;cipux_task_list_role_accounts&quot; &amp;&amp;
+		   $key ne &quot;cipux_task_list_skel_accounts&quot;)
+		{
+			my $cmdres;
+			($status,$cmdres, $msg)=execCommand($key);
+			if(!$status)
+			{
+				return ($status, $msg, $str);
+			}
+			while( my ($gkey, $gvalue) = each (%$cmdres))
+			{
+				my $aref=$gvalue-&gt;{'memberUid'};
+				$str=$str.&quot;\nNAME=&quot;.$gkey.&quot;:TYPE=role:MEMBERS=&quot;.join(&quot;;&quot;,@$aref);
+			}
+		}
+		if($key =~ m/list/ &amp;&amp; $key =~ m/shares/)
+		{
+			my $cmdres;
+			($status,$cmdres, $msg)=execCommand($key);
+			if(!$status)
+			{
+				return ($status, $msg, $str);
+			}
+			while( my ($gkey, $gvalue) = each (%$cmdres))
+			{
+				my $sharetype=(split(&quot;_&quot;,$key))[3];
+				my $cmdshareres;
+				($status,$cmdshareres, $msg)=execCommand(&quot;cipux_task_list_members_of_$sharetype&quot;.&quot;_share&quot;, $gkey);
+				if(!$status)
+				{
+					return ($status, $msg, $str);
+				}
+				while( my ($gkey, $gvalue) = each (%$cmdshareres))
+				{
+					my $aref=$gvalue-&gt;{'memberUid'};
+					$str=$str.&quot;\nNAME=&quot;.$gkey.&quot;:TYPE=&quot;.$sharetype.&quot;_share:MEMBERS=&quot;.join(&quot;;&quot;,@$aref);
+				}
+			}
+		}
+	}
+	return ($status, $msg, $str);
 }
 
 sub getGroupsOfUser
 {
-  my ($login, $password, $user) = @_;
-  my ($status,$str)=getServerInfo($login, $password);
-  
-  if(!$status)
-  {
-    return $str;
-  }
-  $str=&quot;&quot;;
-
-  my $cmdres_all_tasks;
-  my $msg;
-  ($status,$cmdres_all_tasks, $msg)=execCommand('cipux_task_list_tasks');
-  if(!$status)
-  {
-    return $msg;
-  }
-  
-  while( my ($key, $value) = each (%$cmdres_all_tasks))
-  {
-    if($key =~ m/list/ &amp;&amp; $key =~ m/accounts/ &amp;&amp; 
-      $key ne &quot;cipux_task_list_user_accounts&quot; &amp;&amp;
-      $key ne &quot;cipux_task_list_role_accounts&quot; &amp;&amp;
-      $key ne &quot;cipux_task_list_skel_accounts&quot;)
-    {
-      my $cmdres;
-      ($status,$cmdres, $msg)=execCommand($key);
-      if(!$status)
-      {
-	return $msg;
-      }
-      while( my ($gkey, $gvalue) = each (%$cmdres))
-      {
-	my $aref=$gvalue-&gt;{'memberUid'};
-	my $exists='0';
-	  
-	if( grep { $_ eq $user} @$aref)
-	{
-	  $exists='1';
-	}
-	$str=$str.&quot;\n&quot;.$gkey.&quot;:$exists&quot;;
-      }
-    }
-    if($key =~ m/list/ &amp;&amp; $key =~ m/shares/)
-    {
-      my $cmdres;
-      ($status,$cmdres, $msg)=execCommand($key);
-      if(!$status)
-      {
-	return $msg;
-      }
-      while( my ($gkey, $gvalue) = each (%$cmdres))
-      {
-	  my $sharetype=(split(&quot;_&quot;,$key))[3];
-
-	  my $cmdshareres;
-          ($status,$cmdshareres, $msg)=execCommand(&quot;cipux_task_list_members_of_$sharetype&quot;.&quot;_share&quot;, $gkey);
-          if(!$status)
-          {
-	      return $msg;
-          }
-	  while( my ($gkey, $gvalue) = each (%$cmdshareres))
-	  {
-	    my $aref=$gvalue-&gt;{'memberUid'};
-	    my $exists='0';
-	      
-	    if( grep { $_ eq $user} @$aref)
-	    {
-	      $exists='1';
-	    }
-	    $str=$str.&quot;\n&quot;.$gkey.&quot;:$exists&quot;;
-	  }
-      }
-      
-    }
-  }
-  $rpc-&gt;rpc_logout;
-  return $str;
+	my ($login, $password, $user) = @_;
+	my ($status,$str)=getServerInfo($login, $password);
+
+	if(!$status)
+	{
+		return $str;
+	}
+	$str=&quot;&quot;;
+
+	my $cmdres_all_tasks;
+	my $msg;
+	($status,$cmdres_all_tasks, $msg)=execCommand('cipux_task_list_tasks');
+	if(!$status)
+	{
+		return $msg;
+	}
+
+	while( my ($key, $value) = each (%$cmdres_all_tasks))
+	{
+		if($key =~ m/list/ &amp;&amp; $key =~ m/accounts/ &amp;&amp; 
+		   $key ne &quot;cipux_task_list_user_accounts&quot; &amp;&amp;
+		   $key ne &quot;cipux_task_list_role_accounts&quot; &amp;&amp;
+		   $key ne &quot;cipux_task_list_skel_accounts&quot;)
+		{
+			my $cmdres;
+			($status,$cmdres, $msg)=execCommand($key);
+			if(!$status)
+			{
+				return $msg;
+			}
+			while( my ($gkey, $gvalue) = each (%$cmdres))
+			{
+				my $aref=$gvalue-&gt;{'memberUid'};
+				my $exists='0';
+
+				if( grep { $_ eq $user} @$aref)
+				{
+					$exists='1';
+				}
+				$str=$str.&quot;\n&quot;.$gkey.&quot;:$exists&quot;;
+			}
+		}
+		if($key =~ m/list/ &amp;&amp; $key =~ m/shares/)
+		{
+			my $cmdres;
+			($status,$cmdres, $msg)=execCommand($key);
+			if(!$status)
+			{
+				return $msg;
+			}
+			while( my ($gkey, $gvalue) = each (%$cmdres))
+			{
+				my $sharetype=(split(&quot;_&quot;,$key))[3];
+
+				my $cmdshareres;
+				($status,$cmdshareres, $msg)=execCommand(&quot;cipux_task_list_members_of_$sharetype&quot;.&quot;_share&quot;, $gkey);
+				if(!$status)
+				{
+					return $msg;
+				}
+				while( my ($gkey, $gvalue) = each (%$cmdshareres))
+				{
+					my $aref=$gvalue-&gt;{'memberUid'};
+					my $exists='0';
+
+					if( grep { $_ eq $user} @$aref)
+					{
+						$exists='1';
+					}
+					$str=$str.&quot;\n&quot;.$gkey.&quot;:$exists&quot;;
+				}
+			}
+		}
+	}
+	$rpc-&gt;rpc_logout;
+	return $str;
 }
 
 sub removeUsers
 {
-  my ($login, $password, $users) = @_;
-  my ($status,$str)=getServerInfo($login, $password);
-  if(!$status)
-  {
-    return $str;
-  }
-  my @ulist=split(&quot;;&quot;,$users);
-  foreach(@ulist)
-  {
-          my ($tstatus,$res, $msg)=execCommand(&quot;cipux_task_destroy_user_account&quot;, $_);
-          if(!$tstatus)
-          {
-	      return $msg;
-          }
-  }
-  $rpc-&gt;rpc_logout;
-  return &quot;OK&quot;;
+	my ($login, $password, $users) = @_;
+	my ($status,$str)=getServerInfo($login, $password);
+	if(!$status)
+	{
+		return $str;
+	}
+	my @ulist=split(&quot;;&quot;,$users);
+	foreach(@ulist)
+	{
+		my ($tstatus,$res, $msg)=execCommand(&quot;cipux_task_destroy_user_account&quot;, $_);
+		if(!$tstatus)
+		{
+			return $msg;
+		}
+	}
+	$rpc-&gt;rpc_logout;
+	return &quot;OK&quot;;
 }
 
 sub removeGroups
 {
-  my ($login, $password, $groups) = @_;
-  my ($status,$str)=getServerInfo($login, $password);
-  if(!$status)
-  {
-    return $str;
-  }
-  
-  my @rolegroups;
-  my $msg;
-  ($status, $msg, @rolegroups)=getRoleGroups;
-  if(!$status)
-  {
-    return $str;
-  }
-  
-  my @glist=split(&quot;;&quot;,$groups);
-  foreach(@glist)
-  {
-      my $grp=$_;
-      if( grep { $_ eq $grp} @rolegroups)
-      {
-	#skip role group
-      }
-      else
-      {
-	my ($tstatus,$res, $msg)=execCommand(&quot;cipux_task_destroy_class_share&quot;, $grp);
-        if(!$tstatus)
-        {
-	      return $msg;
-        }
-      }
-  }
-  $rpc-&gt;rpc_logout;
-  return &quot;OK&quot;;
+	my ($login, $password, $groups) = @_;
+	my ($status,$str)=getServerInfo($login, $password);
+	if(!$status)
+	{
+		return $str;
+	}
+
+	my @rolegroups;
+	my $msg;
+	($status, $msg, @rolegroups)=getRoleGroups;
+	if(!$status)
+	{
+		return $str;
+	}
+
+	my @glist=split(&quot;;&quot;,$groups);
+	foreach(@glist)
+	{
+		my $grp=$_;
+		if( grep { $_ eq $grp} @rolegroups)
+		{
+			#skip role group
+		}
+		else
+		{
+			my ($tstatus,$res, $msg)=execCommand(&quot;cipux_task_destroy_class_share&quot;, $grp);
+			if(!$tstatus)
+			{
+				return $msg;
+			}
+		}
+	}
+	$rpc-&gt;rpc_logout;
+	return &quot;OK&quot;;
 }
 
 
 sub modifyGroup
 {
- 
-  my ($login,$password,$<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">group, at args</A>)=@_;
-  my $retmsg=&quot;OK&quot;;
-
-  my ($status,$str)=getServerInfo($login, $password);
-  if(!$status)
-  {
-    return $str;
-  }
-  return changeGroup($<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">group, at args</A>);
+	my ($login,$password,$<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">group, at args</A>)=@_;
+	my $retmsg=&quot;OK&quot;;
+
+	my ($status,$str)=getServerInfo($login, $password);
+	if(!$status)
+	{
+		return $str;
+	}
+	return changeGroup($<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">group, at args</A>);
 }
 
 sub addGroup
 {
- 
-  my ($login,$password,$<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">group, at args</A>)=@_;
-  my $retmsg=&quot;OK&quot;;
-
-  my ($status,$str)=getServerInfo($login, $password);
-  if(!$status)
-  {
-    return $str;
-  }
-  my $type;
-  foreach (@args)
-  {
-      my @cmd=split(&quot;:&quot;,$_);
-      if(@cmd[0] eq &quot;type&quot;)
-      {
-         $type=@cmd[1];
-      }
-  }
-  my $res;
-  my $msg;
-  ($status,$res, $msg)=execCommand('cipux_task_create_'.$type,$group);
-  if(!$status)
-  {
-    return $msg;
-  }   
-  return $retmsg;
+	my ($login,$password,$<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">group, at args</A>)=@_;
+	my $retmsg=&quot;OK&quot;;
+
+	my ($status,$str)=getServerInfo($login, $password);
+	if(!$status)
+	{
+		return $str;
+	}
+	my $type;
+	foreach (@args)
+	{
+		my @cmd=split(&quot;:&quot;,$_);
+		if(@cmd[0] eq &quot;type&quot;)
+		{
+			$type=@cmd[1];
+		}
+	}
+	my $res;
+	my $msg;
+	($status,$res, $msg)=execCommand('cipux_task_create_'.$type,$group);
+	if(!$status)
+	{
+		return $msg;
+	}
+	return $retmsg;
 }
 
 
 
 sub changeGroup
 {
-  my ($<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">group, at args</A>)=@_;
-  my @newusers;
-  my @obsusers;
-  my $type;
-  my $password;
-  my $str=&quot;OK&quot;;
-  foreach (@args)
-  {
-      my @cmd=split(&quot;:&quot;,$_);
-      if(@cmd[0] eq &quot;password&quot;)
-      {
-	$password=@cmd[1];
-      }
-      if(@cmd[0] eq &quot;type&quot;)
-      {
-	$type=@cmd[1];
-
-      }
-      if(@cmd[0] eq &quot;newmembers&quot;)
-      {
-	@newusers=split(&quot;;&quot;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">, at cmd</A>[1]);
-      }
-      if(@cmd[0] eq &quot;obsoletemembers&quot;)
-      {
-	@obsusers=split(&quot;;&quot;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">, at cmd</A>[1]);
-
-      }
-  }    
-  if($password &amp;&amp; $type ne 'role')
-  {
-    	my ($status,$cmdres, $msg)=execCommand('cipux_task_change_'.$type.'_password',$group,$password);
-        if(!$status)
-	{
-	  return $msg;
-	}
-  }
-  foreach(@obsusers)
-  {
-	my ($status,$cmdres, $msg);
-	if($type eq 'role' )
-	{
-	    ($status,$cmdres, $msg)=execCommand('cipux_task_remove_member_from_role_account',$group,$_);
-	}
-	else
+	my ($<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">group, at args</A>)=@_;
+	my @newusers;
+	my @obsusers;
+	my $type;
+	my $password;
+	my $str=&quot;OK&quot;;
+	foreach (@args)
 	{
-	    ($status,$cmdres, $msg)=execCommand('cipux_task_remove_member_from_'.$type,$group,$_);
+		my @cmd=split(&quot;:&quot;,$_);
+		if(@cmd[0] eq &quot;password&quot;)
+		{
+			$password=@cmd[1];
+		}
+		if(@cmd[0] eq &quot;type&quot;)
+		{
+			$type=@cmd[1];
+		}
+		if(@cmd[0] eq &quot;newmembers&quot;)
+		{
+			@newusers=split(&quot;;&quot;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">, at cmd</A>[1]);
+		}
+		if(@cmd[0] eq &quot;obsoletemembers&quot;)
+		{
+			@obsusers=split(&quot;;&quot;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">, at cmd</A>[1]);
+		}
 	}
-	if(!$status)
-	{
-	  return $msg;
-	}		
-  }
-  foreach(@newusers)
-  {
-	my ($status,$cmdres, $msg);
-	if($type eq 'role' )
+	if($password &amp;&amp; $type ne 'role')
 	{
-	  ($status,$cmdres, $msg)=execCommand('cipux_task_add_member_to_role_account',$group,$_);
-	}	
-	else
+		my ($status,$cmdres, $msg)=execCommand('cipux_task_change_'.$type.'_password',$group,$password);
+		if(!$status)
+		{
+			return $msg;
+		}
+	}
+	foreach(@obsusers)
 	{
-	  ($status,$cmdres, $msg)=execCommand('cipux_task_add_member_to_'.$type,$group,$_);
+		my ($status,$cmdres, $msg);
+		if($type eq 'role' )
+		{
+			($status,$cmdres, $msg)=execCommand('cipux_task_remove_member_from_role_account',$group,$_);
+		}
+		else
+		{
+			($status,$cmdres, $msg)=execCommand('cipux_task_remove_member_from_'.$type,$group,$_);
+		}
+		if(!$status)
+		{
+			return $msg;
+		}
 	}
-	if(!$status)
+	foreach(@newusers)
 	{
-	  return $msg;
-	}		
-  }
-  $rpc-&gt;rpc_logout;
-  return $str;
-}  
+		my ($status,$cmdres, $msg);
+		if($type eq 'role' )
+		{
+			($status,$cmdres, $msg)=execCommand('cipux_task_add_member_to_role_account',$group,$_);
+		}
+		else
+		{
+			($status,$cmdres, $msg)=execCommand('cipux_task_add_member_to_'.$type,$group,$_);
+		}
+		if(!$status)
+		{
+			return $msg;
+		}
+	}
+	$rpc-&gt;rpc_logout;
+	return $str;
+}


hooks/post-receive
-- 
x2goadmincenter.git (X2go Administration Center)

This is an automated email from the git hooks/post-receive script. It was
generated because a ref change was pushed to the repository containing
the project &quot;x2goadmincenter.git&quot; (X2go Administration Center).


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001521.html">[X2go-Commits] x2goadmincenter.git - master (branch) updated:	bd45e1a6373efeb3983c899804c1780a0c0d1d09
</A></li>
	<LI>Next message: <A HREF="001523.html">[X2go-Commits] buildscripts.git - master (branch) updated:	1d27752bd12d2f7985462e7a135ec8d3211ac19a
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1522">[ date ]</a>
              <a href="thread.html#1522">[ thread ]</a>
              <a href="subject.html#1522">[ subject ]</a>
              <a href="author.html#1522">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/x2go-commits">More information about the X2go-commits
mailing list</a><br>
</body></html>
