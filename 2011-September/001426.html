<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [X2go-Commits] x2goserver.git - master (branch) updated:	3.0.99-2-230-g6d4b1f0
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/x2go-commits/2011-September/index.html" >
   <LINK REL="made" HREF="mailto:x2go-commits%40lists.berlios.de?Subject=Re%3A%20%5BX2go-Commits%5D%20x2goserver.git%20-%20master%20%28branch%29%20updated%3A%0A%093.0.99-2-230-g6d4b1f0&In-Reply-To=%3C20110909162415.876A95DB1B%40ymir%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001425.html">
   <LINK REL="Next"  HREF="001427.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[X2go-Commits] x2goserver.git - master (branch) updated:	3.0.99-2-230-g6d4b1f0</H1>
    <B>X2go dev team</B> 
    <A HREF="mailto:x2go-commits%40lists.berlios.de?Subject=Re%3A%20%5BX2go-Commits%5D%20x2goserver.git%20-%20master%20%28branch%29%20updated%3A%0A%093.0.99-2-230-g6d4b1f0&In-Reply-To=%3C20110909162415.876A95DB1B%40ymir%3E"
       TITLE="[X2go-Commits] x2goserver.git - master (branch) updated:	3.0.99-2-230-g6d4b1f0">git-admin at x2go.org
       </A><BR>
    <I>Fri Sep  9 18:24:15 CEST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="001425.html">[X2go-Commits] python-x2go.git - release/0.1.1.x (branch) updated:	0.1.1.4-24-g73cf843
</A></li>
        <LI>Next message: <A HREF="001427.html">[X2go-Commits] x2goserver.git - master (branch) updated:	3.0.99-2-231-gb8c1e92
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1426">[ date ]</a>
              <a href="thread.html#1426">[ thread ]</a>
              <a href="subject.html#1426">[ subject ]</a>
              <a href="author.html#1426">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>The branch, master has been updated
       via  6d4b1f0ea803d86b5f421de4047d334f69e63fe6 (commit)
       via  c4aa48e53727bf9da045908431008e7e63e683f9 (commit)
       via  4c778c0a532a0c5724a0e88428aa041aca16e481 (commit)
       via  fdb1e9006629617de1b83c1871999a4132c75c8b (commit)
       via  e42a541cbeddb30c86ed5b00ab131a9a380d23da (commit)
       via  4d021c4d43919869c73cc5894ed6d1ca95b75225 (commit)
       via  aaa640c840713db2578c03012e54b1a96fb00c41 (commit)
      from  49887e82635ea1b030636cb276152fdd8656cef2 (commit)

Those revisions listed above that are new to this repository have
not appeared on any other notification email; so we list those
revisions in full, below.

- Log -----------------------------------------------------------------
commit 6d4b1f0ea803d86b5f421de4047d334f69e63fe6
Author: Mike Gabriel &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">mike.gabriel at das-netzwerkteam.de</A>&gt;
Date:   Fri Sep 9 18:25:23 2011 +0200

    Add info loglevel messages for all scripts in bin dir.

commit c4aa48e53727bf9da045908431008e7e63e683f9
Author: Mike Gabriel &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">mike.gabriel at das-netzwerkteam.de</A>&gt;
Date:   Fri Sep 9 18:11:09 2011 +0200

    fix line-too-long in changelog

commit 4c778c0a532a0c5724a0e88428aa041aca16e481
Author: Mike Gabriel &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">mike.gabriel at das-netzwerkteam.de</A>&gt;
Date:   Fri Sep 9 17:40:41 2011 +0200

    Add debugging support for almost all DB functions in x2godbwrapper.pm, fix for Syslog module initialization in all Perl scripts.

commit fdb1e9006629617de1b83c1871999a4132c75c8b
Author: Mike Gabriel &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">mike.gabriel at das-netzwerkteam.de</A>&gt;
Date:   Fri Sep 9 17:16:03 2011 +0200

    add package statement for x2gologlevel package

commit e42a541cbeddb30c86ed5b00ab131a9a380d23da
Author: Mike Gabriel &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">mike.gabriel at das-netzwerkteam.de</A>&gt;
Date:   Fri Sep 9 16:45:18 2011 +0200

    dropping duplicate script x2gosessionlimit from lib dir

commit 4d021c4d43919869c73cc5894ed6d1ca95b75225
Author: Mike Gabriel &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">mike.gabriel at das-netzwerkteam.de</A>&gt;
Date:   Fri Sep 9 16:04:10 2011 +0200

    fix for module import

commit aaa640c840713db2578c03012e54b1a96fb00c41
Author: Mike Gabriel &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">mike.gabriel at das-netzwerkteam.de</A>&gt;
Date:   Fri Sep 9 15:56:50 2011 +0200

    comment update that explains different loglevels

-----------------------------------------------------------------------

Summary of changes:
 debian/changelog                          |    3 +
 x2goserver/bin/x2golistdesktops           |    8 ++-
 x2goserver/bin/x2golistsessions           |    7 ++-
 x2goserver/bin/x2gomountdirs              |    4 +-
 x2goserver/bin/x2goprint                  |    4 +-
 x2goserver/bin/x2goresume-session         |    2 +
 x2goserver/bin/x2goruncommand             |    7 ++-
 x2goserver/bin/x2gosessionlimit           |    4 +-
 x2goserver/bin/x2goshowblocks             |    4 +-
 x2goserver/bin/x2gostartagent             |    6 +-
 x2goserver/bin/x2gosuspend-session        |    2 +
 x2goserver/bin/x2goterminate-session      |    2 +
 x2goserver/bin/x2goumount-session         |    4 +-
 x2goserver/etc/x2goserver.conf            |    2 +-
 x2goserver/lib/x2gochangestatus           |    2 +-
 x2goserver/lib/x2gocreatesession          |    2 +-
 x2goserver/lib/x2godbwrapper.pm           |   63 +++++++++++++----
 x2goserver/lib/x2gogetagent               |    6 +-
 x2goserver/lib/x2gogetdisplays            |    5 +-
 x2goserver/lib/x2gogetports               |    6 +-
 x2goserver/lib/x2gogetservers             |    6 +-
 x2goserver/lib/x2goinsertport             |    2 +-
 x2goserver/lib/x2goinsertsession          |    2 +-
 x2goserver/lib/x2golistsessions_root      |    3 +-
 x2goserver/lib/x2golistsessions_sql       |    6 +-
 x2goserver/lib/x2gologlevel               |    1 -
 x2goserver/lib/x2gologlevel.pm            |    2 +
 x2goserver/lib/x2goresume                 |    2 +-
 x2goserver/lib/x2gosessionlimit           |  105 -----------------------------
 x2goserver/lib/x2gosqlitewrapper.pl       |    1 -
 x2goserver/lib/x2gosuspend-agent          |    3 +-
 x2goserver/lib/{x2goresume =&gt; x2gosyslog} |   13 ++--
 x2goserver/sbin/x2gocleansessions         |    6 +-
 x2goserver/sbin/x2godbadmin               |    2 +-
 x2goserver/sbin/x2golistsessions_root     |    2 +-
 35 files changed, 136 insertions(+), 163 deletions(-)
 delete mode 100755 x2goserver/lib/x2gosessionlimit
 copy x2goserver/lib/{x2goresume =&gt; x2gosyslog} (86%)

The diff of changes is:
diff --git a/debian/changelog b/debian/changelog
index 4df4777..7f597df 100644
--- a/debian/changelog
+++ b/debian/changelog
@@ -41,6 +41,9 @@ x2goserver (3.0.99.5-0~x2go3) UNRELEASED; urgency=low
   * Change x2gologlevel script into a Perl module (and a script that calls it).
     Using x2gologlevel function in x2goprint to set loglevel mask.
   * Initialize Syslog module for all Perl scripts in x2goserver package.
+  * Add debugging support for almost all DB functions in x2godbwrapper.pm, fix
+    for Syslog module initialization in all Perl scripts.
+  * Add info loglevel messages for all scripts in bin dir.
 
   [ Martin Oehler ]
   * Removes old debug code fragment, fixes x2golistsessions parsing.
diff --git a/x2goserver/bin/x2golistdesktops b/x2goserver/bin/x2golistdesktops
index 5642271..33e7e05 100755
--- a/x2goserver/bin/x2golistdesktops
+++ b/x2goserver/bin/x2golistdesktops
@@ -22,7 +22,7 @@
 
 use strict;
 use Sys::Hostname;
-use Sys::Syslog qw( :DEFAULT );
+use Sys::Syslog qw( :standard :macros );
 
 use lib `echo -n \$(x2gobasepath)/lib/x2go`;
 use x2gologlevel;
@@ -31,6 +31,12 @@ openlog($0,'cons,pid','user');
 setlogmask( LOG_UPTO(x2gologlevel()) );
 
 
+if ( @ARGV ) {
+	syslog('info', &quot;x2golistdesktops has been called with options: @ARGV&quot;);
+} else {
+	syslog('info', &quot;x2golistdesktops has been called without options&quot;);
+}
+
 my $serv=shift;
 if( ! $serv)
 {
diff --git a/x2goserver/bin/x2golistsessions b/x2goserver/bin/x2golistsessions
index 56a943f..2a99327 100755
--- a/x2goserver/bin/x2golistsessions
+++ b/x2goserver/bin/x2golistsessions
@@ -22,7 +22,7 @@
 
 use strict;
 use Sys::Hostname;
-use Sys::Syslog qw( :DEFAULT );
+use Sys::Syslog qw( :standard :macros );
 
 use lib `echo -n \$(x2gobasepath)/lib/x2go`;
 use x2godbwrapper; 
@@ -31,6 +31,11 @@ use x2gologlevel;
 openlog($0,'cons,pid','user');
 setlogmask( LOG_UPTO(x2gologlevel()) );
 
+if ( @ARGV ) {
+	syslog('info', &quot;x2golistsessions has been called with options: @ARGV&quot;);
+} else {
+	syslog('info', &quot;x2golistsessions has been called with no option&quot;);
+}
 
 sub check_stat
 {
diff --git a/x2goserver/bin/x2gomountdirs b/x2goserver/bin/x2gomountdirs
index 5364664..3f94f6c 100755
--- a/x2goserver/bin/x2gomountdirs
+++ b/x2goserver/bin/x2gomountdirs
@@ -21,7 +21,7 @@
 # Copyright (C) 2007-2011  Heinz-Markus Graesing &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">heinz-m.graesing at obviously-nice.de</A>&gt;
 
 use strict;
-use Sys::Syslog qw( :DEFAULT );
+use Sys::Syslog qw( :standard :macros );
 
 use lib `echo -n \$(x2gobasepath)/lib/x2go`;
 use x2godbwrapper;
@@ -31,6 +31,8 @@ openlog($0,'cons,pid','user');
 setlogmask( LOG_UPTO(x2gologlevel()) );
 
 
+syslog('info', &quot;x2golistmountdirs has been called with options: @ARGV&quot;);
+
 my $type=shift;
 my $session=shift;
 my $user=shift;
diff --git a/x2goserver/bin/x2goprint b/x2goserver/bin/x2goprint
index c75b49f..88a4eaf 100755
--- a/x2goserver/bin/x2goprint
+++ b/x2goserver/bin/x2goprint
@@ -24,7 +24,7 @@ use strict;
 use File::Basename;
 use File::Copy;
 use File::Path;
-use Sys::Syslog qw( :DEFAULT );
+use Sys::Syslog qw( :standard :macros );
 
 use lib `echo -n \$(x2gobasepath)/lib/x2go`;
 use x2godbwrapper;
@@ -34,6 +34,8 @@ openlog($0,'cons,pid','user');
 setlogmask( LOG_UPTO(x2gologlevel()) );
 
 
+syslog('info', &quot;x2goprint has been called with options: @ARGV&quot;);
+
 sub check_root
 {
 	my ($uname, $pass, $uid, $pgid, $quota, $comment, $gcos, $homedir, $shell, $expire) = getpwuid($&lt;);
diff --git a/x2goserver/bin/x2goresume-session b/x2goserver/bin/x2goresume-session
index 04b0e23..c41b314 100755
--- a/x2goserver/bin/x2goresume-session
+++ b/x2goserver/bin/x2goresume-session
@@ -35,6 +35,8 @@ X2GO_ROOT=${HOME}/.x2go
 X2GO_RESIZE=0
 X2GO_FULLSCREEN=0
 
+$X2GO_LIB_PATH/x2gosyslog &quot;$0&quot; &quot;info&quot; &quot;$(basename $0) called with options: $@&quot;
+
 if [ &quot;$X2GO_GEOMETRY&quot; == &quot;&quot; ]
 then
 	X2GO_GEOMETRY=fullscreen
diff --git a/x2goserver/bin/x2goruncommand b/x2goserver/bin/x2goruncommand
index 50dcff7..6b038d9 100755
--- a/x2goserver/bin/x2goruncommand
+++ b/x2goserver/bin/x2goruncommand
@@ -26,6 +26,11 @@ X2GO_SESSION=$3
 cmd=$5
 sndsys=$6
 X2GO_SESS_TYPE=$7
+
+X2GO_LIB_PATH=`echo -n \$(x2gobasepath)/lib/x2go`
+
+$X2GO_LIB_PATH/x2gosyslog &quot;$0&quot; &quot;info&quot; &quot;$(basename $0) called with options: $@&quot;
+
 export DISPLAY
 export X2GO_AGENT_PID
 export X2GO_SESSION
@@ -35,8 +40,6 @@ X2GO_ROOT=${HOME}/.x2go
 MESSAGE_FILE=$X2GO_ROOT/C-$X2GO_SESSION/cmdoutput
 echo &quot;exec $cmd&quot; &gt;&gt; $MESSAGE_FILE
 
-X2GO_LIB_PATH=`echo -n \$(x2gobasepath)/lib/x2go`
-
 IMEXIT=&quot;false&quot;
 
 if [ &quot;$sndsys&quot; == &quot;esd&quot; ]; then
diff --git a/x2goserver/bin/x2gosessionlimit b/x2goserver/bin/x2gosessionlimit
index f2fc78c..9022160 100755
--- a/x2goserver/bin/x2gosessionlimit
+++ b/x2goserver/bin/x2gosessionlimit
@@ -22,7 +22,7 @@
 
 use strict;
 use Config::Simple;
-use Sys::Syslog qw( :DEFAULT );
+use Sys::Syslog qw( :standard :macros );
 
 use lib `echo -n \$(x2gobasepath)/lib/x2go`;
 use x2gologlevel;
@@ -31,6 +31,8 @@ openlog($0,'cons,pid','user');
 setlogmask( LOG_UPTO(x2gologlevel()) );
 
 
+syslog('info', &quot;x2gosessionlimit has been called&quot;);
+
 my $maxlimit=0;
 my $Config = new Config::Simple(syntax=&gt;'ini');
 $Config-&gt;read('/etc/x2go/x2goserver.conf' );
diff --git a/x2goserver/bin/x2goshowblocks b/x2goserver/bin/x2goshowblocks
index 4b898b2..2d29a55 100755
--- a/x2goserver/bin/x2goshowblocks
+++ b/x2goserver/bin/x2goshowblocks
@@ -21,7 +21,7 @@
 # Copyright (C) 2007-2011  Heinz-Markus Graesing &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">heinz-m.graesing at obviously-nice.de</A>&gt;
 
 use strict;
-use Sys::Syslog qw( :DEFAULT );
+use Sys::Syslog qw( :standard :macros );
 
 use lib `echo -n \$(x2gobasepath)/lib/x2go`;
 use x2godbwrapper; 
@@ -31,6 +31,8 @@ openlog($0,'cons,pid','user');
 setlogmask( LOG_UPTO(x2gologlevel()) );
 
 
+syslog('info', &quot;x2goshowblocks has been called with options: @ARGV&quot;);
+
 my $uname=shift;
 my $id=shift;
 my $tbl=&quot;mounts&quot;;
diff --git a/x2goserver/bin/x2gostartagent b/x2goserver/bin/x2gostartagent
index 91d3e09..544a382 100755
--- a/x2goserver/bin/x2gostartagent
+++ b/x2goserver/bin/x2gostartagent
@@ -20,6 +20,10 @@
 # Copyright (C) 2007-2011  Oleksandr Shneyder &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">oleksandr.shneyder at obviously-nice.de</A>&gt;
 # Copyright (C) 2007-2011  Heinz-Markus Graesing &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">heinz-m.graesing at obviously-nice.de</A>&gt;
 
+X2GO_LIB_PATH=`echo -n \$(x2gobasepath)/lib/x2go`
+
+$X2GO_LIB_PATH/x2gosyslog &quot;$0&quot; &quot;info&quot; &quot;$(basename $0) called with options: $@&quot;
+
 X2GO_PORT=49 #First port for X2GO=50
 SSH_PORT=30000 #First ssh port 30001
 
@@ -38,8 +42,6 @@ X2GO_CMD=$9
 X2GO_RESIZE=0
 X2GO_FULLSCREEN=0
 
-X2GO_LIB_PATH=`echo -n \$(x2gobasepath)/lib/x2go`
-
 if [ &quot;$X2GO_STYPE&quot; == &quot;S&quot; ]; then
 
 	SHADOW_MODE=`echo &quot;$X2GO_CMD&quot;|awk '{split($0,a,&quot;XSHAD&quot;); print a[1]}'`
diff --git a/x2goserver/bin/x2gosuspend-session b/x2goserver/bin/x2gosuspend-session
index c9b6656..490a276 100755
--- a/x2goserver/bin/x2gosuspend-session
+++ b/x2goserver/bin/x2gosuspend-session
@@ -28,6 +28,8 @@ fi
 
 X2GO_LIB_PATH=`echo -n \$(x2gobasepath)/lib/x2go`
 
+$X2GO_LIB_PATH/x2gosyslog &quot;$0&quot; &quot;info&quot; &quot;$(basename $0) called with options: $@&quot;
+
 X2GO_AGENT_PID=`$X2GO_LIB_PATH/x2gogetagent $SESSION_NAME` 
 X2GO_AGENT_PID=`echo &quot;$X2GO_AGENT_PID&quot;| awk {'print $1'}`
 
diff --git a/x2goserver/bin/x2goterminate-session b/x2goserver/bin/x2goterminate-session
index cbe4c38..eac5a4f 100755
--- a/x2goserver/bin/x2goterminate-session
+++ b/x2goserver/bin/x2goterminate-session
@@ -28,6 +28,8 @@ fi
 
 X2GO_LIB_PATH=`echo -n \$(x2gobasepath)/lib/x2go`
 
+$X2GO_LIB_PATH/x2gosyslog &quot;$0&quot; &quot;info&quot; &quot;$(basename $0) called with options: $@&quot;
+
 X2GO_AGENT_PID=`$X2GO_LIB_PATH/x2gogetagent $SESSION_NAME` 
 X2GO_AGENT_PID=`echo &quot;$X2GO_AGENT_PID&quot;| awk {'print $1'}`
 
diff --git a/x2goserver/bin/x2goumount-session b/x2goserver/bin/x2goumount-session
index 90c4f58..84b8342 100755
--- a/x2goserver/bin/x2goumount-session
+++ b/x2goserver/bin/x2goumount-session
@@ -22,7 +22,7 @@
 
 use strict;
 use Sys::Hostname;
-use Sys::Syslog qw( :DEFAULT );
+use Sys::Syslog qw( :standard :macros );
 
 use lib `echo -n \$(x2gobasepath)/lib/x2go`;
 use x2godbwrapper; 
@@ -32,6 +32,8 @@ openlog($0,'cons,pid','user');
 setlogmask( LOG_UPTO(x2gologlevel()) );
 
 
+syslog('info', &quot;x2goumount-session has been called with options: @ARGV&quot;);
+
 my $session=shift;
 my $only_path=shift;
 my $uname=$ENV{'USER'};
diff --git a/x2goserver/etc/x2goserver.conf b/x2goserver/etc/x2goserver.conf
index 3a91293..86f95b6 100644
--- a/x2goserver/etc/x2goserver.conf
+++ b/x2goserver/etc/x2goserver.conf
@@ -5,5 +5,5 @@
 #x2gousers=1
 
 [log]
-# possible levels are: err, warn, notice, info, debug
+# possible levels are: emerg, alert, crit, err, warn, notice, info, debug
 loglevel=notice
diff --git a/x2goserver/lib/x2gochangestatus b/x2goserver/lib/x2gochangestatus
index 216740b..ef0fb7a 100755
--- a/x2goserver/lib/x2gochangestatus
+++ b/x2goserver/lib/x2gochangestatus
@@ -21,7 +21,7 @@
 # Copyright (C) 2007-2011  Heinz-Markus Graesing &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">heinz-m.graesing at obviously-nice.de</A>&gt;
 
 use strict;
-use Sys::Syslog qw( :DEFAULT );
+use Sys::Syslog qw( :standard :macros );
 
 use lib `echo -n \$(x2gobasepath)/lib/x2go`;
 use x2godbwrapper; 
diff --git a/x2goserver/lib/x2gocreatesession b/x2goserver/lib/x2gocreatesession
index e43024e..8bf0852 100755
--- a/x2goserver/lib/x2gocreatesession
+++ b/x2goserver/lib/x2gocreatesession
@@ -21,7 +21,7 @@
 # Copyright (C) 2007-2011  Heinz-Markus Graesing &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">heinz-m.graesing at obviously-nice.de</A>&gt;
 
 use strict;
-use Sys::Syslog qw( :DEFAULT );
+use Sys::Syslog qw( :standard :macros );
 
 use lib `echo -n \$(x2gobasepath)/lib/x2go`;
 use x2godbwrapper; 
diff --git a/x2goserver/lib/x2godbwrapper.pm b/x2goserver/lib/x2godbwrapper.pm
index da3c121..454193b 100644
--- a/x2goserver/lib/x2godbwrapper.pm
+++ b/x2goserver/lib/x2godbwrapper.pm
@@ -23,10 +23,16 @@ package x2godbwrapper;
 use strict;
 use Config::Simple;
 use DBI;
-
 use POSIX;
+use Sys::Syslog qw( :standard :macros );
 
 my $x2go_lib_path=`echo -n \$(x2gobasepath)/lib/x2go`;
+use lib `echo -n \$(x2gobasepath)/lib/x2go`;
+use x2gologlevel;
+
+openlog($0,'cons,pid','user');
+setlogmask( LOG_UPTO(x2gologlevel()) );
+
 
 my ($uname, $pass, $uid, $pgid, $quota, $comment, $gcos, $homedir, $shell, $expire) = getpwuid(getuid());
 
@@ -165,6 +171,7 @@ sub dbsys_listsessionsroot_all
 
 sub dbsys_getmounts
 {
+	my $mounts;
 	my $sid=shift or die &quot;argument \&quot;session_id\&quot; missed&quot;;
 	if ($backend eq 'postgres')
 	{
@@ -180,16 +187,20 @@ sub dbsys_getmounts
 		}
 		$sth-&gt;finish();
 		$dbh-&gt;disconnect();
-		return @strings;
+		$mounts = @strings;
 	}
 	if ($backend eq 'sqlite')
 	{
-		return split(&quot;\n&quot;,`$x2go_lib_path/x2gosqlitewrapper getmounts $sid`);
+		$mounts = split(&quot;\n&quot;,`$x2go_lib_path/x2gosqlitewrapper getmounts $sid`);
 	}
+	my $log_retval = join(&quot; &quot;, $mounts);
+	syslog('debug', &quot;dbsys_getmounts called, session ID: $sid; return value: $log_retval&quot;);
+	return $mounts
 }
 
 sub db_getmounts
 {
+	my $mounts;
 	my $sid=shift or die &quot;argument \&quot;session_id\&quot; missed&quot;;
 	if($backend eq 'postgres')
 	{
@@ -205,12 +216,15 @@ sub db_getmounts
 		}
 		$sth-&gt;finish();
 		$dbh-&gt;disconnect();
-		return @strings;
+		$mounts = @strings;
 	}
 	if ($backend eq 'sqlite')
 	{
-		return split(&quot;\n&quot;,`$x2go_lib_path/x2gosqlitewrapper getmounts $sid`);
+		$mounts = split(&quot;\n&quot;,`$x2go_lib_path/x2gosqlitewrapper getmounts $sid`);
 	}
+	my $log_retval = join(&quot; &quot;, $mounts);
+	syslog('debug', &quot;db_getmounts called, session ID: $sid; return value: $log_retval&quot;);
+	return $mounts
 }
 
 sub db_deletemount
@@ -229,6 +243,7 @@ sub db_deletemount
 	{
 		`$x2go_lib_path/x2gosqlitewrapper deletemount $sid \&quot;$path\&quot;`;
 	}
+	syslog('debug', &quot;db_deletemount called, session ID: $sid, path: $path&quot;);
 }
 
 sub db_insertmount
@@ -256,6 +271,7 @@ sub db_insertmount
 			$res_ok=1;
 		}
 	}
+	syslog('debug', &quot;db_insertmount called, session ID: $sid, path: $path, client: $client; return value: $res_ok&quot;);
 	return $res_ok;
 }
 
@@ -280,6 +296,7 @@ sub db_insertsession
 			die &quot;$err: $x2go_lib_path/x2gosqlitewrapper insertsession $display $server $sid&quot;;
 		}
 	}
+	syslog('debug', &quot;db_insertsession called, session ID: $sid, server: $server, session ID: $sid&quot;);
 }
 
 sub db_createsession
@@ -309,6 +326,7 @@ sub db_createsession
 			die $err;
 		}
 	}
+	syslog('debug', &quot;db_createsession called, session ID: $sid, cookie: $cookie, client: $client, pid: $pid, graphics port: $gr_port, sound port: $snd_port, file sharing port: $fs_port&quot;);
 }
 
 sub db_insertport
@@ -328,6 +346,7 @@ sub db_insertport
 	{
 		`$x2go_lib_path/x2gosqlitewrapper insertport $server $sid $sshport`;
 	}
+	syslog('debug', &quot;db_insertport called, session ID: $sid, server: $server, SSH port: $sshport&quot;);
 }
 
 sub db_resume
@@ -346,6 +365,7 @@ sub db_resume
 	{
 		`$x2go_lib_path/x2gosqlitewrapper resume $client $sid`;
 	}
+	syslog('debug', &quot;db_resume called, session ID: $sid, client: $client&quot;);
 }
 
 sub db_changestatus
@@ -364,10 +384,12 @@ sub db_changestatus
 	{
 		`$x2go_lib_path/x2gosqlitewrapper changestatus $status $sid`;
 	}
+	syslog('debug', &quot;db_changestatus called, session ID: $sid, new status: $status&quot;);
 }
 
 sub db_getdisplays
 {
+	my $displays;
 	#ignore $server
 	my $server=shift or die &quot;argument \&quot;server\&quot; missed&quot;;         
 	if ($backend eq 'postgres')
@@ -384,16 +406,20 @@ sub db_getdisplays
 		}
 		$sth-&gt;finish();
 		$dbh-&gt;disconnect();
-		return @strings;
+		$displays = @strings;
 	}
 	if ($backend eq 'sqlite')
 	{
-		return split(&quot;\n&quot;,`$x2go_lib_path/x2gosqlitewrapper getdisplays $server`);
+		$displays = split(&quot;\n&quot;,`$x2go_lib_path/x2gosqlitewrapper getdisplays $server`);
 	}
+	my $log_retval = join(&quot; &quot;, $displays);
+	syslog('debug', &quot;db_getdisplays called, server: $server; return value: $log_retval&quot;);
+	return $displays;
 }
 
 sub db_getports
 {
+	my $ports;
 	#ignore $server
 	my $server=shift or die &quot;argument \&quot;server\&quot; missed&quot;;         
 	if ($backend eq 'postgres')
@@ -410,16 +436,20 @@ sub db_getports
 		}
 		$sth-&gt;finish();
 		$dbh-&gt;disconnect();
-		return @strings;
+		$ports = @strings;
 	}
 	if ($backend eq 'sqlite')
 	{
-		return split(&quot;\n&quot;,`$x2go_lib_path/x2gosqlitewrapper getports $server`);
+		$ports = split(&quot;\n&quot;,`$x2go_lib_path/x2gosqlitewrapper getports $server`);
 	}
+	my $log_retval = join(&quot; &quot;, $ports);
+	syslog('debug', &quot;db_getports called, server: $server; return value: $log_retval&quot;);
+	return $ports;
 }
 
 sub db_getservers
 {
+	my $servers;
 	if ($backend eq 'postgres')
 	{
 		my @strings;
@@ -434,18 +464,21 @@ sub db_getservers
 		}
 		$sth-&gt;finish();
 		$dbh-&gt;disconnect();
-		return @strings;
+		$servers = @strings;
 	}
-		if ($backend eq 'sqlite')
+	if ($backend eq 'sqlite')
 	{
-		return split(&quot;\n&quot;,`$x2go_lib_path/x2gosqlitewrapper getservers`);
+		$servers = split(&quot;\n&quot;,`$x2go_lib_path/x2gosqlitewrapper getservers`);
 	}
+	my $log_retval = join(&quot; &quot;, $servers);
+	syslog('debug', &quot;db_getservers called, return value: $log_retval&quot;);
+	return $servers;
 }
 
 sub db_getagent
 {
-	my $sid=shift or die &quot;argument \&quot;session_id\&quot; missed&quot;;
 	my $agent;
+	my $sid=shift or die &quot;argument \&quot;session_id\&quot; missed&quot;;
 	if ($backend eq 'postgres')
 	{
 		my $dbh=DBI-&gt;connect(&quot;dbi:Pg:dbname=$db;host=$host;port=$port;sslmode=$sslmode&quot;, &quot;$dbuser&quot;, &quot;$dbpass&quot;,{AutoCommit =&gt; 1}) or die $_;
@@ -465,13 +498,14 @@ sub db_getagent
 	{
 		$agent=`$x2go_lib_path/x2gosqlitewrapper getagent $sid`;
 	}
+	syslog('debug', &quot;db_getagent called, session ID: $sid; return value: $agent&quot;);
 	return $agent;
 }
 
 sub db_getdisplay
 {
-	my $sid=shift or die &quot;argument \&quot;session_id\&quot; missed&quot;;
 	my $display;
+	my $sid=shift or die &quot;argument \&quot;session_id\&quot; missed&quot;;
 	if ($backend eq 'postgres')
 	{
 		my $dbh=DBI-&gt;connect(&quot;dbi:Pg:dbname=$db;host=$host;port=$port;sslmode=$sslmode&quot;, &quot;$dbuser&quot;, &quot;$dbpass&quot;,{AutoCommit =&gt; 1}) or die $_;
@@ -491,6 +525,7 @@ sub db_getdisplay
 	{
 		$display=`$x2go_lib_path/x2gosqlitewrapper getdisplay $sid`;
 	}
+	syslog('debug', &quot;db_getdisplay called, session ID: $sid; return value: $display&quot;);
 	return $display;
 }
 
diff --git a/x2goserver/lib/x2gogetagent b/x2goserver/lib/x2gogetagent
index 635a731..be57906 100755
--- a/x2goserver/lib/x2gogetagent
+++ b/x2goserver/lib/x2gogetagent
@@ -21,7 +21,7 @@
 # Copyright (C) 2007-2011  Heinz-Markus Graesing &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">heinz-m.graesing at obviously-nice.de</A>&gt;
 
 use strict;
-use Sys::Syslog qw( :DEFAULT );
+use Sys::Syslog qw( :standard :macros );
 
 use lib `echo -n \$(x2gobasepath)/lib/x2go`;
 use x2godbwrapper; 
@@ -30,6 +30,6 @@ use x2gologlevel;
 openlog($0,'cons,pid','user');
 setlogmask( LOG_UPTO(x2gologlevel()) );
 
-
 my $sid=shift or die;
-print db_getagent $sid;
+my $agent = db_getagent $sid;
+print $agent;
\ No newline at end of file
diff --git a/x2goserver/lib/x2gogetdisplays b/x2goserver/lib/x2gogetdisplays
index e6858d4..8bdd705 100755
--- a/x2goserver/lib/x2gogetdisplays
+++ b/x2goserver/lib/x2gogetdisplays
@@ -21,7 +21,7 @@
 # Copyright (C) 2007-2011  Heinz-Markus Graesing &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">heinz-m.graesing at obviously-nice.de</A>&gt;
 
 use strict;
-use Sys::Syslog qw( :DEFAULT );
+use Sys::Syslog qw( :standard :macros );
 
 use lib `echo -n \$(x2gobasepath)/lib/x2go`;
 use x2godbwrapper; 
@@ -32,4 +32,5 @@ setlogmask( LOG_UPTO(x2gologlevel()) );
 
 
 my $host=shift or die;
-print join(&quot;\n&quot;, db_getdisplays($host));
+my $displays = join(&quot;\n&quot;, db_getdisplays($host));
+print $displays;
diff --git a/x2goserver/lib/x2gogetports b/x2goserver/lib/x2gogetports
index aee7151..831c80a 100755
--- a/x2goserver/lib/x2gogetports
+++ b/x2goserver/lib/x2gogetports
@@ -21,7 +21,7 @@
 # Copyright (C) 2007-2011  Heinz-Markus Graesing &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">heinz-m.graesing at obviously-nice.de</A>&gt;
 
 use strict;
-use Sys::Syslog qw( :DEFAULT );
+use Sys::Syslog qw( :standard :macros );
 
 use lib `echo -n \$(x2gobasepath)/lib/x2go`;
 use x2godbwrapper; 
@@ -32,4 +32,6 @@ setlogmask( LOG_UPTO(x2gologlevel()) );
 
 
 my $host=shift or die;
-print join(&quot;\n&quot;, db_getports($host));
+
+my $ports = join(&quot;\n&quot;, db_getports($host));
+print $ports;
diff --git a/x2goserver/lib/x2gogetservers b/x2goserver/lib/x2gogetservers
index a776dff..6dd9493 100755
--- a/x2goserver/lib/x2gogetservers
+++ b/x2goserver/lib/x2gogetservers
@@ -21,7 +21,7 @@
 # Copyright (C) 2007-2011  Heinz-Markus Graesing &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">heinz-m.graesing at obviously-nice.de</A>&gt;
 
 use strict;
-use Sys::Syslog qw( :DEFAULT );
+use Sys::Syslog qw( :standard :macros );
 
 use lib `echo -n \$(x2gobasepath)/lib/x2go`;
 use x2godbwrapper; 
@@ -30,5 +30,5 @@ use x2gologlevel;
 openlog($0,'cons,pid','user');
 setlogmask( LOG_UPTO(x2gologlevel()) );
 
-
-print join(&quot;\n&quot;, db_getservers);
+my $servers = join(&quot;\n&quot;, db_getservers);
+print $servers;
diff --git a/x2goserver/lib/x2goinsertport b/x2goserver/lib/x2goinsertport
index ae5fc5b..5ff1c8c 100755
--- a/x2goserver/lib/x2goinsertport
+++ b/x2goserver/lib/x2goinsertport
@@ -21,7 +21,7 @@
 # Copyright (C) 2007-2011  Heinz-Markus Graesing &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">heinz-m.graesing at obviously-nice.de</A>&gt;
 
 use strict;
-use Sys::Syslog qw( :DEFAULT );
+use Sys::Syslog qw( :standard :macros );
 
 use lib `echo -n \$(x2gobasepath)/lib/x2go`;
 use x2godbwrapper; 
diff --git a/x2goserver/lib/x2goinsertsession b/x2goserver/lib/x2goinsertsession
index b4fdbfa..e7a5640 100755
--- a/x2goserver/lib/x2goinsertsession
+++ b/x2goserver/lib/x2goinsertsession
@@ -21,7 +21,7 @@
 # Copyright (C) 2007-2011  Heinz-Markus Graesing &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">heinz-m.graesing at obviously-nice.de</A>&gt;
 
 use strict;
-use Sys::Syslog qw( :DEFAULT );
+use Sys::Syslog qw( :standard :macros );
 
 use lib `echo -n \$(x2gobasepath)/lib/x2go`;
 use x2godbwrapper; 
diff --git a/x2goserver/lib/x2golistsessions_root b/x2goserver/lib/x2golistsessions_root
index af64328..a6f9b64 100755
--- a/x2goserver/lib/x2golistsessions_root
+++ b/x2goserver/lib/x2golistsessions_root
@@ -22,7 +22,7 @@
 
 use strict;
 use Sys::Hostname;
-use Sys::Syslog qw( :DEFAULT );
+use Sys::Syslog qw( :standard :macros );
 
 use lib `echo -n \$(x2gobasepath)/lib/x2go`;
 use x2gologlevel;
@@ -74,6 +74,7 @@ for (my $i=0;$i&lt;@outp;$i++)
 				@outp[$i] =~ s/\|R\|/\|S\|/;
 			}
 		}
+		syslog('debug', &quot;x2golistsessions_root has been called...&quot;);
 		print &quot;@outp[$i]\n&quot;;
 	}
 }
diff --git a/x2goserver/lib/x2golistsessions_sql b/x2goserver/lib/x2golistsessions_sql
index 86a9c94..4549d0e 100755
--- a/x2goserver/lib/x2golistsessions_sql
+++ b/x2goserver/lib/x2golistsessions_sql
@@ -21,7 +21,7 @@
 # Copyright (C) 2007-2011  Heinz-Markus Graesing &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">heinz-m.graesing at obviously-nice.de</A>&gt;
 
 use strict;
-use Sys::Syslog qw( :DEFAULT );
+use Sys::Syslog qw( :standard :macros );
 
 use lib `echo -n \$(x2gobasepath)/lib/x2go`;
 use x2godbwrapper; 
@@ -47,7 +47,9 @@ for ( $i=0;$i&lt;@array;$i++)
 	my @ln=split('\|'<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">, at array</A>[$i]);
 	if (@ln[4] eq &quot;F&quot;)
 	{
-		dbsys_rmsessionsroot( @ln[1]);
+		my $sid = @ln[1]
+		dbsys_rmsessionsroot($sid);
+		syslog('debug', &quot;Purging finished session from X2go db, session ID: $sid&quot;);
 	}
 	print &quot;@array[$i]\n&quot;;
 }
diff --git a/x2goserver/lib/x2gologlevel b/x2goserver/lib/x2gologlevel
index 970ea15..945f84e 100755
--- a/x2goserver/lib/x2gologlevel
+++ b/x2goserver/lib/x2gologlevel
@@ -21,7 +21,6 @@
 # Copyright (C) 2007-2011  Heinz-Markus Graesing &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">heinz-m.graesing at obviously-nice.de</A>&gt;
 
 use strict;
-use Config::Simple;
 
 use lib `echo -n \$(x2gobasepath)/lib/x2go`;
 use x2gologlevel;
diff --git a/x2goserver/lib/x2gologlevel.pm b/x2goserver/lib/x2gologlevel.pm
index 3d904e2..845287d 100644
--- a/x2goserver/lib/x2gologlevel.pm
+++ b/x2goserver/lib/x2gologlevel.pm
@@ -20,6 +20,8 @@
 # Copyright (C) 2007-2011  Oleksandr Shneyder &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">oleksandr.shneyder at obviously-nice.de</A>&gt;
 # Copyright (C) 2007-2011  Heinz-Markus Graesing &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">heinz-m.graesing at obviously-nice.de</A>&gt;
 
+package x2gologlevel;
+
 use strict;
 use Config::Simple;
 use Sys::Syslog qw( :standard :macros );
diff --git a/x2goserver/lib/x2goresume b/x2goserver/lib/x2goresume
index 80010e1..56ec24c 100755
--- a/x2goserver/lib/x2goresume
+++ b/x2goserver/lib/x2goresume
@@ -21,7 +21,7 @@
 # Copyright (C) 2007-2011  Heinz-Markus Graesing &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">heinz-m.graesing at obviously-nice.de</A>&gt;
 
 use strict;
-use Sys::Syslog qw( :DEFAULT );
+use Sys::Syslog qw( :standard :macros );
 
 use lib `echo -n \$(x2gobasepath)/lib/x2go`;
 use x2godbwrapper; 
diff --git a/x2goserver/lib/x2gosessionlimit b/x2goserver/lib/x2gosessionlimit
deleted file mode 100755
index f2fc78c..0000000
--- a/x2goserver/lib/x2gosessionlimit
+++ /dev/null
@@ -1,105 +0,0 @@
-#!/usr/bin/perl
-
-# Copyright (C) 2007-2011 X2go Project - <A HREF="http://wiki.x2go.org">http://wiki.x2go.org</A>
-#
-# This program is free software; you can redistribute it and/or modify
-# it under the terms of the GNU General Public License as published by
-# the Free Software Foundation; either version 2 of the License, or
-# (at your option) any later version.
-#
-# This program is distributed in the hope that it will be useful,
-# but WITHOUT ANY WARRANTY; without even the implied warranty of
-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
-# GNU General Public License for more details.
-#
-# You should have received a copy of the GNU General Public License
-# along with this program; if not, write to the
-# Free Software Foundation, Inc.,
-# 51 Franklin St, Fifth Floor, Boston, MA 02110-1301, USA.
-#
-# Copyright (C) 2007-2011  Oleksandr Shneyder &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">oleksandr.shneyder at obviously-nice.de</A>&gt;
-# Copyright (C) 2007-2011  Heinz-Markus Graesing &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">heinz-m.graesing at obviously-nice.de</A>&gt;
-
-use strict;
-use Config::Simple;
-use Sys::Syslog qw( :DEFAULT );
-
-use lib `echo -n \$(x2gobasepath)/lib/x2go`;
-use x2gologlevel;
-
-openlog($0,'cons,pid','user');
-setlogmask( LOG_UPTO(x2gologlevel()) );
-
-
-my $maxlimit=0;
-my $Config = new Config::Simple(syntax=&gt;'ini');
-$Config-&gt;read('/etc/x2go/x2goserver.conf' );
-
-sub getGroupLimit
-{
-	my $group=shift;
-	my $strlimit=$Config-&gt;param(&quot;limit groups.$group&quot;);
-	if ($strlimit ne &quot;&quot;)
-	{
-		if ($strlimit == 0)
-		{
-			print &quot;0\n&quot;;
-			exit 0;
-		}
-		if ($strlimit &gt; $maxlimit)
-		{
-			$maxlimit=$strlimit;
-		}
-	}
-}
-
-my $uname;
-$uname=getpwuid($&lt;);
-
-my $runningsessions=`x2golistsessions --all-servers`;
-my @sessions=split(&quot;\n&quot;,$runningsessions);
-my $scount=@sessions;
-
-my $strlimit=$Config-&gt;param(&quot;limit users.$uname&quot;);
-
-if($strlimit ne &quot;&quot;)
-{
-	if ($strlimit == 0)
-	{
-		print &quot;0\n&quot;;
-		exit 0;
-	}
-	if ($strlimit &lt;= $scount)
-	{
-		print &quot;$strlimit\n&quot;;
-		exit 0;
-	}
-	print &quot;$strlimit\n&quot;;
-	exit 0;
-}
-
-
-my ($name, $pass, $uid, $pgid, $quota, $comment, $gcos, $dir, $shell, $expire) = getpwnam($uname);
-
-while (my ($name, $passwd, $gid, $members)  = getgrent()) 
-{
-	if ( $pgid eq $gid)
-	{
-		getGroupLimit $name;
-	}
-	my @memebers=split(&quot; &quot;,$members);
-	foreach my $member (@memebers) 
-	{
-		if ($uname eq $member  )
-		{
-			getGroupLimit $name;
-		}
-	}
-}
-
-if ($maxlimit &lt;= $scount)
-{
-	print &quot;$maxlimit\n&quot;;
-	exit 0;
-}
-print &quot;$maxlimit\n&quot;;
diff --git a/x2goserver/lib/x2gosqlitewrapper.pl b/x2goserver/lib/x2gosqlitewrapper.pl
index 0beef3a..641cb9c 100755
--- a/x2goserver/lib/x2gosqlitewrapper.pl
+++ b/x2goserver/lib/x2gosqlitewrapper.pl
@@ -21,7 +21,6 @@
 # Copyright (C) 2007-2011  Heinz-Markus Graesing &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">heinz-m.graesing at obviously-nice.de</A>&gt;
 
 use strict;
-
 use DBI;
 use POSIX;
 
diff --git a/x2goserver/lib/x2gosuspend-agent b/x2goserver/lib/x2gosuspend-agent
index 928cec4..4d9f9f9 100755
--- a/x2goserver/lib/x2gosuspend-agent
+++ b/x2goserver/lib/x2gosuspend-agent
@@ -20,7 +20,8 @@
 # Copyright (C) 2007-2011  Oleksandr Shneyder &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">oleksandr.shneyder at obviously-nice.de</A>&gt;
 # Copyright (C) 2007-2011  Heinz-Markus Graesing &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">heinz-m.graesing at obviously-nice.de</A>&gt;
 
-use Sys::Syslog qw( :DEFAULT );
+strict;
+use Sys::Syslog qw( :standard :macros );
 
 use lib `echo -n \$(x2gobasepath)/lib/x2go`;
 use x2gologlevel;
diff --git a/x2goserver/lib/x2goresume b/x2goserver/lib/x2gosyslog
similarity index 86%
copy from x2goserver/lib/x2goresume
copy to x2goserver/lib/x2gosyslog
index 80010e1..a4d70d0 100755
--- a/x2goserver/lib/x2goresume
+++ b/x2goserver/lib/x2gosyslog
@@ -21,17 +21,18 @@
 # Copyright (C) 2007-2011  Heinz-Markus Graesing &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">heinz-m.graesing at obviously-nice.de</A>&gt;
 
 use strict;
-use Sys::Syslog qw( :DEFAULT );
+use Sys::Syslog qw( :standard :macros );
 
 use lib `echo -n \$(x2gobasepath)/lib/x2go`;
-use x2godbwrapper; 
 use x2gologlevel;
 
-openlog($0,'cons,pid','user');
 setlogmask( LOG_UPTO(x2gologlevel()) );
 
+my $component = shift;
+my $loglevel = shift;
+my $msg = &quot;@ARGV&quot;;
 
-my $client=shift or die;
-my $sid=shift or die;
+openlog($component,'cons','user');
+syslog($loglevel, $msg);
+closelog;
 
-db_resume($client, $sid);
diff --git a/x2goserver/sbin/x2gocleansessions b/x2goserver/sbin/x2gocleansessions
index f8675ca..af5afee 100755
--- a/x2goserver/sbin/x2gocleansessions
+++ b/x2goserver/sbin/x2gocleansessions
@@ -20,12 +20,12 @@
 # Copyright (C) 2007-2011  Oleksandr Shneyder &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">oleksandr.shneyder at obviously-nice.de</A>&gt;
 # Copyright (C) 2007-2011  Heinz-Markus Graesing &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">heinz-m.graesing at obviously-nice.de</A>&gt;
 
-use Sys::Hostname;
-use Sys::Syslog qw( :DEFAULT );
 use strict;
+use Sys::Hostname;
+use Sys::Syslog qw( :standard :macros );
 
 my $x2go_lib_path=`echo -n \$(x2gobasepath)/lib/x2go`;
-use lib $x2go_lib_path;
+use lib `echo -n \$(x2gobasepath)/lib/x2go`;
 use x2gologlevel;
 
 openlog($0,'cons,pid','user');
diff --git a/x2goserver/sbin/x2godbadmin b/x2goserver/sbin/x2godbadmin
index a789afd..441b176 100755
--- a/x2goserver/sbin/x2godbadmin
+++ b/x2goserver/sbin/x2godbadmin
@@ -21,7 +21,7 @@
 # Copyright (C) 2007-2011  Heinz-Markus Graesing &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">heinz-m.graesing at obviously-nice.de</A>&gt;
 
 use strict;
-use Sys::Syslog qw( :DEFAULT );
+use Sys::Syslog qw( :standard :macros );
 use Getopt::Long;
 use Config::Simple;   
 use DBI;
diff --git a/x2goserver/sbin/x2golistsessions_root b/x2goserver/sbin/x2golistsessions_root
index 24bb5d4..6f4a510 100755
--- a/x2goserver/sbin/x2golistsessions_root
+++ b/x2goserver/sbin/x2golistsessions_root
@@ -21,7 +21,7 @@
 
 use strict;
 use Sys::Hostname;
-use Sys::Syslog qw( :DEFAULT );
+use Sys::Syslog qw( :standard :macros );
 
 use lib `echo -n \$(x2gobasepath)/lib/x2go`;
 use x2gologlevel;


hooks/post-receive
-- 
x2goserver.git (X2go Server)

This is an automated email from the git hooks/post-receive script. It was
generated because a ref change was pushed to the repository containing
the project &quot;x2goserver.git&quot; (X2go Server).


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001425.html">[X2go-Commits] python-x2go.git - release/0.1.1.x (branch) updated:	0.1.1.4-24-g73cf843
</A></li>
	<LI>Next message: <A HREF="001427.html">[X2go-Commits] x2goserver.git - master (branch) updated:	3.0.99-2-231-gb8c1e92
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1426">[ date ]</a>
              <a href="thread.html#1426">[ thread ]</a>
              <a href="subject.html#1426">[ subject ]</a>
              <a href="author.html#1426">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/x2go-commits">More information about the X2go-commits
mailing list</a><br>
</body></html>
