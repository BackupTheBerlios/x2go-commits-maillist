<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [X2go-Commits] x2gognomebindings.git - build-main (branch) updated:	2.0.1.3
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/x2go-commits/2011-October/index.html" >
   <LINK REL="made" HREF="mailto:x2go-commits%40lists.berlios.de?Subject=Re%3A%20%5BX2go-Commits%5D%20x2gognomebindings.git%20-%20build-main%20%28branch%29%20updated%3A%0A%092.0.1.3&In-Reply-To=%3C20111012093447.8C2FE5DD11%40ymir%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001721.html">
   <LINK REL="Next"  HREF="001723.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[X2go-Commits] x2gognomebindings.git - build-main (branch) updated:	2.0.1.3</H1>
    <B>X2go dev team</B> 
    <A HREF="mailto:x2go-commits%40lists.berlios.de?Subject=Re%3A%20%5BX2go-Commits%5D%20x2gognomebindings.git%20-%20build-main%20%28branch%29%20updated%3A%0A%092.0.1.3&In-Reply-To=%3C20111012093447.8C2FE5DD11%40ymir%3E"
       TITLE="[X2go-Commits] x2gognomebindings.git - build-main (branch) updated:	2.0.1.3">git-admin at x2go.org
       </A><BR>
    <I>Wed Oct 12 11:34:47 CEST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="001721.html">[X2go-Commits] x2gognomebindings.git - master (branch) updated:	2.0.1.1-31-g8227f81
</A></li>
        <LI>Next message: <A HREF="001723.html">[X2go-Commits] x2golxdebindings.git - master (branch) updated:	7929f975dae6b0430a1f0804eedfeee402023262
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1722">[ date ]</a>
              <a href="thread.html#1722">[ thread ]</a>
              <a href="subject.html#1722">[ subject ]</a>
              <a href="author.html#1722">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>The branch, build-main has been updated
       via  8227f81ad06cfafd26de1fded85d355c1fefd110 (commit)
       via  87e635cc4e85e3eedee6b1dcbfc6cd85ba341bff (commit)
       via  7b3fe1e047ea49a18ec2ff8d68a828e80d5009ea (commit)
       via  50b5f49c02b336c3688b15641dd1a3232e2819a4 (commit)
       via  66c2defe1fec986c61ded31ba52e27bb6afbde6f (commit)
       via  59aca05b576ddf2e39ee68868d46a309d08dd2e8 (commit)
       via  c696ecfde992559bde498140e79e4e57e36fe685 (commit)
       via  05cbc6bb0f576863a72cfbd0e6ffa6601e29890c (commit)
       via  bd30c195b3b7dea414453908ebabf8a73c2ba48e (commit)
       via  8e182c47b6cd57587588f06e1bcfa00f11c29434 (commit)
       via  7576438990bbd9a19f5f51f9f0e4832492c9fe21 (commit)
       via  7dbcdf39f5d1199a4328782da6f15c0924c6cab6 (commit)
       via  9c89f8877e3a3f588b5aadf852c3412dc7e1f2c5 (commit)
       via  4d1dd7669b485d2da70cc847141b71206aac866f (commit)
       via  b36385ad0b603cc5199e8b0e02bbab314764456d (commit)
       via  b183ea694b44fe6577d8e84932ed67c301de47a9 (commit)
       via  9060986c69e16edd264718e6ae98af5b193300f5 (commit)
       via  9e2853604775816189c4be5d15314608539bfb8e (commit)
       via  ab59153091cec9e90460ca9e4d2a9809839e08a6 (commit)
       via  429ccc31f02d8ce8e4f96b675e9755851864fe08 (commit)
       via  cdd1cc7e08d3d2529df4b3a74517eb0bba8b58d1 (commit)
       via  a37b43eed649c8ad1efa3d818c8c487e83fce408 (commit)
       via  fbe08a140b91675624e8375c1679dffc58769bb0 (commit)
       via  2d64da9939a9261dca99d739a545896fac7fb0ac (commit)
       via  eca466be460f30cb34ce7f440e64f92c642fc2cb (commit)
       via  54c5ddc3d01c520c0ee11c9f9a199a48d2d44f9d (commit)
       via  b5a044d42a0828ad7711ff4ce22e02d1618e9005 (commit)
       via  a244b778b899bbc484122c29c53ef899f6b62fbc (commit)
       via  3ee21b93af37ac7f65ed67117f5372d345025da0 (commit)
       via  910c5d8aca61ec68967fa8130bba0c0a3147da15 (commit)
       via  d02b0dd7418bbdef56b29008f111899ed91fde3e (commit)
      from  506a0ec485312b5f7892cf159cfe96fd4838d6a7 (commit)

Those revisions listed above that are new to this repository have
not appeared on any other notification email; so we list those
revisions in full, below.

- Log -----------------------------------------------------------------
-----------------------------------------------------------------------

Summary of changes:
 VERSION                                            |    2 +-
 VERSION.x2gognomebindings                          |    1 +
 bin/x2gonautilus                                   |   29 ++++++++
 bin/x2gosuspend-session-gnome                      |   23 ++++++
 bin/x2goumount-session-gnome                       |   62 +++++++++++++++++
 debian/changelog                                   |   32 +++++++++-
 debian/control                                     |   37 ++++++-----
 debian/copyright                                   |   34 +++++-----
 debian/dirs                                        |    3 -
 debian/docs                                        |    2 -
 debian/rules                                       |   64 +++---------------
 debian/source/format                               |    1 +
 debian/x2gognomebindings.dirs                      |    5 ++
 debian/x2gognomebindings.docs                      |    3 +
 debian/x2gognomebindings.install                   |   10 +++
 debian/x2gognomebindings.lintian-overrides         |    3 +
 debian/x2gognomebindings.manpages                  |    2 +
 debian/{postinst =&gt; x2gognomebindings.postinst}    |    0
 debian/{postrm =&gt; x2gognomebindings.postrm}        |    0
 debian/{prerm =&gt; x2gognomebindings.prerm}          |    0
 extension/nautilus-x2goumount.c                    |   10 ++-
 man/man8/x2gonautilus.8                            |   22 ++++++
 man/man8/x2gosuspend-session-gnome.8               |   23 ++++++
 man/man8/x2goumount-session-gnome.8                |   23 ++++++
 sbin/update-gnome-menu-x2go                        |   72 ++++++++++++++++++++
 share/applications/x2gonautilus.desktop            |    3 +-
 share/applications/x2gosuspend.desktop             |    2 +
 ...nome-mime-application-sshfscdrom-x2go-gnome.svg |    1 +
 .../gnome-mime-application-sshfscdrom.svg          |    1 -
 ...gnome-mime-application-sshfsdisk-x2go-gnome.svg |    1 +
 .../mimetypes/gnome-mime-application-sshfsdisk.svg |    1 -
 ...-mime-application-sshfsremovable-x2go-gnome.svg |    1 +
 .../gnome-mime-application-sshfsremovable.svg      |    1 -
 .../packages/{sshfs.xml =&gt; sshfs-x2go-gnome.xml}   |   12 ++--
 suspend/x2gosuspend-session-gnome                  |    3 -
 updatemenu/gnome-settingsx2go.menu                 |   19 -----
 updatemenu/update-gnome-menu-x2go                  |   51 --------------
 x2gonautilus/x2gonautilus                          |    8 --
 xdg-menus/gnome-settings-x2go.menu                 |   13 ++++
 39 files changed, 389 insertions(+), 191 deletions(-)
 mode change 100644 =&gt; 120000 VERSION
 create mode 100644 VERSION.x2gognomebindings
 create mode 100755 bin/x2gonautilus
 create mode 100755 bin/x2gosuspend-session-gnome
 create mode 100755 bin/x2goumount-session-gnome
 delete mode 100644 debian/dirs
 delete mode 100644 debian/docs
 create mode 100644 debian/source/format
 create mode 100644 debian/x2gognomebindings.dirs
 create mode 100644 debian/x2gognomebindings.docs
 create mode 100644 debian/x2gognomebindings.install
 create mode 100644 debian/x2gognomebindings.lintian-overrides
 create mode 100644 debian/x2gognomebindings.manpages
 rename debian/{postinst =&gt; x2gognomebindings.postinst} (100%)
 mode change 100644 =&gt; 100755
 rename debian/{postrm =&gt; x2gognomebindings.postrm} (100%)
 mode change 100644 =&gt; 100755
 rename debian/{prerm =&gt; x2gognomebindings.prerm} (100%)
 mode change 100644 =&gt; 100755
 create mode 100644 man/man8/x2gonautilus.8
 create mode 100644 man/man8/x2gosuspend-session-gnome.8
 create mode 100644 man/man8/x2goumount-session-gnome.8
 create mode 100755 sbin/update-gnome-menu-x2go
 create mode 120000 share/icons/gnome/scalable/mimetypes/gnome-mime-application-sshfscdrom-x2go-gnome.svg
 delete mode 120000 share/icons/gnome/scalable/mimetypes/gnome-mime-application-sshfscdrom.svg
 create mode 120000 share/icons/gnome/scalable/mimetypes/gnome-mime-application-sshfsdisk-x2go-gnome.svg
 delete mode 120000 share/icons/gnome/scalable/mimetypes/gnome-mime-application-sshfsdisk.svg
 create mode 120000 share/icons/gnome/scalable/mimetypes/gnome-mime-application-sshfsremovable-x2go-gnome.svg
 delete mode 120000 share/icons/gnome/scalable/mimetypes/gnome-mime-application-sshfsremovable.svg
 rename share/mime/packages/{sshfs.xml =&gt; sshfs-x2go-gnome.xml} (58%)
 delete mode 100755 suspend/x2gosuspend-session-gnome
 delete mode 100644 updatemenu/gnome-settingsx2go.menu
 delete mode 100755 updatemenu/update-gnome-menu-x2go
 delete mode 100755 x2gonautilus/x2gonautilus
 create mode 100644 xdg-menus/gnome-settings-x2go.menu

The diff of changes is:
diff --git a/VERSION b/VERSION
deleted file mode 100644
index 4dd0c8d..0000000
--- a/VERSION
+++ /dev/null
@@ -1 +0,0 @@
-2.0.1.1
\ No newline at end of file
diff --git a/VERSION b/VERSION
new file mode 120000
index 0000000..b2d03ec
--- /dev/null
+++ b/VERSION
@@ -0,0 +1 @@
+VERSION.x2gognomebindings
\ No newline at end of file
diff --git a/VERSION.x2gognomebindings b/VERSION.x2gognomebindings
new file mode 100644
index 0000000..f7e7717
--- /dev/null
+++ b/VERSION.x2gognomebindings
@@ -0,0 +1 @@
+2.0.1.3
diff --git a/bin/x2gonautilus b/bin/x2gonautilus
new file mode 100755
index 0000000..13c5fc3
--- /dev/null
+++ b/bin/x2gonautilus
@@ -0,0 +1,29 @@
+#!/usr/bin/perl
+
+# Copyright (C) 2007-2011 X2go Project - <A HREF="http://wiki.x2go.org">http://wiki.x2go.org</A>
+#
+# This program is free software; you can redistribute it and/or modify
+# it under the terms of the GNU General Public License as published by
+# the Free Software Foundation; either version 2 of the License, or
+# (at your option) any later version.
+#
+# This program is distributed in the hope that it will be useful,
+# but WITHOUT ANY WARRANTY; without even the implied warranty of
+# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+# GNU General Public License for more details.
+#
+# You should have received a copy of the GNU General Public License
+# along with this program; if not, write to the
+# Free Software Foundation, Inc.,
+# 51 Franklin St, Fifth Floor, Boston, MA 02110-1301, USA.
+#
+# Copyright (C) 2007-2011  Oleksandr Shneyder &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">oleksandr.shneyder at obviously-nice.de</A>&gt;
+# Copyright (C) 2007-2011  Heinz-Markus Graesing &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">heinz-m.graesing at obviously-nice.de</A>&gt;
+
+use strict;
+
+my $fname=shift;
+open(F,&quot;&lt;$fname&quot;) or die &quot;can't open $fname&quot;;
+my $dir=&lt;F&gt;;
+close(F);
+system( &quot;nautilus  $dir&quot; );
diff --git a/bin/x2gosuspend-session-gnome b/bin/x2gosuspend-session-gnome
new file mode 100755
index 0000000..10ae9b6
--- /dev/null
+++ b/bin/x2gosuspend-session-gnome
@@ -0,0 +1,23 @@
+#!/bin/bash
+
+# Copyright (C) 2007-2011 X2go Project - <A HREF="http://wiki.x2go.org">http://wiki.x2go.org</A>
+#
+# This program is free software; you can redistribute it and/or modify
+# it under the terms of the GNU General Public License as published by
+# the Free Software Foundation; either version 2 of the License, or
+# (at your option) any later version.
+#
+# This program is distributed in the hope that it will be useful,
+# but WITHOUT ANY WARRANTY; without even the implied warranty of
+# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+# GNU General Public License for more details.
+#
+# You should have received a copy of the GNU General Public License
+# along with this program; if not, write to the
+# Free Software Foundation, Inc.,
+# 51 Franklin St, Fifth Floor, Boston, MA 02110-1301, USA.
+#
+# Copyright (C) 2007-2011  Oleksandr Shneyder &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">oleksandr.shneyder at obviously-nice.de</A>&gt;
+# Copyright (C) 2007-2011  Heinz-Markus Graesing &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">heinz-m.graesing at obviously-nice.de</A>&gt;
+
+x2gosuspend-session $X2GO_SESSION
diff --git a/bin/x2goumount-session-gnome b/bin/x2goumount-session-gnome
new file mode 100755
index 0000000..7133d07
--- /dev/null
+++ b/bin/x2goumount-session-gnome
@@ -0,0 +1,62 @@
+#!/usr/bin/perl
+
+# Copyright (C) 2007-2011 X2go Project - <A HREF="http://wiki.x2go.org">http://wiki.x2go.org</A>
+#
+# This program is free software; you can redistribute it and/or modify
+# it under the terms of the GNU General Public License as published by
+# the Free Software Foundation; either version 2 of the License, or
+# (at your option) any later version.
+#
+# This program is distributed in the hope that it will be useful,
+# but WITHOUT ANY WARRANTY; without even the implied warranty of
+# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+# GNU General Public License for more details.
+#
+# You should have received a copy of the GNU General Public License
+# along with this program; if not, write to the
+# Free Software Foundation, Inc.,
+# 51 Franklin St, Fifth Floor, Boston, MA 02110-1301, USA.
+#
+# Copyright (C) 2007-2011  Oleksandr Shneyder &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">oleksandr.shneyder at obviously-nice.de</A>&gt;
+# Copyright (C) 2007-2011  Heinz-Markus Graesing &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">heinz-m.graesing at obviously-nice.de</A>&gt;
+
+use strict;
+
+use lib &quot;/usr/lib/x2go&quot;;
+use x2godbwrapper; 
+
+my $fname=join(&quot; &quot;, @ARGV);
+open(F,&quot;&lt;$fname&quot;) or die &quot;can't open $fname&quot;;
+my $dir=&lt;F&gt;;
+my $session=&lt;F&gt;;
+close(F);
+
+$session=~s/\n//;
+
+chomp($dir);
+my $uname=$ENV{'USER'};
+
+my $use_zenity=0;
+
+if($ENV{'GNOME_DESKTOP_SESSION_ID'} ne &quot;&quot;)
+{
+     $use_zenity=1;
+}
+
+if(system( &quot;fusermount -u $dir&quot; ) == 0)
+{
+     unlink($fname);
+     db_deletemount( $session, $dir);
+     rmdir ($dir);
+}
+else
+{
+    if($use_zenity == 0)
+    {
+         system(&quot;kdialog --error \&quot;Can't umount:\n $dir\&quot;&amp;&quot;);
+    }
+    else
+    {
+         system(&quot;zenity --error --text \&quot;Can't umount:\n $dir\&quot;&amp;&quot;);
+    }
+}
diff --git a/debian/changelog b/debian/changelog
index 523d8cd..8a9f072 100644
--- a/debian/changelog
+++ b/debian/changelog
@@ -1,3 +1,33 @@
+x2gognomebindings (2.0.1.3-0~x2go1) unstable; urgency=low
+
+  * New upstream version (2.0.1.3):
+    - Move ,,x2goumount'' script into source project as ,,x2goumount-session-gnome''.
+    - Move x2gosuspend-session-gnome to /bin folder within source project.
+    - Add man pages for x2goumount-session-gnome, x2gosuspend-session-gnome.
+    - Add simple man page for x2gonautilus.
+    - Place x2go-suspend.desktop icon in GNOME Network submenu.
+    - Define unique MIME name spaces for X2go SSHFS GNOME icons.
+    - Rename sshfs.xml to sshfs-x2go-gnome.xml.
+    - Use desktop icon names that contain the name of the desktop session.
+    - Allow blanks in desktop icon names.
+    - Provide more GNOME'ish way to derive icon path name from GNOME object
+      URI.
+    - Let x2goumount-session-gnome be able to handle icons with blanks in
+      their name.
+  * Add gnome-menus as dependency.
+  * Now fully use debhelper for packaging. Fixed lintian issues.
+  * Use source format 3.0 (native).
+  * Add linitian-overrides an man pages to package.
+  * Depend on x2goserver (&gt;=3.0.99.6).
+
+ -- Mike Gabriel &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">mike.gabriel at das-netzwerkteam.de</A>&gt;  Wed, 12 Oct 2011 11:30:51 +0200
+
+x2gognomebindings (2.0.1.2-0~x2go1) unstable; urgency=low
+
+  * Adds x2goversion support
+
+ -- Mike Gabriel &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">mike.gabriel at das-netzwerkteam.de</A>&gt;  Sun, 29 May 2011 22:36:34 +0200
+
 x2gognomebindings (2.0.1.1-0~x2go1) unstable; urgency=low
 
   * Changed upstream version numbering scheme
@@ -6,7 +36,7 @@ x2gognomebindings (2.0.1.1-0~x2go1) unstable; urgency=low
 
 x2gognomebindings (2.0.1-1) unstable; urgency=low
 
-  * Initial release (Closes: #nnnn)  &lt;nnnn is the bug number of your ITP&gt;
+  * Initial release.
 
  -- Oleksandr Shneyder &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">oleksandr.shneyder at obviously-nice.de</A>&gt;  Wed, 27 Aug 2008 15:28:36 +0200
 
diff --git a/debian/control b/debian/control
index 6b208c5..9ed0e3b 100644
--- a/debian/control
+++ b/debian/control
@@ -2,8 +2,10 @@ Source: x2gognomebindings
 Section: gnome
 Priority: extra
 Maintainer: Oleksandr Shneyder &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">oleksandr.shneyder at obviously-nice.de</A>&gt;
+Uploaders:
+ Mike Gabriel &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">mike.gabriel at das-netzwerkteam.de</A>&gt;
 Build-Depends:  autotools-dev,
- debhelper (&gt;= 7),
+ debhelper (&gt;= 7.0.50~),
  gnome-pkg-tools,
  intltool,
  libglade2-dev (&gt;= 2.4),
@@ -13,24 +15,27 @@ Build-Depends:  autotools-dev,
  libgtk2.0-dev (&gt;= 2.4),
  libnautilus-extension-dev (&gt;= 2.14),
  pkg-config
-Standards-Version: 3.7.3
-Homepage: <A HREF="http://obviously-nice.de/">http://obviously-nice.de/</A>
+Standards-Version: 3.9.2
+Homepage: <A HREF="http://code.x2go.org/releases/source/x2gognomebindings">http://code.x2go.org/releases/source/x2gognomebindings</A>
+Vcs-Git: <A HREF="git://code.x2go.org/x2gognomebindings.git">git://code.x2go.org/x2gognomebindings.git</A>
+Vcs-Browser: <A HREF="http://code.x2go.org/gitweb?p=x2gognomebindings.git;a=summary">http://code.x2go.org/gitweb?p=x2gognomebindings.git;a=summary</A>
 
 Package: x2gognomebindings
 Architecture: any
 Depends: ${shlibs:Depends},
  ${misc:Depends},
- x2goserver,
- zenity
-Description: Description: x2gognomebindings (GNOME mimetypes for x2go)
- x2go is a serverbased computing environment with
- - session resuming
- - low bandwith support
- - LDAP support
- - client side mass storage mounting support
- - audio/arts support
- - authentification by smartcard and usb-stick
- - KDE control-center modules for administration
- - KDE based tools for just in time messaging and client surveillance
+ x2goserver (&gt;=3.0.99.6-0~),
+ zenity,
+ gnome-menus,
+ gnome-colors-common
+Description: Description: x2gognomebindings (GNOME mimetypes for X2go)
+ X2go is a server based computing environment with
+    - session resuming
+    - low bandwith support
+    - LDAP support
+    - client side mass storage mounting support
+    - audio support
+    - authentication by smartcard and USB stick
  .
- x2gognomebindings contains mimetype information for x2go.
+ x2gognomebindings contains MIME type information for X2go if used with
+ GNOME desktops.
diff --git a/debian/copyright b/debian/copyright
index 151f0b4..f93bbbe 100644
--- a/debian/copyright
+++ b/debian/copyright
@@ -5,22 +5,22 @@ It was downloaded from www.obviously-nice.de
 
 Upstream Author: Oleksandr Shneyder &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">oleksandr.shneyder at obviously-nice.de</A>&gt;
 
-Copyright (C) 2007  obviously nice - <A HREF="http://www.obviouslynice.de">http://www.obviouslynice.de</A>
-
-This program is free software; you can redistribute it and/or modify  
-it under the terms of the GNU General Public License as published by  
-the Free Software Foundation; either version 2 of the License, or     
-(at your option) any later version.                                   
-                                                                      
-This program is distributed in the hope that it will be useful,       
-but WITHOUT ANY WARRANTY; without even the implied warranty of        
-MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the         
-GNU General Public License for more details.                          
-                                                                      
-You should have received a copy of the GNU General Public License     
-along with this program; if not, write to the                         
-Free Software Foundation, Inc.,                                       
-59 Temple Place - Suite 330, Boston, MA  02111-1307, USA.             
+Copyright (C) 2007-2011 X2go Project - <A HREF="http://wiki.x2go.org">http://wiki.x2go.org</A>
+
+This program is free software; you can redistribute it and/or modify
+it under the terms of the GNU General Public License as published by
+the Free Software Foundation; either version 2 of the License, or
+(at your option) any later version.
+
+This program is distributed in the hope that it will be useful,
+but WITHOUT ANY WARRANTY; without even the implied warranty of
+MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+GNU General Public License for more details.
+
+You should have received a copy of the GNU General Public License
+along with this program; if not, write to the
+Free Software Foundation, Inc.,
+51 Franklin St, Fifth Floor, Boston, MA 02110-1301, USA.
 
 Copyright (C) 2007  Oleksandr Shneyder
 <A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">oleksandr.shneyder at obviously-nice.de</A>
@@ -31,8 +31,6 @@ <A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">heinz-m.graesing at obviously-nice.de</A>
 On Debian systems, the complete text of the GNU General
 Public License can be found in `/usr/share/common-licenses/GPL'.
 
-
-
 The Debian packaging is (C) 2007, Oleksandr Shneyder &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">oleksandr.shneyder at obviously-nice.de</A>&gt; and
 is licensed under the GPL, see above.
 
diff --git a/debian/dirs b/debian/dirs
deleted file mode 100644
index e4bd112..0000000
--- a/debian/dirs
+++ /dev/null
@@ -1,3 +0,0 @@
-usr/bin
-usr/sbin
-etc/xdg/menus
\ No newline at end of file
diff --git a/debian/docs b/debian/docs
deleted file mode 100644
index 50bd824..0000000
--- a/debian/docs
+++ /dev/null
@@ -1,2 +0,0 @@
-NEWS
-README
diff --git a/debian/rules b/debian/rules
index cf73a3c..c4d4f8f 100755
--- a/debian/rules
+++ b/debian/rules
@@ -1,59 +1,13 @@
 #!/usr/bin/make -f
 
-config.status: configure
-	dh_testdir
-	cp -v /usr/share/misc/config.sub config.sub
-	cp -v /usr/share/misc/config.guess config.guess
-	./configure $(CROSS) --prefix=/usr \
-		--mandir=\$${prefix}/share/man \
-		--infodir=\$${prefix}/share/info \
-		CFLAGS=&quot;$(CFLAGS)&quot; LDFLAGS=&quot;-Wl,-z,defs&quot;
+%:
+	dh $@
 
-build: build-stamp
-build-stamp:  config.status 
-	dh_testdir
-	$(MAKE)
-	touch $@
+override_dh_auto_configure:
+	cp /usr/share/misc/config.sub .
+	cp /usr/share/misc/config.guess .
+	dh_auto_configure
 
-clean: 
-	dh_testdir
-	dh_testroot
-	rm -f build-stamp 
-	-[ ! -f po/Makefile ] || $(MAKE) -C po distclean
-	[ ! -f Makefile ] || $(MAKE) distclean
-	dh_clean config.sub config.guess
-
-install: build
-	dh_testdir
-	dh_testroot
-	dh_clean -k 
-	dh_installdirs
-
-	$(MAKE) DESTDIR=$(CURDIR)/debian/x2gognomebindings install
-	$(MAKE) -C po DESTDIR=$(CURDIR)/debian/x2gognomebindings install
-	install x2gonautilus/x2gonautilus $(CURDIR)/debian/x2gognomebindings/usr/bin/
-	install suspend/x2gosuspend-session-gnome $(CURDIR)/debian/x2gognomebindings/usr/bin/
-	install updatemenu/update-gnome-menu-x2go $(CURDIR)/debian/x2gognomebindings/usr/sbin/
-	cp -ar share $(CURDIR)/debian/x2gognomebindings/usr/
-	cp updatemenu/gnome-settingsx2go.menu $(CURDIR)/debian/x2gognomebindings/etc/xdg/menus
-
-binary-indep: build install
-binary-arch: build install
-	dh_testdir
-	dh_testroot
-	dh_installchangelogs ChangeLog
-	dh_installdocs
-	dh_installexamples
-	dh_installman
-	dh_link
-	dh_strip
-	dh_compress
-	dh_fixperms
-	dh_installdeb
-	dh_shlibdeps
-	dh_gencontrol
-	dh_md5sums
-	dh_builddeb
-
-binary: binary-indep binary-arch
-.PHONY: build clean binary-indep binary-arch binary install 
+override_dh_auto_install:
+	make -C po DESTDIR=../debian/x2gognomebindings install
+	dh_auto_install
diff --git a/debian/source/format b/debian/source/format
new file mode 100644
index 0000000..89ae9db
--- /dev/null
+++ b/debian/source/format
@@ -0,0 +1 @@
+3.0 (native)
diff --git a/debian/x2gognomebindings.dirs b/debian/x2gognomebindings.dirs
new file mode 100644
index 0000000..183c74f
--- /dev/null
+++ b/debian/x2gognomebindings.dirs
@@ -0,0 +1,5 @@
+usr/bin
+usr/sbin
+etc/xdg/menus
+usr/share/x2go
+usr/share/x2go/versions
diff --git a/debian/x2gognomebindings.docs b/debian/x2gognomebindings.docs
new file mode 100644
index 0000000..bcb3587
--- /dev/null
+++ b/debian/x2gognomebindings.docs
@@ -0,0 +1,3 @@
+NEWS
+README
+debian/copyright
diff --git a/debian/x2gognomebindings.install b/debian/x2gognomebindings.install
new file mode 100644
index 0000000..f07eb37
--- /dev/null
+++ b/debian/x2gognomebindings.install
@@ -0,0 +1,10 @@
+bin/x2gosuspend-session-gnome           usr/bin/
+bin/x2goumount-session-gnome            usr/bin/
+bin/x2gonautilus                        usr/bin/
+sbin/update-gnome-menu-x2go             usr/sbin/
+VERSION.x2gognomebindings               usr/share/x2go/versions/
+# Installed into DESTDIR by Makefile
+#extension/libnautilus-x2goumount.la     usr/lib/nautilus/extensions-2.0/
+#extension/libnautilus-x2goumount.so     usr/lib/nautilus/extensions-2.0/
+share/*                                 usr/share/
+xdg-menus/*                             etc/xdg/menus/
\ No newline at end of file
diff --git a/debian/x2gognomebindings.lintian-overrides b/debian/x2gognomebindings.lintian-overrides
new file mode 100644
index 0000000..ad92f39
--- /dev/null
+++ b/debian/x2gognomebindings.lintian-overrides
@@ -0,0 +1,3 @@
+x2gognomebindings: postinst-has-useless-call-to-ldconfig
+x2gognomebindings: postrm-has-useless-call-to-ldconfig
+x2gognomebindings: pkg-has-shlibs-control-file-but-no-actual-shared-libs
diff --git a/debian/x2gognomebindings.manpages b/debian/x2gognomebindings.manpages
new file mode 100644
index 0000000..06e118b
--- /dev/null
+++ b/debian/x2gognomebindings.manpages
@@ -0,0 +1,2 @@
+man/man8/*.8
+
diff --git a/debian/postinst b/debian/x2gognomebindings.postinst
old mode 100644
new mode 100755
similarity index 100%
rename from debian/postinst
rename to debian/x2gognomebindings.postinst
diff --git a/debian/postrm b/debian/x2gognomebindings.postrm
old mode 100644
new mode 100755
similarity index 100%
rename from debian/postrm
rename to debian/x2gognomebindings.postrm
diff --git a/debian/prerm b/debian/x2gognomebindings.prerm
old mode 100644
new mode 100755
similarity index 100%
rename from debian/prerm
rename to debian/x2gognomebindings.prerm
diff --git a/extension/nautilus-x2goumount.c b/extension/nautilus-x2goumount.c
index 80f33ed..081abbe 100644
--- a/extension/nautilus-x2goumount.c
+++ b/extension/nautilus-x2goumount.c
@@ -47,11 +47,13 @@ static void nautilus_x2goumount_execute (NautilusMenuItem *item)
 	GList *files;
 	files = (GList*)g_object_get_data (G_OBJECT (item), &quot;files&quot;);
 	gchar* uri = nautilus_file_info_get_uri ((NautilusFileInfo *)files-&gt;data);
-	char* cmd=malloc(strlen(uri)+strlen(&quot;x2goumount&quot;));
-	strcpy(cmd,&quot;x2goumount &quot;);
-	strcat(cmd, uri+7);
+	gchar *file_path = g_filename_from_uri (uri, NULL, NULL);
+	char* cmd=malloc(strlen(file_path)+strlen(&quot;x2goumount-session-gnome&quot;));
+	strcpy(cmd,&quot;x2goumount-session-gnome &quot;);
+	strcat(cmd, file_path);
 	g_spawn_command_line_async (cmd, NULL);
-        g_free (uri);
+	g_free (uri);
+	g_free (file_path);
 }
 
 static const gchar* get_verified_icon_name (const gchar* icon_name)
diff --git a/man/man8/x2gonautilus.8 b/man/man8/x2gonautilus.8
new file mode 100644
index 0000000..d99667f
--- /dev/null
+++ b/man/man8/x2gonautilus.8
@@ -0,0 +1,22 @@
+'\&quot; -*- coding: utf-8 -*-
+.if \n(.g .ds T&lt; \\FC
+.if \n(.g .ds T&gt; \\F[\n[.fam]]
+.de URL
+\\$2 \(la\\$1\(ra\\$3
+..
+.if \n(.g .mso www.tmac
+.TH x2gonautilus 8 &quot;18 May 2011&quot; &quot;Version 3.0.99.x&quot; &quot;X2go GNOME Bindings&quot;
+.SH NAME
+x2gonautilus \- X2go GNOME Wrapper for Browsing X2go Shared Folders with Nautilus
+.SH SYNOPSIS
+'nh
+.fi
+.ad l
+x2gonautilus &lt;path&gt;
+
+.SH DESCRIPTION
+\fBx2gonautilus\fR is a component of the X2go GNOME bindings and a simple wrapper GNOME's Nautilus
+file browser for X2go-base shared folders.
+.SH AUTHOR
+This manual has been written by Mike Gabriel &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">mike.gabriel at das-netzwerkteam.de</A>&gt; for the X2go project
+(<A HREF="http://www.x2go.org">http://www.x2go.org</A>).
diff --git a/man/man8/x2gosuspend-session-gnome.8 b/man/man8/x2gosuspend-session-gnome.8
new file mode 100644
index 0000000..749b7a9
--- /dev/null
+++ b/man/man8/x2gosuspend-session-gnome.8
@@ -0,0 +1,23 @@
+'\&quot; -*- coding: utf-8 -*-
+.if \n(.g .ds T&lt; \\FC
+.if \n(.g .ds T&gt; \\F[\n[.fam]]
+.de URL
+\\$2 \(la\\$1\(ra\\$3
+..
+.if \n(.g .mso www.tmac
+.TH x2gosuspend-session-gnome 8 &quot;18 May 2011&quot; &quot;Version 3.0.99.x&quot; &quot;X2go GNOME Bindings&quot;
+.SH NAME
+x2gosuspend-session-gnome \- X2go GNOME Binding for X2go Server: Suspend X2go Sessions from GNOME Menu
+.SH SYNOPSIS
+'nh
+.fi
+.ad l
+x2gosuspend-session-gnome &lt;session_id&gt;
+
+.SH DESCRIPTION
+\fBx2gosuspend-gnome-session\fR is a component of the X2go GNOME bindings and a simple wrapper around the X2go Server
+script ,,x2gosuspend-session''--with the potentials to be customized for X2go on GNOME desktops.
+.PP
+.SH AUTHOR
+This manual has been written by Mike Gabriel &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">mike.gabriel at das-netzwerkteam.de</A>&gt; for the X2go project
+(<A HREF="http://www.x2go.org">http://www.x2go.org</A>).
diff --git a/man/man8/x2goumount-session-gnome.8 b/man/man8/x2goumount-session-gnome.8
new file mode 100644
index 0000000..f8d50ea
--- /dev/null
+++ b/man/man8/x2goumount-session-gnome.8
@@ -0,0 +1,23 @@
+'\&quot; -*- coding: utf-8 -*-
+.if \n(.g .ds T&lt; \\FC
+.if \n(.g .ds T&gt; \\F[\n[.fam]]
+.de URL
+\\$2 \(la\\$1\(ra\\$3
+..
+.if \n(.g .mso www.tmac
+.TH x2goumount-session-gnome 8 &quot;18 May 2011&quot; &quot;Version 3.0.99.x&quot; &quot;X2go GNOME Bindings&quot;
+.SH NAME
+x2goumount-session-gnome \- X2go GNOME Binding for X2go Server: Unmount shared folder via Nautilus
+.SH SYNOPSIS
+'nh
+.fi
+.ad l
+x2goumount-session-gnome &lt;arg1&gt; &lt;arg2&gt; ...
+
+.SH DESCRIPTION
+\fBx2goumount-session-gnome\fR is a component of the X2go GNOME bindings. It is run if a user selects the ,,Unmount''
+action in the right-click context menu on X2go shared folder icons on the GNOME desktop.
+.PP
+.SH AUTHOR
+This manual has been written by Mike Gabriel &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">mike.gabriel at das-netzwerkteam.de</A>&gt; for the X2go project
+(<A HREF="http://www.x2go.org">http://www.x2go.org</A>).
diff --git a/sbin/update-gnome-menu-x2go b/sbin/update-gnome-menu-x2go
new file mode 100755
index 0000000..9d4de0f
--- /dev/null
+++ b/sbin/update-gnome-menu-x2go
@@ -0,0 +1,72 @@
+#!/usr/bin/perl
+
+# Copyright (C) 2007-2011 X2go Project - <A HREF="http://wiki.x2go.org">http://wiki.x2go.org</A>
+#
+# This program is free software; you can redistribute it and/or modify
+# it under the terms of the GNU General Public License as published by
+# the Free Software Foundation; either version 2 of the License, or
+# (at your option) any later version.
+#
+# This program is distributed in the hope that it will be useful,
+# but WITHOUT ANY WARRANTY; without even the implied warranty of
+# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+# GNU General Public License for more details.
+#
+# You should have received a copy of the GNU General Public License
+# along with this program; if not, write to the
+# Free Software Foundation, Inc.,
+# 51 Franklin St, Fifth Floor, Boston, MA 02110-1301, USA.
+#
+# Copyright (C) 2007-2011  Oleksandr Shneyder &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">oleksandr.shneyder at obviously-nice.de</A>&gt;
+# Copyright (C) 2007-2011  Heinz-Markus Graesing &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">heinz-m.graesing at obviously-nice.de</A>&gt;
+
+use strict;
+
+my $mode=shift;
+if( $mode eq &quot;--help&quot; )
+{
+     print &quot;Usage: $0 [--remove]\n&quot;;
+     print &quot;	Add or remove \&quot;Suspend X2Go session\&quot; button to gnome-settings menu \n&quot;;
+     exit;
+}
+my $menu;
+if ( -e &quot;/etc/xdg/menus/gnome-settings.menu&quot; )
+{
+     $menu=&quot;/etc/xdg/menus/gnome-settings.menu&quot;;
+}
+elsif ( -e &quot;/etc/xdg/menus/settings.menu&quot; )
+{
+     $menu=&quot;/etc/xdg/menus/settings.menu&quot;;
+}
+else
+{
+     die &quot;Settings menu not found in /etc/xdg/menus&quot;;
+}
+
+my $menustr=&quot;&lt;MergeFile&gt;/etc/xdg/menus/gnome-settings-x2go.menu&lt;/MergeFile&gt;\n&quot;;
+
+open(FILE,&quot;&lt;$menu&quot;);
+my @ln=&lt;FILE&gt;;
+close(FILE);
+my $text=join(&quot;&quot;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">, at ln</A>);
+
+if( $mode eq &quot;--remove&quot; )
+{    
+      if($text =~ m/$menustr/)
+      {
+            $text =~ s/\n$menustr//;
+            open(FILE,&quot;&gt;$menu&quot;);
+            print FILE $text;
+	    close(FILE);
+      }
+}
+else
+{
+      if(! ($text =~ m/$menustr/))
+      {
+            $text =~ s/&lt;\/Layout&gt;/&lt;\/Layout&gt;\n$menustr/;
+            open(FILE,&quot;&gt;$menu&quot;);
+            print FILE $text;
+	    close(FILE);
+      }
+}
\ No newline at end of file
diff --git a/share/applications/x2gonautilus.desktop b/share/applications/x2gonautilus.desktop
index e0ad6fc..c653e6d 100644
--- a/share/applications/x2gonautilus.desktop
+++ b/share/applications/x2gonautilus.desktop
@@ -1,9 +1,10 @@
 [Desktop Entry]
 Encoding=UTF-8
 Name=x2gonautilus
-MimeType=application/sshfsdisk;application/sshfscdrom;application/sshfsremovable
+MimeType=application/sshfsdisk-x2go-gnome;application/sshfscdrom-x2go-gnome;application/sshfsremovable-x2go-gnome
 Exec=x2gonautilus %f
 Type=Application
 Terminal=false
 NoDisplay=true
 Icon=file-manager
+
diff --git a/share/applications/x2gosuspend.desktop b/share/applications/x2gosuspend.desktop
index e6c22c1..65745e8 100644
--- a/share/applications/x2gosuspend.desktop
+++ b/share/applications/x2gosuspend.desktop
@@ -6,3 +6,5 @@ Icon=exit
 Exec=x2gosuspend-session-gnome
 Terminal=false
 Type=Application
+Categories=GNOME;GTK;Network
+OnlyShowIn=GNOME;
diff --git a/share/icons/gnome/scalable/mimetypes/gnome-mime-application-sshfscdrom-x2go-gnome.svg b/share/icons/gnome/scalable/mimetypes/gnome-mime-application-sshfscdrom-x2go-gnome.svg
new file mode 120000
index 0000000..20f78dd
--- /dev/null
+++ b/share/icons/gnome/scalable/mimetypes/gnome-mime-application-sshfscdrom-x2go-gnome.svg
@@ -0,0 +1 @@
+/usr/share/icons/gnome-colors-common/scalable/devices/drive-optical.svg
\ No newline at end of file
diff --git a/share/icons/gnome/scalable/mimetypes/gnome-mime-application-sshfscdrom.svg b/share/icons/gnome/scalable/mimetypes/gnome-mime-application-sshfscdrom.svg
deleted file mode 120000
index 92dbac8..0000000
--- a/share/icons/gnome/scalable/mimetypes/gnome-mime-application-sshfscdrom.svg
+++ /dev/null
@@ -1 +0,0 @@
-/usr/share/icons/gnome/scalable/devices/drive-optical.svg
\ No newline at end of file
diff --git a/share/icons/gnome/scalable/mimetypes/gnome-mime-application-sshfsdisk-x2go-gnome.svg b/share/icons/gnome/scalable/mimetypes/gnome-mime-application-sshfsdisk-x2go-gnome.svg
new file mode 120000
index 0000000..3a2e8f9
--- /dev/null
+++ b/share/icons/gnome/scalable/mimetypes/gnome-mime-application-sshfsdisk-x2go-gnome.svg
@@ -0,0 +1 @@
+/usr/share/icons/gnome-colors-common/scalable/devices/drive-harddisk.svg
\ No newline at end of file
diff --git a/share/icons/gnome/scalable/mimetypes/gnome-mime-application-sshfsdisk.svg b/share/icons/gnome/scalable/mimetypes/gnome-mime-application-sshfsdisk.svg
deleted file mode 120000
index 388c35e..0000000
--- a/share/icons/gnome/scalable/mimetypes/gnome-mime-application-sshfsdisk.svg
+++ /dev/null
@@ -1 +0,0 @@
-/usr/share/icons/gnome/scalable/devices/drive-harddisk.svg
\ No newline at end of file
diff --git a/share/icons/gnome/scalable/mimetypes/gnome-mime-application-sshfsremovable-x2go-gnome.svg b/share/icons/gnome/scalable/mimetypes/gnome-mime-application-sshfsremovable-x2go-gnome.svg
new file mode 120000
index 0000000..7ca88a1
--- /dev/null
+++ b/share/icons/gnome/scalable/mimetypes/gnome-mime-application-sshfsremovable-x2go-gnome.svg
@@ -0,0 +1 @@
+/usr/share/icons/gnome-colors-common/scalable/devices/drive-removable-media.svg
\ No newline at end of file
diff --git a/share/icons/gnome/scalable/mimetypes/gnome-mime-application-sshfsremovable.svg b/share/icons/gnome/scalable/mimetypes/gnome-mime-application-sshfsremovable.svg
deleted file mode 120000
index ab47d4e..0000000
--- a/share/icons/gnome/scalable/mimetypes/gnome-mime-application-sshfsremovable.svg
+++ /dev/null
@@ -1 +0,0 @@
-/usr/share/icons/gnome/scalable/devices/drive-removable-media.svg
\ No newline at end of file
diff --git a/share/mime/packages/sshfs.xml b/share/mime/packages/sshfs-x2go-gnome.xml
similarity index 58%
rename from share/mime/packages/sshfs.xml
rename to share/mime/packages/sshfs-x2go-gnome.xml
index fe04e48..506101e 100644
--- a/share/mime/packages/sshfs.xml
+++ b/share/mime/packages/sshfs-x2go-gnome.xml
@@ -1,18 +1,18 @@
 &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
 &lt;mime-info xmlns=&quot;<A HREF="http://www.freedesktop.org/standards/shared-mime-info">http://www.freedesktop.org/standards/shared-mime-info</A>&quot;&gt;
-  &lt;mime-type type=&quot;application/sshfscdrom&quot;&gt;
+  &lt;mime-type type=&quot;application/sshfscdrom-x2go-gnome&quot;&gt;
     &lt;comment&gt;SSHFS CDROM&lt;/comment&gt;
     &lt;comment xml:lang=&quot;de&quot;&gt;SSHFS CDROM&lt;/comment&gt;
-    &lt;glob pattern=&quot;*(sshfs-cdrom)&quot;/&gt;
+    &lt;glob pattern=&quot;* (sshfs-cdrom-gnome)&quot;/&gt;
   &lt;/mime-type&gt;
-  &lt;mime-type type=&quot;application/sshfsdisk&quot;&gt;
+  &lt;mime-type type=&quot;application/sshfsdisk-x2go-gnome&quot;&gt;
     &lt;comment&gt;SSHFS Disk&lt;/comment&gt;
     &lt;comment xml:lang=&quot;de&quot;&gt;SSHFS Freigabe&lt;/comment&gt;
-    &lt;glob pattern=&quot;*(sshfs-disk)&quot;/&gt;
+    &lt;glob pattern=&quot;* (sshfs-disk-gnome)&quot;/&gt;
   &lt;/mime-type&gt;
-  &lt;mime-type type=&quot;application/sshfsremovable&quot;&gt;
+  &lt;mime-type type=&quot;application/sshfsremovable-x2go-gnome&quot;&gt;
     &lt;comment&gt;SSHFS Removable&lt;/comment&gt;
     &lt;comment xml:lang=&quot;de&quot;&gt;SSHFS Ger&#228;t&lt;/comment&gt;
-    &lt;glob pattern=&quot;*(sshfs-removable)&quot;/&gt;
+    &lt;glob pattern=&quot;* (sshfs-removable-gnome)&quot;/&gt;
   &lt;/mime-type&gt;
 &lt;/mime-info&gt;
diff --git a/suspend/x2gosuspend-session-gnome b/suspend/x2gosuspend-session-gnome
deleted file mode 100755
index df57978..0000000
--- a/suspend/x2gosuspend-session-gnome
+++ /dev/null
@@ -1,3 +0,0 @@
-#!/bin/bash
-
-x2gosuspend-session $X2GO_SESSION
diff --git a/updatemenu/gnome-settingsx2go.menu b/updatemenu/gnome-settingsx2go.menu
deleted file mode 100644
index 93923d2..0000000
--- a/updatemenu/gnome-settingsx2go.menu
+++ /dev/null
@@ -1,19 +0,0 @@
-&lt;!DOCTYPE Menu
-PUBLIC '-//freedesktop//DTD Menu 1.0//EN'
-'<A HREF="http://standards.freedesktop.org/menu-spec/menu-1.0.dtd">http://standards.freedesktop.org/menu-spec/menu-1.0.dtd</A>'&gt;
-&lt;Menu&gt;
-    &lt;Name&gt;Desktop&lt;/Name&gt;
-    &lt;Include&gt;
-            &lt;Filename&gt;x2gosuspend.desktop&lt;/Filename&gt;
-    &lt;/Include&gt;
-    &lt;Layout&gt;
-        &lt;Merge type=&quot;menus&quot;/&gt;
-        &lt;Separator/&gt;
-        &lt;Filename&gt;x2gosuspend.desktop&lt;/Filename&gt;
-        &lt;Merge type=&quot;files&quot;/&gt;
-    &lt;/Layout&gt;
-&lt;/Menu&gt;
-                                                                                                                        
-                                                                                                                        
-                                                                                                                        
-                                                                                                                        
\ No newline at end of file
diff --git a/updatemenu/update-gnome-menu-x2go b/updatemenu/update-gnome-menu-x2go
deleted file mode 100755
index d9e1619..0000000
--- a/updatemenu/update-gnome-menu-x2go
+++ /dev/null
@@ -1,51 +0,0 @@
-#!/usr/bin/perl
-use strict;
-
-my $mode=shift;
-if( $mode eq &quot;--help&quot; )
-{
-     print &quot;Usage: $0 [--remove]\n&quot;;
-     print &quot;	Add or remove \&quot;Suspend X2Go session\&quot; button to gnome-settings menu \n&quot;;
-     exit;
-}
-my $menu;
-if ( -e &quot;/etc/xdg/menus/gnome-settings.menu&quot; )
-{
-     $menu=&quot;/etc/xdg/menus/gnome-settings.menu&quot;;
-}
-elsif ( -e &quot;/etc/xdg/menus/settings.menu&quot; )
-{
-     $menu=&quot;/etc/xdg/menus/settings.menu&quot;;
-}
-else
-{
-     die &quot;Settings menu not found in /etc/xdg/menus&quot;;
-}
-
-my $menustr=&quot;&lt;MergeFile&gt;/etc/xdg/menus/gnome-settingsx2go.menu&lt;/MergeFile&gt;\n&quot;;
-
-open(FILE,&quot;&lt;$menu&quot;);
-my @ln=&lt;FILE&gt;;
-close(FILE);
-my $text=join(&quot;&quot;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">, at ln</A>);
-
-if( $mode eq &quot;--remove&quot; )
-{    
-      if($text =~ m/$menustr/)
-      {
-            $text =~ s/\n$menustr//;
-            open(FILE,&quot;&gt;$menu&quot;);
-            print FILE $text;
-	    close(FILE);
-      }
-}
-else
-{
-      if(! ($text =~ m/$menustr/))
-      {
-            $text =~ s/&lt;\/Layout&gt;/&lt;\/Layout&gt;\n$menustr/;
-            open(FILE,&quot;&gt;$menu&quot;);
-            print FILE $text;
-	    close(FILE);
-      }
-}
\ No newline at end of file
diff --git a/x2gonautilus/x2gonautilus b/x2gonautilus/x2gonautilus
deleted file mode 100755
index 48f3c9e..0000000
--- a/x2gonautilus/x2gonautilus
+++ /dev/null
@@ -1,8 +0,0 @@
-#!/usr/bin/perl
-use strict;
-
-my $fname=shift;
-open(F,&quot;&lt;$fname&quot;) or die &quot;can't open $fname&quot;;
-my $dir=&lt;F&gt;;
-close(F);
-system( &quot;nautilus  $dir&quot; );
diff --git a/xdg-menus/gnome-settings-x2go.menu b/xdg-menus/gnome-settings-x2go.menu
new file mode 100644
index 0000000..0f7207c
--- /dev/null
+++ b/xdg-menus/gnome-settings-x2go.menu
@@ -0,0 +1,13 @@
+&lt;!DOCTYPE Menu PUBLIC '-//freedesktop//DTD Menu 1.0//EN' '<A HREF="http://standards.freedesktop.org/menu-spec/menu-1.0.dtd">http://standards.freedesktop.org/menu-spec/menu-1.0.dtd</A>'&gt;
+&lt;Menu&gt;
+    &lt;Name&gt;Desktop&lt;/Name&gt;
+    &lt;Include&gt;
+            &lt;Filename&gt;x2gosuspend.desktop&lt;/Filename&gt;
+    &lt;/Include&gt;
+    &lt;Layout&gt;
+        &lt;Merge type=&quot;menus&quot;/&gt;
+        &lt;Separator/&gt;
+        &lt;Filename&gt;x2gosuspend.desktop&lt;/Filename&gt;
+        &lt;Merge type=&quot;files&quot;/&gt;
+    &lt;/Layout&gt;
+&lt;/Menu&gt;


hooks/post-receive
-- 
x2gognomebindings.git (X2go bindings for GNOME)

This is an automated email from the git hooks/post-receive script. It was
generated because a ref change was pushed to the repository containing
the project &quot;x2gognomebindings.git&quot; (X2go bindings for GNOME).


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001721.html">[X2go-Commits] x2gognomebindings.git - master (branch) updated:	2.0.1.1-31-g8227f81
</A></li>
	<LI>Next message: <A HREF="001723.html">[X2go-Commits] x2golxdebindings.git - master (branch) updated:	7929f975dae6b0430a1f0804eedfeee402023262
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1722">[ date ]</a>
              <a href="thread.html#1722">[ thread ]</a>
              <a href="subject.html#1722">[ subject ]</a>
              <a href="author.html#1722">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/x2go-commits">More information about the X2go-commits
mailing list</a><br>
</body></html>
