<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [X2Go-Commits] x2goserver.git - build-baikal (branch) updated:	3.0.99.10-26-gadabd15
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/x2go-commits/2013-December/index.html" >
   <LINK REL="made" HREF="mailto:x2go-commits%40lists.berlios.de?Subject=Re%3A%20%5BX2Go-Commits%5D%20x2goserver.git%20-%20build-baikal%20%28branch%29%20updated%3A%0A%093.0.99.10-26-gadabd15&In-Reply-To=%3C20131204052159.D30125DB28%40ymir%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016249.html">
   <LINK REL="Next"  HREF="016256.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[X2Go-Commits] x2goserver.git - build-baikal (branch) updated:	3.0.99.10-26-gadabd15</H1>
    <B>X2Go dev team</B> 
    <A HREF="mailto:x2go-commits%40lists.berlios.de?Subject=Re%3A%20%5BX2Go-Commits%5D%20x2goserver.git%20-%20build-baikal%20%28branch%29%20updated%3A%0A%093.0.99.10-26-gadabd15&In-Reply-To=%3C20131204052159.D30125DB28%40ymir%3E"
       TITLE="[X2Go-Commits] x2goserver.git - build-baikal (branch) updated:	3.0.99.10-26-gadabd15">git-admin at x2go.org
       </A><BR>
    <I>Wed Dec  4 06:21:59 CET 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="016249.html">[X2Go-Commits] x2goserver.git - build-baikal (branch) updated:	3.0.99.10-27-g305f7e8
</A></li>
        <LI>Next message: <A HREF="016256.html">[X2Go-Commits] x2goserver.git - build-baikal (branch) updated:	3.0.99.10-22-g9da2c4d
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16250">[ date ]</a>
              <a href="thread.html#16250">[ thread ]</a>
              <a href="subject.html#16250">[ subject ]</a>
              <a href="author.html#16250">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>The branch, build-baikal has been updated
       via  adabd159ef48fad1bb827c76c17a2604d30ec4b5 (commit)
      from  cefc9b0522ff5a9c5b996263961c94d8b5a56e62 (commit)

Those revisions listed above that are new to this repository have
not appeared on any other notification email; so we list those
revisions in full, below.

- Log -----------------------------------------------------------------
-----------------------------------------------------------------------

Summary of changes:
 x2goserver/bin/x2goresume-session    |   14 +++++++-------
 x2goserver/bin/x2goruncommand        |    2 +-
 x2goserver/bin/x2gostartagent        |   16 ++++++++--------
 x2goserver/bin/x2gosuspend-session   |    2 +-
 x2goserver/bin/x2goterminate-session |    2 +-
 x2goserver/bin/x2goversion           |    2 +-
 6 files changed, 19 insertions(+), 19 deletions(-)

The diff of changes is:
diff --git a/x2goserver/bin/x2goresume-session b/x2goserver/bin/x2goresume-session
index cd856a5..e03751a 100755
--- a/x2goserver/bin/x2goresume-session
+++ b/x2goserver/bin/x2goresume-session
@@ -29,7 +29,7 @@ X2GO_KBD_TYPE=&quot;$6&quot;
 X2GO_SET_KBD=&quot;$7&quot;
 
 X2GO_LIB_PATH=`echo -n \$(x2gobasepath)/lib/x2go`
-X2GO_AGENT_PID=`$X2GO_LIB_PATH/x2gogetagent $SESSION_NAME`
+X2GO_AGENT_PID=`$X2GO_LIB_PATH/x2gogetagent &quot;$SESSION_NAME&quot;`
 
 X2GO_ROOT=&quot;${HOME}/.x2go&quot;
 X2GO_RESIZE=0
@@ -55,7 +55,7 @@ then
 fi
 
 
-SESSIONINFO=`x2golistsessions | grep ${SESSION_NAME} | sed &quot;s/|/,/g&quot;`
+SESSIONINFO=`x2golistsessions | grep &quot;${SESSION_NAME}&quot; | sed &quot;s/|/,/g&quot;`
 
 GR_PORT=`echo &quot;$SESSIONINFO&quot; | awk -F, {'print $9'}`
 SOUND_PORT=`echo &quot;$SESSIONINFO&quot; | awk -F, {'print $10'}`
@@ -87,7 +87,7 @@ fi
 SSH_PORT=30000 #First ssh port 30001
 
 #Get all used in system ports from X2Go database and netstat output
-USED_PORTS=`$X2GO_LIB_PATH/x2gogetports $HOSTNAME ; netstat -nt -all | awk '{ n=split($0,lines,&quot;\n&quot;); for(i=1;i&lt;=n;i++){split (lines[i],words,&quot; &quot;);delim=split(words[4],ports,&quot;:&quot;); if(delim&gt;1)printf (&quot;|%s|\n&quot;,ports[delim])} }'`
+USED_PORTS=`$X2GO_LIB_PATH/x2gogetports &quot;$HOSTNAME&quot;; netstat -nt -all | awk '{ n=split($0,lines,&quot;\n&quot;); for(i=1;i&lt;=n;i++){split (lines[i],words,&quot; &quot;);delim=split(words[4],ports,&quot;:&quot;); if(delim&gt;1)printf (&quot;|%s|\n&quot;,ports[delim])} }'`
 
 while [ &quot;$GR_PORT&quot; == &quot;&quot; ] || [ &quot;$SOUND_PORT&quot; == &quot;&quot; ] || [ &quot;$FS_PORT&quot; == &quot;&quot; ]; do
 	OUTPUT=&quot;&quot;
@@ -100,7 +100,7 @@ while [ &quot;$GR_PORT&quot; == &quot;&quot; ] || [ &quot;$SOUND_PORT&quot; == &quot;&quot; ] || [ &quot;$FS_PORT&quot; == &quot;&quot; ]; d
 		#check if port in /etc/services
 		SERV=`grep $SSH_PORT /etc/services`
 		if [ &quot;$SERV&quot; == &quot;&quot; ]; then
-			OUTPUT=`$X2GO_LIB_PATH/x2goinsertport $HOSTNAME $SESSION_NAME $SSH_PORT`
+			OUTPUT=`$X2GO_LIB_PATH/x2goinsertport &quot;$HOSTNAME&quot; &quot;$SESSION_NAME&quot; &quot;$SSH_PORT&quot;`
 		fi
 	done
 	if [ &quot;$GR_PORT&quot; == &quot;&quot; ]; then
@@ -125,8 +125,8 @@ KTSTR=`echo &quot;$OPTIONS&quot; | awk -F, {'print $12'}`
 LISTSTR=`echo &quot;$OPTIONS&quot; | awk -F, {'print $17'}`
 
 
-KTSTR=`echo $KTSTR | sed &quot;s/\//\\\\\\\\\//&quot;`
-X2GO_KBD_TYPE=`echo $X2GO_KBD_TYPE | sed &quot;s/\//\\\\\\\\\//&quot;`
+KTSTR=`echo &quot;$KTSTR&quot; | sed &quot;s/\//\\\\\\\\\//&quot;`
+X2GO_KBD_TYPE=`echo &quot;$X2GO_KBD_TYPE&quot; | sed &quot;s/\//\\\\\\\\\//&quot;`
 
 if [ &quot;$X2GO_SET_KBD&quot; == &quot;0&quot; ]
 then
@@ -141,7 +141,7 @@ NEWOPTIONS=`echo &quot;$OPTIONS&quot; | sed  -e  &quot;s/$LSTR/link=$X2GO_LINK/&quot;\
  -e &quot;s/$LISTSTR/listen=$GR_PORT/&quot;\
  -e &quot;s/$FSTR/fullscreen=$X2GO_FULLSCREEN/&quot;`
 
-X2GO_CLIENT=`echo $SSH_CLIENT | awk '{print $1}'`
+X2GO_CLIENT=`echo &quot;$SSH_CLIENT&quot; | awk '{print $1}'`
 if [ &quot;$X2GO_CLIENT&quot; == &quot;&quot; ]
 then
 	X2GO_CLIENT=&quot;$HOSTNAME&quot;
diff --git a/x2goserver/bin/x2goruncommand b/x2goserver/bin/x2goruncommand
index 7370c38..0a664b6 100755
--- a/x2goserver/bin/x2goruncommand
+++ b/x2goserver/bin/x2goruncommand
@@ -116,7 +116,7 @@ fi
 
 EXEC=`which $cmd`
 
-BNAME=`basename $EXEC`
+BNAME=`basename &quot;$EXEC&quot;`
 if [ &quot;$BNAME&quot; == &quot;rdesktop&quot; ]
 then
 	IMEXIT=&quot;true&quot;
diff --git a/x2goserver/bin/x2gostartagent b/x2goserver/bin/x2gostartagent
index 5ad0e79..679852e 100755
--- a/x2goserver/bin/x2gostartagent
+++ b/x2goserver/bin/x2gostartagent
@@ -30,7 +30,7 @@ SSH_PORT=30000 #First ssh port 30001
 X2GO_ROOT=&quot;${HOME}/.x2go&quot;
 REMOTE=localhost
 
-X2GO_CLIENT=`echo $SSH_CLIENT | awk '{print $1}'`
+X2GO_CLIENT=`echo &quot;$SSH_CLIENT&quot; | awk '{print $1}'`
 $X2GO_LIB_PATH/x2gosyslog &quot;$0&quot; &quot;debug&quot; &quot;client announced itself as ,,$X2GO_CLIENT''&quot;
 
 X2GO_GEOMETRY=&quot;$1&quot;; shift
@@ -68,15 +68,15 @@ if [ &quot;$X2GO_STYPE&quot; == &quot;S&quot; ]; then
 
 		$X2GO_LIB_PATH/x2gosyslog &quot;$0&quot; &quot;notice&quot; &quot;user ,,$USER'' requests desktop sharing from user ,,$SHADOW_USER'' for desktop ,,$SHADOW_DESKTOP''&quot;
 		$X2GO_LIB_PATH/x2gosyslog &quot;$0&quot; &quot;debug&quot; &quot;executing command: x2godesktopsharing client $X2GO_CLIENT $X2GO_GEOMETRY $X2GO_LINK $X2GO_PACK $X2GO_TYPE $X2GO_KBD_LAYOUT $X2GO_KBD_TYPE $X2GO_SET_KBD $X2GO_STYPE $X2GO_CMD $USER&quot;
-		OUTPUT=`x2godesktopsharing client $X2GO_CLIENT $X2GO_GEOMETRY $X2GO_LINK $X2GO_PACK $X2GO_TYPE $X2GO_KBD_LAYOUT $X2GO_KBD_TYPE $X2GO_SET_KBD $X2GO_STYPE $X2GO_CMD $USER`
+		OUTPUT=`x2godesktopsharing client &quot;$X2GO_CLIENT&quot; &quot;$X2GO_GEOMETRY&quot; &quot;$X2GO_LINK&quot; &quot;$X2GO_PACK&quot; &quot;$X2GO_TYPE&quot; &quot;$X2GO_KBD_LAYOUT&quot; &quot;$X2GO_KBD_TYPE&quot; &quot;$X2GO_SET_KBD&quot; &quot;$X2GO_STYPE&quot; &quot;$X2GO_CMD&quot; &quot;$USER&quot;`
 		$X2GO_LIB_PATH/x2gosyslog &quot;$0&quot; &quot;debug&quot; &quot;command result is: $OUTPUT&quot;
 		if [ &quot;$OUTPUT&quot; == &quot;DENY&quot; ]; then
 			echo &quot;ACCESS DENIED&quot; 1&gt;&amp;2
 			$X2GO_LIB_PATH/x2gosyslog &quot;$0&quot; &quot;err&quot; &quot;ERROR: user $SHADOW_USER denied desktop sharing session&quot;
 			exit -1
 		fi
-		X2GO_COOKIE=`echo $OUTPUT | awk '{print $2}'`
-		X2GO_PORT=`echo $OUTPUT | awk '{print $1}'`
+		X2GO_COOKIE=`echo &quot;$OUTPUT&quot; | awk '{print $2}'`
+		X2GO_PORT=`echo &quot;$OUTPUT&quot; | awk '{print $1}'`
 		$X2GO_LIB_PATH/x2gosyslog &quot;$0&quot; &quot;debug&quot; &quot;received shadow session information: cookie: $X2GO_COOKIE, port: $X2GO_PORT&quot;
 		xauth -f &quot;$XAUTHORITY&quot; add &quot;${HOSTNAME}/unix:${X2GO_PORT}&quot; MIT-MAGIC-COOKIE-1 &quot;${X2GO_COOKIE}&quot;
 		xauth -f &quot;$XAUTHORITY&quot; add &quot;${HOSTNAME}:${X2GO_PORT}&quot; MIT-MAGIC-COOKIE-1 &quot;${X2GO_COOKIE}&quot;
@@ -93,7 +93,7 @@ if [ &quot;$X2GO_STYPE&quot; == &quot;S&quot; ]; then
 fi
 
 LIMIT=`x2gosessionlimit`
-LWORD=`echo $LIMIT | awk '{print $1}'`
+LWORD=`echo &quot;$LIMIT&quot; | awk '{print $1}'`
 
 if [ &quot;$LWORD&quot; == &quot;LIMIT&quot; ]; then
 	echo  $LIMIT 1&gt;&amp;2
@@ -138,7 +138,7 @@ while [ &quot;$OUTPUT&quot;  != &quot;inserted&quot; ]; do
 			SESSION_NAME=&quot;${SESSION_NAME}_st${SESSION_TYPE}${X2GO_CMD}_dp${COLORDEPTH}&quot;
 			SESSION_NAME=`echo &quot;$SESSION_NAME&quot; | sed  -e  &quot;s/:/PP/g&quot;`
 		fi
-		OUTPUT=`$X2GO_LIB_PATH/x2goinsertsession $X2GO_PORT $HOSTNAME $SESSION_NAME`
+		OUTPUT=`$X2GO_LIB_PATH/x2goinsertsession &quot;$X2GO_PORT&quot; &quot;$HOSTNAME&quot; &quot;$SESSION_NAME&quot;`
 	fi 
 done
 
@@ -154,7 +154,7 @@ while [ &quot;$GR_PORT&quot; == &quot;&quot; ] || [ &quot;$SOUND_PORT&quot; == &quot;&quot; ] || [ &quot;$FS_PORT&quot; == &quot;&quot; ]; d
 		#check if port in /etc/services
 		SERV=`grep $SSH_PORT /etc/services`
 		if [ &quot;$SERV&quot; == &quot;&quot; ]; then
-			OUTPUT=`$X2GO_LIB_PATH/x2goinsertport $HOSTNAME $SESSION_NAME $SSH_PORT`
+			OUTPUT=`$X2GO_LIB_PATH/x2goinsertport &quot;$HOSTNAME&quot; &quot;$SESSION_NAME&quot; &quot;$SSH_PORT&quot;`
 		fi
 	done
 	if [ &quot;$GR_PORT&quot; == &quot;&quot; ]; then
@@ -177,7 +177,7 @@ if [ &quot;$X2GO_GEOMETRY&quot; == &quot;fullscreen&quot; ]; then
 fi
 
 if [ &quot;$X2GO_STYPE&quot; == &quot;S&quot; ]; then
-	X2GO_GEOMETRY=`DISPLAY=$SHADOW_DESKTOP xwininfo -root | grep geometry`
+	X2GO_GEOMETRY=`DISPLAY=&quot;$SHADOW_DESKTOP&quot; xwininfo -root | grep geometry`
 	X2GO_GEOMETRY=`echo &quot;$X2GO_GEOMETRY&quot; | sed  -e  &quot;s/ //g&quot;`
 	X2GO_GEOMETRY=`echo &quot;$X2GO_GEOMETRY&quot; | sed  -e  &quot;s/-geometry//&quot;`
 fi
diff --git a/x2goserver/bin/x2gosuspend-session b/x2goserver/bin/x2gosuspend-session
index 1311d40..f823c69 100755
--- a/x2goserver/bin/x2gosuspend-session
+++ b/x2goserver/bin/x2gosuspend-session
@@ -30,7 +30,7 @@ X2GO_LIB_PATH=`echo -n \$(x2gobasepath)/lib/x2go`
 
 $X2GO_LIB_PATH/x2gosyslog &quot;$0&quot; &quot;info&quot; &quot;$(basename $0) called with options: $@&quot;
 
-X2GO_AGENT_PID=`$X2GO_LIB_PATH/x2gogetagent $SESSION_NAME` 
+X2GO_AGENT_PID=`$X2GO_LIB_PATH/x2gogetagent &quot;$SESSION_NAME&quot;` 
 X2GO_AGENT_PID=`echo &quot;$X2GO_AGENT_PID&quot;| awk {'print $1'}`
 
 # workaround for knotify, keep silent in case no knotify is running
diff --git a/x2goserver/bin/x2goterminate-session b/x2goserver/bin/x2goterminate-session
index 59e0944..271f714 100755
--- a/x2goserver/bin/x2goterminate-session
+++ b/x2goserver/bin/x2goterminate-session
@@ -30,7 +30,7 @@ X2GO_LIB_PATH=`echo -n \$(x2gobasepath)/lib/x2go`
 
 $X2GO_LIB_PATH/x2gosyslog &quot;$0&quot; &quot;info&quot; &quot;$(basename $0) called with options: $@&quot;
 
-X2GO_AGENT_PID=`$X2GO_LIB_PATH/x2gogetagent $SESSION_NAME` 
+X2GO_AGENT_PID=`$X2GO_LIB_PATH/x2gogetagent &quot;$SESSION_NAME&quot;` 
 X2GO_AGENT_PID=`echo &quot;$X2GO_AGENT_PID&quot;| awk {'print $1'}`
 
 $X2GO_LIB_PATH/x2gochangestatus 'F' &quot;$SESSION_NAME&quot;  &gt; /dev/null
diff --git a/x2goserver/bin/x2goversion b/x2goserver/bin/x2goversion
index fefda30..a1fea45 100755
--- a/x2goserver/bin/x2goversion
+++ b/x2goserver/bin/x2goversion
@@ -41,7 +41,7 @@ if [ -n &quot;$1&quot; ]; then
 	fi
 else
 	cd &quot;${X2GO_VERSIONS_BASEPATH}&quot;
-	for compfile in `ls ${X2GO_VERSIONS_BASEPATH}`; do 
+	for compfile in `ls &quot;${X2GO_VERSIONS_BASEPATH}&quot;`; do 
 		X2GO_COMPONENT=&quot;$(echo $compfile | cut -d&quot;.&quot; -f2)&quot;
 		X2GO_COMPONENT_VERSION=&quot;$(get_version $compfile)&quot;
 		echo &quot;${X2GO_COMPONENT}: ${X2GO_COMPONENT_VERSION}&quot;


hooks/post-receive
-- 
x2goserver.git (X2Go Server)

This is an automated email from the git hooks/post-receive script. It was
generated because a ref change was pushed to the repository containing
the project &quot;x2goserver.git&quot; (X2Go Server).

</PRE>











<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="016249.html">[X2Go-Commits] x2goserver.git - build-baikal (branch) updated:	3.0.99.10-27-g305f7e8
</A></li>
	<LI>Next message: <A HREF="016256.html">[X2Go-Commits] x2goserver.git - build-baikal (branch) updated:	3.0.99.10-22-g9da2c4d
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16250">[ date ]</a>
              <a href="thread.html#16250">[ thread ]</a>
              <a href="subject.html#16250">[ subject ]</a>
              <a href="author.html#16250">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/x2go-commits">More information about the X2Go-commits
mailing list</a><br>
</body></html>
