<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [X2Go-Commits] x2goclient.git - master (branch) updated:	4.0.1.1-52-g31b6e2a
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/x2go-commits/2013-December/index.html" >
   <LINK REL="made" HREF="mailto:x2go-commits%40lists.berlios.de?Subject=Re%3A%20%5BX2Go-Commits%5D%20x2goclient.git%20-%20master%20%28branch%29%20updated%3A%0A%094.0.1.1-52-g31b6e2a&In-Reply-To=%3C20131210011712.8931B5DB22%40ymir%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016755.html">
   <LINK REL="Next"  HREF="016757.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[X2Go-Commits] x2goclient.git - master (branch) updated:	4.0.1.1-52-g31b6e2a</H1>
    <B>X2Go dev team</B> 
    <A HREF="mailto:x2go-commits%40lists.berlios.de?Subject=Re%3A%20%5BX2Go-Commits%5D%20x2goclient.git%20-%20master%20%28branch%29%20updated%3A%0A%094.0.1.1-52-g31b6e2a&In-Reply-To=%3C20131210011712.8931B5DB22%40ymir%3E"
       TITLE="[X2Go-Commits] x2goclient.git - master (branch) updated:	4.0.1.1-52-g31b6e2a">git-admin at x2go.org
       </A><BR>
    <I>Tue Dec 10 02:17:12 CET 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="016755.html">[X2Go-Commits] x2goserver.git - master (branch) updated:	3.1.1.3-286-g2a841f4
</A></li>
        <LI>Next message: <A HREF="016757.html">[X2Go-Commits] x2goserver.git - master (branch) updated:	3.1.1.3-288-gbb6c22d
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16756">[ date ]</a>
              <a href="thread.html#16756">[ thread ]</a>
              <a href="subject.html#16756">[ subject ]</a>
              <a href="author.html#16756">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>The branch, master has been updated
       via  31b6e2a55ac9328c96ae4f61f18a1a3f4dbf9b6b (commit)
      from  84b2ded49fc781a684fb394a96ea95c73eff8b08 (commit)

Those revisions listed above that are new to this repository have
not appeared on any other notification email; so we list those
revisions in full, below.

- Log -----------------------------------------------------------------
commit 31b6e2a55ac9328c96ae4f61f18a1a3f4dbf9b6b
Author: Mike DePaulo &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">mikedep333 at gmail.com</A>&gt;
Date:   Mon Dec 9 20:15:59 2013 -0500

    win32: Add uninstall information to Add/Remove Programs. (Fixes: #230).

-----------------------------------------------------------------------

Summary of changes:
 debian/changelog    |    4 ++++
 nsis/x2goclient.nsi |   34 +++++++++++++++++++++++++++++++---
 2 files changed, 35 insertions(+), 3 deletions(-)
 mode change 100644 =&gt; 100755 nsis/x2goclient.nsi

The diff of changes is:
diff --git a/debian/changelog b/debian/changelog
index df069a3..1900abf 100644
--- a/debian/changelog
+++ b/debian/changelog
@@ -58,6 +58,10 @@ x2goclient (4.0.1.2-0x2go2) UNRELEASED; urgency=low
     - Handle SSH host key changes more elegantly and allow user interaction
       if such a host key change occurs. (Fixes: #241).
 
+  [ Michael DePaulo ]
+  * New upstream version (4.0.1.2):
+    - win32: Add uninstall information to Add/Remove Programs. (Fixes: #230).
+
  -- Mike Gabriel &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">mike.gabriel at das-netzwerkteam.de</A>&gt;  Wed, 11 Sep 2013 12:17:43 +0200
 
 x2goclient (4.0.1.1-0~x2go1) unstable; urgency=low
diff --git a/nsis/x2goclient.nsi b/nsis/x2goclient.nsi
old mode 100644
new mode 100755
index 74db5b1..35571c2
--- a/nsis/x2goclient.nsi
+++ b/nsis/x2goclient.nsi
@@ -10,7 +10,7 @@
 ;General
 
   RequestExecutionLevel admin
- !define VERSION &quot;4.0.1.2-pre01&quot;
+ !define VERSION &quot;4.0.1.2-pre02&quot;
   Name &quot;x2goclient-${VERSION}&quot;
   Caption &quot;x2goclient-${VERSION}&quot;
   OutFile &quot;x2goclient-${VERSION}-setup.exe&quot;
@@ -50,6 +50,12 @@ SectionEnd
 
   Var STARTMENU_FOLDER
   Var MUI_TEMP
+    
+  !define  UNINSTALL_REGKEY &quot;Software\Microsoft\Windows\CurrentVersion\Uninstall\x2goclient&quot;
+  !define  UNINSTALL_DISPLAYNAME &quot;X2Go Client for Windows&quot;
+  !define  UNINSTALL_PUBLISHER &quot;X2Go Project&quot; 
+  !define  UNINSTALL_DISPLAYVERSION ${VERSION}
+  !define  UNINSTALL_URL &quot;<A HREF="http://www.x2go.org">http://www.x2go.org</A>&quot;
 
 ;--------------------------------
 ;Pages
@@ -109,8 +115,29 @@ Section &quot;x2goclient&quot; Section1
   CreateShortCut &quot;$DESKTOP\X2goClient.lnk&quot; &quot;$INSTDIR\x2goclient.exe&quot;
   
   !insertmacro MUI_STARTMENU_WRITE_END
+  
+  ;Add uninstall information to Add/Remove Programs
+  ;<A HREF="http://nsis.sourceforge.net/Add_uninstall_information_to_Add/Remove_Programs">http://nsis.sourceforge.net/Add_uninstall_information_to_Add/Remove_Programs</A>
+  WriteRegStr HKLM ${UNINSTALL_REGKEY} &quot;InstallLocation&quot; 	&quot;$INSTDIR&quot;
+  WriteRegStr HKLM ${UNINSTALL_REGKEY} &quot;UninstallString&quot; 	&quot;$\&quot;$INSTDIR\Uninstall.exe$\&quot;&quot;
+  WriteRegStr HKLM ${UNINSTALL_REGKEY} &quot;DisplayIcon&quot; 		&quot;$INSTDIR\x2goclient.exe&quot;
+  WriteRegStr HKLM ${UNINSTALL_REGKEY} &quot;DisplayName&quot; 		&quot;${UNINSTALL_DISPLAYNAME}&quot;
+  WriteRegStr HKLM ${UNINSTALL_REGKEY} &quot;Publisher&quot; 			&quot;${UNINSTALL_PUBLISHER}&quot;
+  WriteRegStr HKLM ${UNINSTALL_REGKEY} &quot;DisplayVersion&quot; 	&quot;${UNINSTALL_DISPLAYVERSION}&quot;
+  WriteRegStr HKLM ${UNINSTALL_REGKEY} &quot;HelpLink&quot; 			&quot;${UNINSTALL_URL}&quot;
+  WriteRegStr HKLM ${UNINSTALL_REGKEY} &quot;URLInfoAbout&quot; 		&quot;${UNINSTALL_URL}&quot;
+  WriteRegStr HKLM ${UNINSTALL_REGKEY} &quot;URLUpdateInfo&quot; 		&quot;${UNINSTALL_URL}&quot;
+  WriteRegDWORD HKLM ${UNINSTALL_REGKEY} &quot;NoModify&quot; 		1
+  WriteRegDWORD HKLM ${UNINSTALL_REGKEY} &quot;NoRepair&quot; 		1
+  
 SectionEnd
 
+Section EstimatedSize
+  ${GetSize} &quot;$INSTDIR&quot; &quot;/S=0K&quot; $0 $1 $2
+  IntFmt $0 &quot;0x%08X&quot; $0
+  WriteRegDWORD HKLM ${UNINSTALL_REGKEY} &quot;EstimatedSize&quot; &quot;$0&quot;
+SectionEnd
+  
 ;-------------------------------------------
 ;Descriptions
 
@@ -152,8 +179,9 @@ Section &quot;Uninstall&quot;
   startMenuDeleteLoopDone:
 
   RMDir /r &quot;$INSTDIR&quot;
-
-  DeleteRegKey  HKLM &quot;Software\x2goclient&quot;
+  
+  DeleteRegKey HKLM &quot;Software\x2goclient&quot;
+  DeleteRegKey HKLM &quot;${UNINSTALL_REGKEY}&quot;
 
 SectionEnd
 


hooks/post-receive
-- 
x2goclient.git (X2Go Client)

This is an automated email from the git hooks/post-receive script. It was
generated because a ref change was pushed to the repository containing
the project &quot;x2goclient.git&quot; (X2Go Client).

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="016755.html">[X2Go-Commits] x2goserver.git - master (branch) updated:	3.1.1.3-286-g2a841f4
</A></li>
	<LI>Next message: <A HREF="016757.html">[X2Go-Commits] x2goserver.git - master (branch) updated:	3.1.1.3-288-gbb6c22d
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16756">[ date ]</a>
              <a href="thread.html#16756">[ thread ]</a>
              <a href="subject.html#16756">[ subject ]</a>
              <a href="author.html#16756">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/x2go-commits">More information about the X2Go-commits
mailing list</a><br>
</body></html>
