<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [X2go-Commits] x2goadmincenter.git - master (branch) updated:	200237d292c6ba89aa1de1fa0c4da35c96febf63
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/x2go-commits/2013-January/index.html" >
   <LINK REL="made" HREF="mailto:x2go-commits%40lists.berlios.de?Subject=Re%3A%20%5BX2go-Commits%5D%20x2goadmincenter.git%20-%20master%20%28branch%29%20updated%3A%0A%09200237d292c6ba89aa1de1fa0c4da35c96febf63&In-Reply-To=%3C20130124153951.8E0D15DB1A%40ymir%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004067.html">
   <LINK REL="Next"  HREF="004069.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[X2go-Commits] x2goadmincenter.git - master (branch) updated:	200237d292c6ba89aa1de1fa0c4da35c96febf63</H1>
    <B>X2Go dev team</B> 
    <A HREF="mailto:x2go-commits%40lists.berlios.de?Subject=Re%3A%20%5BX2go-Commits%5D%20x2goadmincenter.git%20-%20master%20%28branch%29%20updated%3A%0A%09200237d292c6ba89aa1de1fa0c4da35c96febf63&In-Reply-To=%3C20130124153951.8E0D15DB1A%40ymir%3E"
       TITLE="[X2go-Commits] x2goadmincenter.git - master (branch) updated:	200237d292c6ba89aa1de1fa0c4da35c96febf63">git-admin at x2go.org
       </A><BR>
    <I>Thu Jan 24 16:39:51 CET 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="004067.html">[X2go-Commits] pyhoca-gui.git - master (branch) updated:	0.2.1.1-62-g3f31b3f
</A></li>
        <LI>Next message: <A HREF="004069.html">[X2go-Commits] x2gobroker.git - master (branch) updated:	c1cce02e184e39e4a306a15f7b47810a0b4b6c8f
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4068">[ date ]</a>
              <a href="thread.html#4068">[ thread ]</a>
              <a href="subject.html#4068">[ subject ]</a>
              <a href="author.html#4068">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>The branch, master has been updated
       via  200237d292c6ba89aa1de1fa0c4da35c96febf63 (commit)
      from  dee1323652c6922b5154871b2fe83f7fa99a7f97 (commit)

Those revisions listed above that are new to this repository have
not appeared on any other notification email; so we list those
revisions in full, below.

- Log -----------------------------------------------------------------
commit 200237d292c6ba89aa1de1fa0c4da35c96febf63
Author: Oleksandr Shneyder &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">o.shneyder at phoca-gmbh.de</A>&gt;
Date:   Thu Jan 24 16:34:16 2013 +0100

    add session administration module

-----------------------------------------------------------------------

Summary of changes:
 debian/changelog                                   |    1 +
 .../modules/x2gosessionadmingui/png/node.png       |  Bin 0 -&gt; 2408 bytes
 .../modules/x2gosessionadmingui/png/server.png     |  Bin 0 -&gt; 6602 bytes
 .../x2gosessionadmingui/png/x2gosession.png        |  Bin 0 -&gt; 1882 bytes
 .../modules/x2gosessionadmingui/sessionadmin.rcc   |    8 +
 .../x2gosessionadmingui.pro}                       |   16 +-
 .../x2gosessionadmingui/x2gosessionadmingui_de.ts  |  155 ++++++++++
 .../x2gosessionadmingui/x2gosessionadminui.ui      |  186 ++++++++++++
 .../x2gosessionadmingui/x2gosessionadminwindow.cpp |  321 ++++++++++++++++++++
 .../x2gosessionadminwindow.h}                      |   79 ++---
 x2goadminserver/cgi-bin/x2gorpcserver.cgi          |    3 +
 x2goadminserver/etc/x2goadminserver.conf           |   12 +-
 x2goadminserver/lib/x2goadminserver.pm             |   19 +-
 .../lib/x2goadminserver_backend_ldap.pm            |   74 ++++-
 14 files changed, 809 insertions(+), 65 deletions(-)
 create mode 100644 x2goadmincenter/modules/x2gosessionadmingui/png/node.png
 create mode 100644 x2goadmincenter/modules/x2gosessionadmingui/png/server.png
 create mode 100644 x2goadmincenter/modules/x2gosessionadmingui/png/x2gosession.png
 create mode 100644 x2goadmincenter/modules/x2gosessionadmingui/sessionadmin.rcc
 copy x2goadmincenter/modules/{x2gouseradmingui/x2gouseradmingui.pro =&gt; x2gosessionadmingui/x2gosessionadmingui.pro} (63%)
 create mode 100644 x2goadmincenter/modules/x2gosessionadmingui/x2gosessionadmingui_de.ts
 create mode 100644 x2goadmincenter/modules/x2gosessionadmingui/x2gosessionadminui.ui
 create mode 100644 x2goadmincenter/modules/x2gosessionadmingui/x2gosessionadminwindow.cpp
 copy x2goadmincenter/modules/{x2gogroupadmingui/x2gogroupadminwindow.h =&gt; x2gosessionadmingui/x2gosessionadminwindow.h} (54%)

The diff of changes is:
diff --git a/debian/changelog b/debian/changelog
index 2925226..ec55419 100644
--- a/debian/changelog
+++ b/debian/changelog
@@ -13,5 +13,6 @@ x2goadmincenter (0.0.0.1-0~x2go1) UNRELEASED; urgency=low
     ldap backend for x2goadminserver
   * fixed setting password by user creation
   * execute /etc/x2go/adduser after user creation (if file executable)
+  * add session administration module
 
  -- Mike Gabriel &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">mike.gabriel at das-netzwerkteam.de</A>&gt;  Wed, 21 Sep 2011 21:12:56 +0200
diff --git a/x2goadmincenter/modules/x2gosessionadmingui/png/node.png b/x2goadmincenter/modules/x2gosessionadmingui/png/node.png
new file mode 100644
index 0000000..0d65365
Binary files /dev/null and b/x2goadmincenter/modules/x2gosessionadmingui/png/node.png differ
diff --git a/x2goadmincenter/modules/x2gosessionadmingui/png/server.png b/x2goadmincenter/modules/x2gosessionadmingui/png/server.png
new file mode 100644
index 0000000..ee80334
Binary files /dev/null and b/x2goadmincenter/modules/x2gosessionadmingui/png/server.png differ
diff --git a/x2goadmincenter/modules/x2gosessionadmingui/png/x2gosession.png b/x2goadmincenter/modules/x2gosessionadmingui/png/x2gosession.png
new file mode 100644
index 0000000..0ec90b2
Binary files /dev/null and b/x2goadmincenter/modules/x2gosessionadmingui/png/x2gosession.png differ
diff --git a/x2goadmincenter/modules/x2gosessionadmingui/sessionadmin.rcc b/x2goadmincenter/modules/x2gosessionadmingui/sessionadmin.rcc
new file mode 100644
index 0000000..0be321b
--- /dev/null
+++ b/x2goadmincenter/modules/x2gosessionadmingui/sessionadmin.rcc
@@ -0,0 +1,8 @@
+&lt;RCC&gt;
+   &lt;qresource&gt;
+       &lt;file&gt;png/node.png&lt;/file&gt;
+       &lt;file&gt;png/server.png&lt;/file&gt;
+       &lt;file&gt;png/x2gosession.png&lt;/file&gt;
+       &lt;file&gt;qt_de.qm&lt;/file&gt;
+   &lt;/qresource&gt;
+&lt;/RCC&gt;
diff --git a/x2goadmincenter/modules/x2gouseradmingui/x2gouseradmingui.pro b/x2goadmincenter/modules/x2gosessionadmingui/x2gosessionadmingui.pro
similarity index 63%
copy from x2goadmincenter/modules/x2gouseradmingui/x2gouseradmingui.pro
copy to x2goadmincenter/modules/x2gosessionadmingui/x2gosessionadmingui.pro
index b766b09..6447bfa 100644
--- a/x2goadmincenter/modules/x2gouseradmingui/x2gouseradmingui.pro
+++ b/x2goadmincenter/modules/x2gosessionadmingui/x2gosessionadmingui.pro
@@ -2,19 +2,23 @@
 # Automatically generated by qmake (2.01a) Mi. Feb 2 11:39:02 2011
 ######################################################################
 
-TRANSLATIONS += x2gouseradmingui_de.ts 
-
 TEMPLATE = lib
 TARGET = 
 DEPENDPATH += .
 INCLUDEPATH += .
 INCLUDEPATH += ../..
-RESOURCES += resources.rcc
+RESOURCES += sessionadmin.rcc
 CONFIG += plugin
 DESTDIR= ../../plugins/
 include(../../maia/maia.pri)
+TRANSLATIONS += x2gosessionadmingui_de.ts 
+
 
 # Input
-HEADERS += x2gouseradminwindow.h
-FORMS += x2gouseradminui.ui
-SOURCES += x2gouseradminwindow.cpp
+HEADERS += x2gosessionadminwindow.h
+FORMS += x2gosessionadminui.ui
+SOURCES += x2gosessionadminwindow.cpp
+
+win32-* {
+CONFIG += static
+}
diff --git a/x2goadmincenter/modules/x2gosessionadmingui/x2gosessionadmingui_de.ts b/x2goadmincenter/modules/x2gosessionadmingui/x2gosessionadmingui_de.ts
new file mode 100644
index 0000000..c0b84a5
--- /dev/null
+++ b/x2goadmincenter/modules/x2gosessionadmingui/x2gosessionadmingui_de.ts
@@ -0,0 +1,155 @@
+&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
+&lt;!DOCTYPE TS&gt;
+&lt;TS version=&quot;2.0&quot; language=&quot;de_DE&quot;&gt;
+&lt;context&gt;
+    &lt;name&gt;MaiaObject&lt;/name&gt;
+    &lt;message&gt;
+        &lt;location filename=&quot;../../maia/maiaObject.cpp&quot; line=&quot;287&quot;/&gt;
+        &lt;source&gt;parse error: invalid xml-rpc. not conforming to spec.&lt;/source&gt;
+        &lt;translation type=&quot;unfinished&quot;&gt;&lt;/translation&gt;
+    &lt;/message&gt;
+&lt;/context&gt;
+&lt;context&gt;
+    &lt;name&gt;X2GoSessionAdminUI&lt;/name&gt;
+    &lt;message&gt;
+        &lt;location filename=&quot;x2gosessionadminui.ui&quot; line=&quot;14&quot;/&gt;
+        &lt;source&gt;Form&lt;/source&gt;
+        &lt;translation&gt;Form&lt;/translation&gt;
+    &lt;/message&gt;
+    &lt;message&gt;
+        &lt;location filename=&quot;x2gosessionadminui.ui&quot; line=&quot;51&quot;/&gt;
+        &lt;source&gt;User&lt;/source&gt;
+        &lt;translation&gt;Benutzer&lt;/translation&gt;
+    &lt;/message&gt;
+    &lt;message&gt;
+        &lt;location filename=&quot;x2gosessionadminui.ui&quot; line=&quot;56&quot;/&gt;
+        &lt;source&gt;State&lt;/source&gt;
+        &lt;translation&gt;Status&lt;/translation&gt;
+    &lt;/message&gt;
+    &lt;message&gt;
+        &lt;location filename=&quot;x2gosessionadminui.ui&quot; line=&quot;61&quot;/&gt;
+        &lt;source&gt;Server&lt;/source&gt;
+        &lt;translation&gt;Server&lt;/translation&gt;
+    &lt;/message&gt;
+    &lt;message&gt;
+        &lt;location filename=&quot;x2gosessionadminui.ui&quot; line=&quot;66&quot;/&gt;
+        &lt;source&gt;Start time&lt;/source&gt;
+        &lt;translation&gt;Gestartet&lt;/translation&gt;
+    &lt;/message&gt;
+    &lt;message&gt;
+        &lt;location filename=&quot;x2gosessionadminui.ui&quot; line=&quot;71&quot;/&gt;
+        &lt;source&gt;Display&lt;/source&gt;
+        &lt;translation&gt;Display&lt;/translation&gt;
+    &lt;/message&gt;
+    &lt;message&gt;
+        &lt;location filename=&quot;x2gosessionadminui.ui&quot; line=&quot;76&quot;/&gt;
+        &lt;source&gt;Client IP&lt;/source&gt;
+        &lt;translation&gt;Client IP&lt;/translation&gt;
+    &lt;/message&gt;
+    &lt;message&gt;
+        &lt;location filename=&quot;x2gosessionadminui.ui&quot; line=&quot;81&quot;/&gt;
+        &lt;source&gt;Interrupted at&lt;/source&gt;
+        &lt;translation&gt;Unterbrochen&lt;/translation&gt;
+    &lt;/message&gt;
+    &lt;message&gt;
+        &lt;location filename=&quot;x2gosessionadminui.ui&quot; line=&quot;86&quot;/&gt;
+        &lt;source&gt;ID&lt;/source&gt;
+        &lt;translation&gt;ID&lt;/translation&gt;
+    &lt;/message&gt;
+    &lt;message&gt;
+        &lt;location filename=&quot;x2gosessionadminui.ui&quot; line=&quot;96&quot;/&gt;
+        &lt;source&gt;Suspend&lt;/source&gt;
+        &lt;translation&gt;Unetrbrechen&lt;/translation&gt;
+    &lt;/message&gt;
+    &lt;message&gt;
+        &lt;location filename=&quot;x2gosessionadminui.ui&quot; line=&quot;103&quot;/&gt;
+        &lt;source&gt;Terminate&lt;/source&gt;
+        &lt;translation&gt;Beenden&lt;/translation&gt;
+    &lt;/message&gt;
+&lt;/context&gt;
+&lt;context&gt;
+    &lt;name&gt;X2GoSessionAdminWindow&lt;/name&gt;
+    &lt;message&gt;
+        &lt;location filename=&quot;x2gosessionadminwindow.cpp&quot; line=&quot;63&quot;/&gt;
+        &lt;source&gt;X2Go session administration&lt;/source&gt;
+        &lt;translation&gt;&lt;/translation&gt;
+    &lt;/message&gt;
+    &lt;message&gt;
+        &lt;location filename=&quot;x2gosessionadminwindow.cpp&quot; line=&quot;64&quot;/&gt;
+        &lt;source&gt;Use this module to administrate X2Go sessions&lt;/source&gt;
+        &lt;translation&gt;&lt;/translation&gt;
+    &lt;/message&gt;
+    &lt;message&gt;
+        &lt;location filename=&quot;x2gosessionadminwindow.cpp&quot; line=&quot;73&quot;/&gt;
+        &lt;source&gt;Developers:&lt;/source&gt;
+        &lt;translation&gt;&lt;/translation&gt;
+    &lt;/message&gt;
+    &lt;message&gt;
+        &lt;location filename=&quot;x2gosessionadminwindow.cpp&quot; line=&quot;74&quot;/&gt;
+        &lt;source&gt;Translators:&lt;/source&gt;
+        &lt;translation&gt;&lt;/translation&gt;
+    &lt;/message&gt;
+    &lt;message&gt;
+        &lt;location filename=&quot;x2gosessionadminwindow.cpp&quot; line=&quot;126&quot;/&gt;
+        &lt;location filename=&quot;x2gosessionadminwindow.cpp&quot; line=&quot;140&quot;/&gt;
+        &lt;location filename=&quot;x2gosessionadminwindow.cpp&quot; line=&quot;165&quot;/&gt;
+        &lt;source&gt;Retrieving information from server, please wait...&lt;/source&gt;
+        &lt;translation&gt;&lt;/translation&gt;
+    &lt;/message&gt;
+    &lt;message&gt;
+        &lt;location filename=&quot;x2gosessionadminwindow.cpp&quot; line=&quot;180&quot;/&gt;
+        &lt;location filename=&quot;x2gosessionadminwindow.cpp&quot; line=&quot;217&quot;/&gt;
+        &lt;source&gt;Running&lt;/source&gt;
+        &lt;translation&gt;&lt;/translation&gt;
+    &lt;/message&gt;
+    &lt;message&gt;
+        &lt;location filename=&quot;x2gosessionadminwindow.cpp&quot; line=&quot;185&quot;/&gt;
+        &lt;location filename=&quot;x2gosessionadminwindow.cpp&quot; line=&quot;215&quot;/&gt;
+        &lt;source&gt;Suspended&lt;/source&gt;
+        &lt;translation&gt;&lt;/translation&gt;
+    &lt;/message&gt;
+    &lt;message&gt;
+        &lt;location filename=&quot;x2gosessionadminwindow.cpp&quot; line=&quot;202&quot;/&gt;
+        &lt;source&gt;Ready&lt;/source&gt;
+        &lt;translation&gt;&lt;/translation&gt;
+    &lt;/message&gt;
+    &lt;message&gt;
+        &lt;location filename=&quot;x2gosessionadminwindow.cpp&quot; line=&quot;219&quot;/&gt;
+        &lt;source&gt;Finished&lt;/source&gt;
+        &lt;translation&gt;&lt;/translation&gt;
+    &lt;/message&gt;
+    &lt;message&gt;
+        &lt;location filename=&quot;x2gosessionadminwindow.cpp&quot; line=&quot;277&quot;/&gt;
+        &lt;source&gt;Connection error&lt;/source&gt;
+        &lt;translation&gt;&lt;/translation&gt;
+    &lt;/message&gt;
+    &lt;message&gt;
+        &lt;location filename=&quot;x2gosessionadminwindow.cpp&quot; line=&quot;288&quot;/&gt;
+        &lt;source&gt;Server connection failed&lt;br&gt;Error message:&lt;/source&gt;
+        &lt;translation&gt;&lt;/translation&gt;
+    &lt;/message&gt;
+    &lt;message&gt;
+        &lt;location filename=&quot;x2gosessionadminwindow.cpp&quot; line=&quot;289&quot;/&gt;
+        &lt;location filename=&quot;x2gosessionadminwindow.cpp&quot; line=&quot;297&quot;/&gt;
+        &lt;location filename=&quot;x2gosessionadminwindow.cpp&quot; line=&quot;305&quot;/&gt;
+        &lt;location filename=&quot;x2gosessionadminwindow.cpp&quot; line=&quot;313&quot;/&gt;
+        &lt;source&gt;Server error&lt;/source&gt;
+        &lt;translation&gt;&lt;/translation&gt;
+    &lt;/message&gt;
+    &lt;message&gt;
+        &lt;location filename=&quot;x2gosessionadminwindow.cpp&quot; line=&quot;296&quot;/&gt;
+        &lt;source&gt;Login failed&lt;/source&gt;
+        &lt;translation&gt;&lt;/translation&gt;
+    &lt;/message&gt;
+    &lt;message&gt;
+        &lt;location filename=&quot;x2gosessionadminwindow.cpp&quot; line=&quot;304&quot;/&gt;
+        &lt;source&gt;Execution of command failed&lt;br&gt;Error message:&lt;/source&gt;
+        &lt;translation&gt;&lt;/translation&gt;
+    &lt;/message&gt;
+    &lt;message&gt;
+        &lt;location filename=&quot;x2gosessionadminwindow.cpp&quot; line=&quot;312&quot;/&gt;
+        &lt;source&gt;Database error&lt;br&gt;Error message:&lt;/source&gt;
+        &lt;translation&gt;&lt;/translation&gt;
+    &lt;/message&gt;
+&lt;/context&gt;
+&lt;/TS&gt;
diff --git a/x2goadmincenter/modules/x2gosessionadmingui/x2gosessionadminui.ui b/x2goadmincenter/modules/x2gosessionadmingui/x2gosessionadminui.ui
new file mode 100644
index 0000000..5239dd3
--- /dev/null
+++ b/x2goadmincenter/modules/x2gosessionadmingui/x2gosessionadminui.ui
@@ -0,0 +1,186 @@
+&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
+&lt;ui version=&quot;4.0&quot;&gt;
+ &lt;class&gt;X2GoSessionAdminUI&lt;/class&gt;
+ &lt;widget class=&quot;QWidget&quot; name=&quot;X2GoSessionAdminUI&quot;&gt;
+  &lt;property name=&quot;geometry&quot;&gt;
+   &lt;rect&gt;
+    &lt;x&gt;0&lt;/x&gt;
+    &lt;y&gt;0&lt;/y&gt;
+    &lt;width&gt;931&lt;/width&gt;
+    &lt;height&gt;545&lt;/height&gt;
+   &lt;/rect&gt;
+  &lt;/property&gt;
+  &lt;property name=&quot;windowTitle&quot;&gt;
+   &lt;string&gt;Form&lt;/string&gt;
+  &lt;/property&gt;
+  &lt;layout class=&quot;QVBoxLayout&quot; name=&quot;verticalLayout&quot;&gt;
+   &lt;item&gt;
+    &lt;widget class=&quot;QTreeWidget&quot; name=&quot;treeServers&quot;&gt;
+     &lt;property name=&quot;sizePolicy&quot;&gt;
+      &lt;sizepolicy hsizetype=&quot;Expanding&quot; vsizetype=&quot;MinimumExpanding&quot;&gt;
+       &lt;horstretch&gt;0&lt;/horstretch&gt;
+       &lt;verstretch&gt;0&lt;/verstretch&gt;
+      &lt;/sizepolicy&gt;
+     &lt;/property&gt;
+     &lt;property name=&quot;contextMenuPolicy&quot;&gt;
+      &lt;enum&gt;Qt::CustomContextMenu&lt;/enum&gt;
+     &lt;/property&gt;
+     &lt;property name=&quot;alternatingRowColors&quot;&gt;
+      &lt;bool&gt;true&lt;/bool&gt;
+     &lt;/property&gt;
+     &lt;property name=&quot;selectionMode&quot;&gt;
+      &lt;enum&gt;QAbstractItemView::SingleSelection&lt;/enum&gt;
+     &lt;/property&gt;
+     &lt;property name=&quot;rootIsDecorated&quot;&gt;
+      &lt;bool&gt;false&lt;/bool&gt;
+     &lt;/property&gt;
+     &lt;property name=&quot;uniformRowHeights&quot;&gt;
+      &lt;bool&gt;true&lt;/bool&gt;
+     &lt;/property&gt;
+     &lt;property name=&quot;itemsExpandable&quot;&gt;
+      &lt;bool&gt;false&lt;/bool&gt;
+     &lt;/property&gt;
+     &lt;property name=&quot;sortingEnabled&quot;&gt;
+      &lt;bool&gt;true&lt;/bool&gt;
+     &lt;/property&gt;
+     &lt;property name=&quot;allColumnsShowFocus&quot;&gt;
+      &lt;bool&gt;true&lt;/bool&gt;
+     &lt;/property&gt;
+     &lt;column&gt;
+      &lt;property name=&quot;text&quot;&gt;
+       &lt;string&gt;User&lt;/string&gt;
+      &lt;/property&gt;
+     &lt;/column&gt;
+     &lt;column&gt;
+      &lt;property name=&quot;text&quot;&gt;
+       &lt;string&gt;State&lt;/string&gt;
+      &lt;/property&gt;
+     &lt;/column&gt;
+     &lt;column&gt;
+      &lt;property name=&quot;text&quot;&gt;
+       &lt;string&gt;Server&lt;/string&gt;
+      &lt;/property&gt;
+     &lt;/column&gt;
+     &lt;column&gt;
+      &lt;property name=&quot;text&quot;&gt;
+       &lt;string&gt;Start time&lt;/string&gt;
+      &lt;/property&gt;
+     &lt;/column&gt;
+     &lt;column&gt;
+      &lt;property name=&quot;text&quot;&gt;
+       &lt;string&gt;Display&lt;/string&gt;
+      &lt;/property&gt;
+     &lt;/column&gt;
+     &lt;column&gt;
+      &lt;property name=&quot;text&quot;&gt;
+       &lt;string&gt;Client IP&lt;/string&gt;
+      &lt;/property&gt;
+     &lt;/column&gt;
+     &lt;column&gt;
+      &lt;property name=&quot;text&quot;&gt;
+       &lt;string&gt;Interrupted at&lt;/string&gt;
+      &lt;/property&gt;
+     &lt;/column&gt;
+     &lt;column&gt;
+      &lt;property name=&quot;text&quot;&gt;
+       &lt;string&gt;ID&lt;/string&gt;
+      &lt;/property&gt;
+     &lt;/column&gt;
+    &lt;/widget&gt;
+   &lt;/item&gt;
+   &lt;item&gt;
+    &lt;layout class=&quot;QHBoxLayout&quot; name=&quot;horizontalLayout&quot;&gt;
+     &lt;item&gt;
+      &lt;widget class=&quot;QPushButton&quot; name=&quot;pbSuspend&quot;&gt;
+       &lt;property name=&quot;text&quot;&gt;
+        &lt;string&gt;Suspend&lt;/string&gt;
+       &lt;/property&gt;
+      &lt;/widget&gt;
+     &lt;/item&gt;
+     &lt;item&gt;
+      &lt;widget class=&quot;QPushButton&quot; name=&quot;pbTerminate&quot;&gt;
+       &lt;property name=&quot;text&quot;&gt;
+        &lt;string&gt;Terminate&lt;/string&gt;
+       &lt;/property&gt;
+      &lt;/widget&gt;
+     &lt;/item&gt;
+     &lt;item&gt;
+      &lt;spacer name=&quot;horizontalSpacer&quot;&gt;
+       &lt;property name=&quot;orientation&quot;&gt;
+        &lt;enum&gt;Qt::Horizontal&lt;/enum&gt;
+       &lt;/property&gt;
+       &lt;property name=&quot;sizeHint&quot; stdset=&quot;0&quot;&gt;
+        &lt;size&gt;
+         &lt;width&gt;40&lt;/width&gt;
+         &lt;height&gt;20&lt;/height&gt;
+        &lt;/size&gt;
+       &lt;/property&gt;
+      &lt;/spacer&gt;
+     &lt;/item&gt;
+    &lt;/layout&gt;
+   &lt;/item&gt;
+  &lt;/layout&gt;
+ &lt;/widget&gt;
+ &lt;resources/&gt;
+ &lt;connections&gt;
+  &lt;connection&gt;
+   &lt;sender&gt;treeServers&lt;/sender&gt;
+   &lt;signal&gt;itemActivated(QTreeWidgetItem*,int)&lt;/signal&gt;
+   &lt;receiver&gt;X2GoSessionAdminUI&lt;/receiver&gt;
+   &lt;slot&gt;slotSelectSession(QTreeWidgetItem*,int)&lt;/slot&gt;
+   &lt;hints&gt;
+    &lt;hint type=&quot;sourcelabel&quot;&gt;
+     &lt;x&gt;652&lt;/x&gt;
+     &lt;y&gt;156&lt;/y&gt;
+    &lt;/hint&gt;
+    &lt;hint type=&quot;destinationlabel&quot;&gt;
+     &lt;x&gt;927&lt;/x&gt;
+     &lt;y&gt;523&lt;/y&gt;
+    &lt;/hint&gt;
+   &lt;/hints&gt;
+  &lt;/connection&gt;
+  &lt;connection&gt;
+   &lt;sender&gt;pbSuspend&lt;/sender&gt;
+   &lt;signal&gt;clicked()&lt;/signal&gt;
+   &lt;receiver&gt;X2GoSessionAdminUI&lt;/receiver&gt;
+   &lt;slot&gt;slotSuspend()&lt;/slot&gt;
+   &lt;hints&gt;
+    &lt;hint type=&quot;sourcelabel&quot;&gt;
+     &lt;x&gt;58&lt;/x&gt;
+     &lt;y&gt;523&lt;/y&gt;
+    &lt;/hint&gt;
+    &lt;hint type=&quot;destinationlabel&quot;&gt;
+     &lt;x&gt;2&lt;/x&gt;
+     &lt;y&gt;458&lt;/y&gt;
+    &lt;/hint&gt;
+   &lt;/hints&gt;
+  &lt;/connection&gt;
+  &lt;connection&gt;
+   &lt;sender&gt;pbTerminate&lt;/sender&gt;
+   &lt;signal&gt;clicked()&lt;/signal&gt;
+   &lt;receiver&gt;X2GoSessionAdminUI&lt;/receiver&gt;
+   &lt;slot&gt;slotTerminate()&lt;/slot&gt;
+   &lt;hints&gt;
+    &lt;hint type=&quot;sourcelabel&quot;&gt;
+     &lt;x&gt;165&lt;/x&gt;
+     &lt;y&gt;520&lt;/y&gt;
+    &lt;/hint&gt;
+    &lt;hint type=&quot;destinationlabel&quot;&gt;
+     &lt;x&gt;0&lt;/x&gt;
+     &lt;y&gt;370&lt;/y&gt;
+    &lt;/hint&gt;
+   &lt;/hints&gt;
+  &lt;/connection&gt;
+ &lt;/connections&gt;
+ &lt;slots&gt;
+  &lt;slot&gt;slotApply()&lt;/slot&gt;
+  &lt;slot&gt;slotDeleteGroups()&lt;/slot&gt;
+  &lt;slot&gt;slotItemChanged(QTreeWidgetItem*,int)&lt;/slot&gt;
+  &lt;slot&gt;slotTreeRequestMenu(QPoint)&lt;/slot&gt;
+  &lt;slot&gt;slotServerChanged()&lt;/slot&gt;
+  &lt;slot&gt;slotDiscard()&lt;/slot&gt;
+  &lt;slot&gt;slotSelectSession(QTreeWidgetItem*,int)&lt;/slot&gt;
+  &lt;slot&gt;slotSuspend()&lt;/slot&gt;
+  &lt;slot&gt;slotTerminate()&lt;/slot&gt;
+ &lt;/slots&gt;
+&lt;/ui&gt;
diff --git a/x2goadmincenter/modules/x2gosessionadmingui/x2gosessionadminwindow.cpp b/x2goadmincenter/modules/x2gosessionadmingui/x2gosessionadminwindow.cpp
new file mode 100644
index 0000000..5a9821a
--- /dev/null
+++ b/x2goadmincenter/modules/x2gosessionadmingui/x2gosessionadminwindow.cpp
@@ -0,0 +1,321 @@
+/*
+    &lt;one line to give the program's name and a brief idea of what it does.&gt;
+    Copyright (C) 2011 Oleksandr Shneyder&lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">oleksandr.shneyder at obviously-nice.de</A>&gt;
+
+    This program is free software: you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation, either version 3 of the License, or
+    (at your option) any later version.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program.  If not, see &lt;<A HREF="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</A>&gt;.
+
+*/
+
+#include &quot;x2gosessionadminwindow.h&quot;
+#include &lt;QTimer&gt;
+#include &lt;QPixmap&gt;
+#include &lt;QInputDialog&gt;
+#include &lt;QDebug&gt;
+#include &lt;QMessageBox&gt;
+#include &lt;centerinterface.h&gt;
+#include &lt;QMenu&gt;
+#include &lt;QHeaderView&gt;
+
+void X2GoSessionAdminWindow::installTranslator()
+{
+    QTranslator* trans=new QTranslator();
+    QString filename=QString ( &quot;:/x2gosessionadmingui_%1&quot; ).arg (
+                         QLocale::system().name() );
+    filename=filename.toLower();
+    if ( !trans-&gt;load ( filename ) )
+    {
+        qDebug ( &quot;Can't load translator (%s) !\n&quot;,
+                 filename.toLocal8Bit().data() );
+    }
+    else
+    {
+        QCoreApplication::installTranslator ( trans );
+    }
+
+
+    QTranslator* qtTranslator=new QTranslator;
+    filename=QString ( &quot;:/qt_%1&quot; ).arg ( QLocale::system().name() );
+    if ( !qtTranslator-&gt;load ( filename ) )
+    {
+        qDebug()&lt;&lt; &quot;Can't load translator &quot;&lt;&lt;
+                filename.toLocal8Bit().data() ;
+    }
+    else
+    {
+        QCoreApplication::installTranslator ( qtTranslator );
+    }
+}
+
+X2GoSessionAdminWindow::X2GoSessionAdminWindow()
+{
+    installTranslator();
+    NAME =tr(&quot;X2Go session administration&quot;);
+    DESCRIPTION= tr(&quot;Use this module to administrate X2Go sessions&quot;);
+
+    DEVELOPERS= &quot;Oleksandr Shneyder &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">oleksandr.shneyder at obviously-nice.de</A>&gt;&lt;br&gt;&quot;
+                &quot;Heinz-Markus Graesing &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">heinz-m.graesing at obviously-nice.de</A>&gt;&quot;;
+
+    TRANSLATORS =&quot;Heinz-Markus Graesing &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">heinz-m.graesing at obviously-nice.de</A>&gt;&quot;;
+
+    ABOUT= &quot;&lt;b&gt;&quot;+NAME + &quot;-&quot; + VERSION + &quot;&lt;/b&gt;&lt;br&gt;&lt;br&gt;&quot;
+           +DESCRIPTION+&quot;&lt;br&gt;&lt;br&gt;&lt;b&gt;&quot;
+           + tr(&quot;Developers:&quot;)+&quot;&lt;/b&gt;&lt;br&gt;&quot; + DEVELOPERS+ &quot;&lt;br&gt;&lt;br&gt;&lt;b&gt;&quot;
+           + tr(&quot;Translators:&quot;)+&quot;&lt;/b&gt;&lt;br&gt;&quot;+ TRANSLATORS;
+
+
+    qDebug()&lt;&lt;&quot;session admin constructor&quot;;
+    hidden=true;
+    setupUi ( this );
+    centerInstance=0l;
+    treeServers-&gt;setAllColumnsShowFocus ( true );
+    treeServers-&gt;setAlternatingRowColors ( true );
+    treeServers-&gt;setUniformRowHeights ( true );
+    treeServers-&gt;setIconSize(QSize(32,32));
+}
+
+X2GoSessionAdminWindow::~X2GoSessionAdminWindow()
+{
+
+}
+
+void X2GoSessionAdminWindow::startPlugin()
+{
+
+    changed=false;
+    hidden=false;
+    closing=false;
+    adminMode=true;
+
+    rpc= new MaiaXmlRpcClient(QUrl(centerInstance-&gt;getUrl()),this);
+
+    QSslConfiguration config=rpc-&gt;sslConfiguration();
+    config.setProtocol(QSsl::AnyProtocol);
+    rpc-&gt;setSslConfiguration(config);
+
+    connect(rpc, SIGNAL(sslErrors(QNetworkReply*,QList&lt;QSslError&gt;)), this,
+            SLOT(slotHandleSslErrors(QNetworkReply*,QList&lt;QSslError&gt;)));
+    treeServers-&gt;setRootIsDecorated(false);
+    treeServers-&gt;setItemsExpandable(false);
+
+    pbSuspend-&gt;setEnabled(false);
+    pbTerminate-&gt;setEnabled(false);
+    treeServers-&gt;header()-&gt;setResizeMode ( QHeaderView::ResizeToContents );
+    treeServers-&gt;header()-&gt;setSortIndicator ( 1,Qt::AscendingOrder );
+    slotGetSessions();
+}
+
+void X2GoSessionAdminWindow::slotSuspend()
+{
+    servTimer.stop();
+    QTreeWidgetItem* sel = treeServers-&gt;currentItem();
+    QString server=sel-&gt;text(COL_SERVER);
+    QString id=sel-&gt;text(COL_ID);
+    QVariantList args;
+    args&lt;&lt;centerInstance-&gt;getLogin()&lt;&lt;centerInstance-&gt;getPassword()&lt;&lt;server&lt;&lt;id;
+    centerInstance-&gt;setStatus(tr(&quot;Retrieving information from server, please wait...&quot;));
+    rpc-&gt;call(&quot;x2goadmin.suspendSession&quot;,args, this, SLOT(slotSessionsList(QVariant&amp;)),
+              this, SLOT(slotRpcFault(int, const QString&amp;)));
+
+}
+
+void X2GoSessionAdminWindow::slotTerminate()
+{
+    servTimer.stop();
+    QTreeWidgetItem* sel = treeServers-&gt;currentItem();
+    QString server=sel-&gt;text(COL_SERVER);
+    QString id=sel-&gt;text(COL_ID);
+    QVariantList args;
+    args&lt;&lt;centerInstance-&gt;getLogin()&lt;&lt;centerInstance-&gt;getPassword()&lt;&lt;server&lt;&lt;id;
+    centerInstance-&gt;setStatus(tr(&quot;Retrieving information from server, please wait...&quot;));
+    rpc-&gt;call(&quot;x2goadmin.terminateSession&quot;,args, this, SLOT(slotSessionsList(QVariant&amp;)),
+              this, SLOT(slotRpcFault(int, const QString&amp;)));
+
+}
+
+void X2GoSessionAdminWindow::slotRetControl(QVariant&amp; result)
+{
+    if (hidden)
+        return;
+    QString res=result.toString();
+    qDebug()&lt;&lt;res;
+    if (!checkResult(res))
+    {
+        centerInstance-&gt;backToList();
+        return;
+    }
+}
+
+void X2GoSessionAdminWindow::slotGetSessions()
+{
+    QVariantList args;
+    args&lt;&lt;centerInstance-&gt;getLogin()&lt;&lt;centerInstance-&gt;getPassword();
+    rpc-&gt;call(&quot;x2goadmin.getSessions&quot;,args, this, SLOT(slotSessionsList(QVariant&amp;)),
+              this, SLOT(slotRpcFault(int, const QString&amp;)));
+    centerInstance-&gt;setStatus(tr(&quot;Retrieving information from server, please wait...&quot;));
+    changed=false;
+}
+
+
+void X2GoSessionAdminWindow::slotSelectSession(QTreeWidgetItem* item, int )
+{
+    pbSuspend-&gt;setEnabled(false);
+    pbTerminate-&gt;setEnabled(false);
+    if(!item)
+    {
+        selectedSession=QString::null;
+        return;
+    }
+    selectedSession=item-&gt;text(COL_ID);
+    if(item-&gt;text(COL_STATE)==tr(&quot;Running&quot;))
+    {
+        pbSuspend-&gt;setEnabled(true);
+        pbTerminate-&gt;setEnabled(true);
+    }
+    if(item-&gt;text(COL_STATE)==tr(&quot;Suspended&quot;))
+    {
+        pbTerminate-&gt;setEnabled(true);
+    }
+}
+
+
+void X2GoSessionAdminWindow::slotSessionsList(QVariant&amp; result)
+{
+    if (hidden)
+        return;
+    QString res=result.toString();
+    if (!checkResult(res))
+    {
+        centerInstance-&gt;backToList();
+        return;
+    }
+    centerInstance-&gt;setStatus(tr(&quot;Ready&quot;));
+
+    treeServers-&gt;clear();
+
+    QStringList sessions=result.toString().split(&quot;\n&quot;,QString::SkipEmptyParts);
+    QString session;
+    foreach(session, sessions)
+    {
+        QStringList details=session.split(&quot;|&quot;);
+        QTreeWidgetItem *it=new QTreeWidgetItem(treeServers);
+        it-&gt;setText(COL_USER, details[7]);
+        QString state;
+        if(details[3]==&quot;S&quot;)
+            state=tr(&quot;Suspended&quot;);
+        if(details[3]==&quot;R&quot;)
+            state=tr(&quot;Running&quot;);
+        if(details[3]==&quot;F&quot;)
+            state=tr(&quot;Finished&quot;);
+        it-&gt;setText(COL_STATE, state);
+        it-&gt;setText(COL_SERVER, details[2]);
+        QDateTime dt=QDateTime::fromString(details[4],Qt::ISODate );
+        it-&gt;setText(COL_START, dt.toString(&quot;dd.MM HH:mm&quot;));
+        it-&gt;setText(COL_ID, details[0]);
+        it-&gt;setText(COL_DISPLAY, details[1]);
+        it-&gt;setText(COL_IP, details[5]);
+        if(details[3]==&quot;S&quot;)
+        {
+            dt=QDateTime::fromString(details[6],Qt::ISODate );
+            it-&gt;setText(COL_INTERRUPTED, dt.toString(&quot;dd.MM HH:mm&quot;));
+        }
+        else
+        {
+            it-&gt;setText(COL_INTERRUPTED, &quot;&quot;);
+        }
+        if(details[0]==selectedSession)
+        {
+            it-&gt;setSelected(true);
+            treeServers-&gt;setCurrentItem(it);
+            slotSelectSession(it,0);
+        }
+    }
+
+    changed=false;
+    servTimer.singleShot(5000, this, SLOT(slotGetSessions()));
+}
+
+
+
+bool X2GoSessionAdminWindow::closePlugin()
+{
+    if (closing)
+        return false;
+    hidden=true;
+    return true;
+}
+
+
+void X2GoSessionAdminWindow::setCenterInstance(CenterInterface* obj)
+{
+    centerInstance=obj;
+}
+
+
+void X2GoSessionAdminWindow::slotHandleSslErrors(QNetworkReply* reply, const QList&lt; QSslError &gt;&amp; errors)
+{
+    if (hidden)
+        return;
+    centerInstance-&gt;handleSslErrors(reply, errors);
+}
+
+
+void X2GoSessionAdminWindow::slotRpcFault(int, const QString&amp; errMessage)
+{
+    if (hidden)
+        return;
+    QMessageBox::critical(this, tr(&quot;Connection error&quot;), errMessage);
+    centerInstance-&gt;backToList();
+}
+
+
+bool X2GoSessionAdminWindow::checkResult(const QString&amp; result)
+{
+    if (result.indexOf(&quot;SERVERDOWN&quot;)==0)
+    {
+        QString res=result;
+        res.replace(&quot;SERVERDOWN &quot;,&quot;&quot; );
+        QString errorMessage=tr(&quot;Server connection failed&lt;br&gt;Error message:&quot;)+&quot;\n&quot;+res;
+        QMessageBox::critical(this, tr(&quot;Server error&quot;), errorMessage);
+        return false;
+    }
+    if (result.indexOf(&quot;NOACCESS&quot;)==0)
+    {
+        QString res=result;
+        res.replace(&quot;NOACCESS &quot;,&quot;&quot; );
+        QString errorMessage=tr(&quot;Login failed&quot;);
+        QMessageBox::critical(this, tr(&quot;Server error&quot;), errorMessage);
+        return false;
+    }
+    if (result.indexOf(&quot;CMDERR&quot;)==0)
+    {
+        QString res=result;
+        res.replace(&quot;CMDERR &quot;,&quot;&quot; );
+        QString errorMessage=tr(&quot;Execution of command failed&lt;br&gt;Error message:&quot;)+&quot;\n&quot;+res;
+        QMessageBox::critical(this, tr(&quot;Server error&quot;), errorMessage);
+        return false;
+    }
+    if (result.indexOf(&quot;DBERR&quot;)==0)
+    {
+        QString res=result;
+        res.replace(&quot;DBERR &quot;,&quot;&quot; );
+        QString errorMessage=tr(&quot;Database error&lt;br&gt;Error message:&quot;)+&quot;\n&quot;+res;
+        QMessageBox::critical(this, tr(&quot;Server error&quot;), errorMessage);
+        return false;
+    }
+    return true;
+}
+
+
+
+Q_EXPORT_PLUGIN2(x2gosessionadmin, X2GoSessionAdminWindow)
diff --git a/x2goadmincenter/modules/x2gogroupadmingui/x2gogroupadminwindow.h b/x2goadmincenter/modules/x2gosessionadmingui/x2gosessionadminwindow.h
similarity index 54%
copy from x2goadmincenter/modules/x2gogroupadmingui/x2gogroupadminwindow.h
copy to x2goadmincenter/modules/x2gosessionadmingui/x2gosessionadminwindow.h
index 8f535ef..13c0fb5 100644
--- a/x2goadmincenter/modules/x2gogroupadmingui/x2gogroupadminwindow.h
+++ b/x2goadmincenter/modules/x2gosessionadmingui/x2gosessionadminwindow.h
@@ -17,40 +17,37 @@
 
 */
 
-#ifndef X2GOGROUPADMINWINDOW_H
-#define X2GOGROUPADMINWINDOW_H
+#ifndef X2GOSERVERADMINWINDOW_H
+#define X2GOSERVERADMINWINDOW_H
 
 #include &lt;x2goadminInterface.h&gt;
 
-#include &quot;ui_x2gogroupadminui.h&quot;
+#include &quot;ui_x2gosessionadminui.h&quot;
 #include &lt;maiaXmlRpcClient.h&gt;
 #include &lt;QLocale&gt;
 
 #define VERSION &quot;0.0.0.1&quot;
 
+#define APPICON QPixmap(&quot;:/png/x2gosession.png&quot;)
 
-#define APPICON QPixmap(&quot;:/png/x2gogroup.png&quot;)
-#define GROUPATTR TYPE+1
-
-
-struct user {
-    QString login;
-    QString fname;
-    QString lname;
-    QString uidn;
-    bool operator == (const struct user&amp; us)
+struct NodeOrServer
+{
+    QString name,ip,desc;
+    bool status;
+    QStringList nodes;
+    bool operator == (const struct NodeOrServer&amp; s)
     {
-        return (us.login==login);
+        return (s.name==name);
     }
 };
 
-class X2GoGroupAdminWindow :public QWidget, public X2goAdminPlugin, private Ui::X2GoGroupAdminUI
+class X2GoSessionAdminWindow :public QWidget, public X2goAdminPlugin, private Ui::X2GoSessionAdminUI
 {
     Q_OBJECT
     Q_INTERFACES(X2goAdminPlugin)
 public:
-    X2GoGroupAdminWindow();
-    ~X2GoGroupAdminWindow();
+    X2GoSessionAdminWindow();
+    ~X2GoSessionAdminWindow();
     QString pluginName() {
         return NAME;
     }
@@ -71,61 +68,37 @@ public:
     void startPlugin();
 
 private:
-    void getGroups();
     bool checkResult(const QString&amp; result);
-    int applyQestion();
-    bool stringIsAscii(const QString&amp; str);
-    void initGroupAttr(const QString&amp; attrString);
-    void initGroupList(const QString&amp; res);
     void installTranslator();
-    bool isAttributeUnic(int col, QString value);
-    int findFreeGid();
     CenterInterface* centerInstance;
     MaiaXmlRpcClient* rpc;
     bool changed;
     bool hidden;
     bool closing;
     bool adminMode;
-    enum {GNAME, GID, DESC, PASSWORD, MEMBERS, TYPE};
-    enum {COL_GNAME, COL_GID, COL_DESC, COL_TYPE};
-    struct grattr
-    {
-        bool supported;
-        bool editable;
-        bool unicode;
-        bool oncreate;
-        QStringList vars;
-    };
-    grattr groupAttributes[GROUPATTR];
-    struct {
-        QString name,gid,desc,type,password,newpassword;
-        QStringList users;
-        QTreeWidgetItem *item;
-        bool newGroup;
-    }currentGroup;
+    QString selectedSession;
 
 
+    enum {COL_USER, COL_STATE, COL_SERVER, COL_START, COL_DISPLAY, COL_IP, COL_INTERRUPTED, COL_ID};
+
     QString NAME;
     QString DESCRIPTION;
     QString DEVELOPERS;
     QString TRANSLATORS;
     QString ABOUT;
     
-    
+    QTimer servTimer;
+
+
 private slots:
+    void slotGetSessions();
     void slotHandleSslErrors(QNetworkReply *reply, const QList&lt;QSslError&gt; &amp;errors);
     void slotRpcFault(int, const QString&amp; errMessage);
-    void slotGroupList(QVariant&amp; var);
-    void slotApply();
-    void slotGroupSelected(QTreeWidgetItem* item,int col);
-    void slotRemoveUsers();
-    void slotAddUsers();
-    void slotGroupChanged();
-    void slotGroupModified(QVariant&amp; var);
-    void slotChangePass();
-    void slotNewGroup();
-    void slotDeleteGroups();
-    void slotGroupsRemoved(QVariant&amp; result);
+    void slotSessionsList(QVariant&amp; var);
+    void slotRetControl(QVariant&amp; var);
+    void slotSelectSession(QTreeWidgetItem* item, int);
+    void slotSuspend();
+    void slotTerminate();
 };
 
 #endif // X2GOGROUPADMINWINDOW_H
diff --git a/x2goadminserver/cgi-bin/x2gorpcserver.cgi b/x2goadminserver/cgi-bin/x2gorpcserver.cgi
index eb2bc8b..4afc4ea 100755
--- a/x2goadminserver/cgi-bin/x2gorpcserver.cgi
+++ b/x2goadminserver/cgi-bin/x2gorpcserver.cgi
@@ -27,6 +27,9 @@ use x2goadminserver;
 
 
 process_cgi_call({
+'x2goadmin.getSessions' =&gt; \&amp;x2goadminserver::x2goadmin_getSessions,
+'x2goadmin.suspendSession' =&gt; \&amp;x2goadminserver::x2goadmin_suspendSession,
+'x2goadmin.terminateSession' =&gt; \&amp;x2goadminserver::x2goadmin_terminateSession,
 'x2goadmin.getGroupsOfUser' =&gt; \&amp;x2goadminserver::x2goadmin_getGroupsOfUser,
 'x2goadmin.modifyUser' =&gt; \&amp;x2goadminserver::x2goadmin_modifyUser,
 'x2goadmin.modifyGroup' =&gt; \&amp;x2goadminserver::x2goadmin_modifyGroup,
diff --git a/x2goadminserver/etc/x2goadminserver.conf b/x2goadminserver/etc/x2goadminserver.conf
index e7723bd..ea5e01b 100644
--- a/x2goadminserver/etc/x2goadminserver.conf
+++ b/x2goadminserver/etc/x2goadminserver.conf
@@ -26,6 +26,12 @@ backend=x2goldap
 
 [x2goldap]
 url=<A HREF="ldap://localhost">ldap://localhost</A>
-basedn=&quot;o=Gymnasium Bruckmuehl,c=de&quot;
-smbgroup=S-1-5-21-820157184-2864210838-2273796612-513
-sid=S-1-5-21-820157184-2864210838-2273796612
+basedn=&quot;o=org,c=de&quot;
+smbgroup=S-1-5-21-000000000-0000000000-0000000000-513
+sid=S-1-5-21-000000000-0000000000-0000000000
+dbhost=localhost
+dbport=5432
+dbuser=x2godbadmin
+dbpass=secret
+dbname=x2go_sessions
+dbssl=prefer
diff --git a/x2goadminserver/lib/x2goadminserver.pm b/x2goadminserver/lib/x2goadminserver.pm
index ec6ce77..2662356 100644
--- a/x2goadminserver/lib/x2goadminserver.pm
+++ b/x2goadminserver/lib/x2goadminserver.pm
@@ -40,7 +40,24 @@ if($backend eq &quot;x2goldap&quot; )
 use base 'Exporter';
 our @EXPORT=('x2goadmin_getUsers','x2goadmin_getGroups', 'x2goadmin_getGroupsOfUser','x2goadmin_getGroupsWithUsers', 
              'x2goadmin_modifyUser', 'x2goadmin_addUser','x2goadmin_modifyGroup',
-             'x2goadmin_addGroup' ,'x2goadmin_removeUsers','x2goadmin_removeGroups');
+             'x2goadmin_addGroup' ,'x2goadmin_removeUsers','x2goadmin_removeGroups',
+             'x2goadmin_getSessions', 'x2goadmin_suspendSession', 'x2goadmin_terminateSession');
+
+print &quot;sessions:&quot;;
+getSessions();
+print &quot;ok&quot;;
+
+sub x2goadmin_getSessions {
+	return getSessions(@_);
+}
+
+sub x2goadmin_suspendSession {
+	return suspendSession(@_);
+}
+
+sub x2goadmin_terminateSession {
+	return terminateSession(@_);
+}
 
 
 sub x2goadmin_getUsers {
diff --git a/x2goadminserver/lib/x2goadminserver_backend_ldap.pm b/x2goadminserver/lib/x2goadminserver_backend_ldap.pm
index 721fabb..80379bc 100644
--- a/x2goadminserver/lib/x2goadminserver_backend_ldap.pm
+++ b/x2goadminserver/lib/x2goadminserver_backend_ldap.pm
@@ -21,7 +21,7 @@
 package x2goadminserver_backend_ldap;
 
 use Exporter 'import';
<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">- at EXPORT</A>= qw(getUsers getGroups getGroupsOfUser getGroupsWithUsers modifyUser modifyGroup addUser addGroup removeUsers removeGroups);
<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">+ at EXPORT</A>= qw(getUsers getGroups getGroupsOfUser getGroupsWithUsers modifyUser modifyGroup addUser addGroup removeUsers removeGroups getSessions terminateSession suspendSession);
 
 use strict;
 use Config::Simple;
@@ -35,6 +35,7 @@ use Unicode::Normalize;
 use utf8;
 use Frontier::RPC2;
 use Encode;
+use DBI;
 
 my $Config = new Config::Simple(syntax=&gt;'ini');
 $Config-&gt;read('/etc/x2go/x2goadminserver.conf' ) or die &quot;/etc/x2go/x2goadminserver.conf&quot;;
@@ -43,9 +44,78 @@ my $basedn=$Config-&gt;param(&quot;x2goldap.basedn&quot;);
 my $sambagroup=$Config-&gt;param(&quot;x2goldap.smbgroup&quot;);
 my $sid=$Config-&gt;param(&quot;x2goldap.sid&quot;);
 
+my $dbname=$Config-&gt;param(&quot;x2goldap.dbname&quot;);
+my $dbhost=$Config-&gt;param(&quot;x2goldap.dbhost&quot;);
+my $dbport=$Config-&gt;param(&quot;x2goldap.dbport&quot;);
+my $dbuser=$Config-&gt;param(&quot;x2goldap.dbuser&quot;);
+my $dbpass=$Config-&gt;param(&quot;x2goldap.dbpass&quot;);
+my $dbssl=$Config-&gt;param(&quot;x2goldap.dbssl&quot;);
+
 
 my $ldap;
 
+sub terminateSession
+{
+  my ($login, $password, $server, $id)=@_;
+  my $retmsg=&quot;OK&quot;;
+
+  my ($status,$str)=getServerInfo($login, $password);
+  if(!$status)
+  {
+    return $str;
+  }
+  system(&quot;/etc/x2go/controlsession terminate $server $id&quot;);
+  return getSessions($login, $password);
+}
+
+sub suspendSession
+{
+  my ($login, $password, $server, $id)=@_;
+  my $retmsg=&quot;OK&quot;;
+
+  my ($status,$str)=getServerInfo($login, $password);
+  if(!$status)
+  {
+    return $str;
+  }
+  system(&quot;/etc/x2go/controlsession suspend $server $id&quot;);
+  return getSessions($login, $password);
+}
+
+sub getSessions
+{
+  my ($login, $password, @args)=@_;
+  my $retmsg=&quot;OK&quot;;
+
+  my ($status,$str)=getServerInfo($login, $password);
+  if(!$status)
+  {
+    return $str;
+  }
+  my $dbh=DBI-&gt;connect(&quot;dbi:Pg:dbname=$dbname;host=$dbhost;port=$dbport;sslmode=$dbssl&quot;,
+                             &quot;$dbuser&quot;, &quot;$dbpass&quot;,{AutoCommit =&gt; 1}) or return (&quot;DBERR &quot;.$DBI::errstr);
+
+  my @strings;
+  my $sth=$dbh-&gt;prepare(&quot;select session_id, display, server, status,
+                        to_char(init_time,'YYYY-MM-DDThh24:MI:SS'), client,
+                        to_char(last_time,'YYYY-MM-DDThh24:MI:SS'), uname from sessions&quot;);
+                        $sth-&gt;execute() or return (&quot;DBERR &quot;.$DBI::errstr);
+  my @data;
+  my $i=0;
+  while (@data = $sth-&gt;fetchrow_array)
+  {
+           my ($code, $msg, $cn, $sn)=getUserName(&quot;uid=@data[7],ou=People,$basedn&quot;);
+           if($code)
+           {
+                  return (&quot;CMDERR &quot;.&quot; &quot;.$msg);
+           }
+           @data[7]=@data[7].&quot;($cn $sn)&quot;;
+           @strings[$i++]=join('|'<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">, at data</A>);
+  }
+  $sth-&gt;finish();
+  $dbh-&gt;disconnect();
+  return join(&quot;\n&quot;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">, at strings</A>);
+}
 
 
 sub normalized
@@ -73,7 +143,7 @@ sub getUserName
   my $message=$ldap-&gt;search(base =&gt; $dn, scope =&gt; 'base', filter =&gt; '(objectClass=posixAccount)');
   if($message-&gt;code)
   {
-    return ($message-&gt;code,$message-&gt;error_desc, $cn, $sn);
+    return ($message-&gt;code,$message-&gt;error_desc.&quot; &quot;.$dn, $cn, $sn);
   }
   foreach ($message-&gt;entries)
   {


hooks/post-receive
-- 
x2goadmincenter.git (X2Go Administration Center)

This is an automated email from the git hooks/post-receive script. It was
generated because a ref change was pushed to the repository containing
the project &quot;x2goadmincenter.git&quot; (X2Go Administration Center).

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004067.html">[X2go-Commits] pyhoca-gui.git - master (branch) updated:	0.2.1.1-62-g3f31b3f
</A></li>
	<LI>Next message: <A HREF="004069.html">[X2go-Commits] x2gobroker.git - master (branch) updated:	c1cce02e184e39e4a306a15f7b47810a0b4b6c8f
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4068">[ date ]</a>
              <a href="thread.html#4068">[ thread ]</a>
              <a href="subject.html#4068">[ subject ]</a>
              <a href="author.html#4068">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/x2go-commits">More information about the X2go-commits
mailing list</a><br>
</body></html>
