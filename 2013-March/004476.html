<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [X2go-Commits] x2gobroker.git - build-main (branch) updated: 0.0.1.0
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/x2go-commits/2013-March/index.html" >
   <LINK REL="made" HREF="mailto:x2go-commits%40lists.berlios.de?Subject=Re%3A%20%5BX2go-Commits%5D%20x2gobroker.git%20-%20build-main%20%28branch%29%20updated%3A%200.0.1.0&In-Reply-To=%3C20130310120012.7AFF75DB18%40ymir%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004475.html">
   <LINK REL="Next"  HREF="004477.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[X2go-Commits] x2gobroker.git - build-main (branch) updated: 0.0.1.0</H1>
    <B>X2Go dev team</B> 
    <A HREF="mailto:x2go-commits%40lists.berlios.de?Subject=Re%3A%20%5BX2go-Commits%5D%20x2gobroker.git%20-%20build-main%20%28branch%29%20updated%3A%200.0.1.0&In-Reply-To=%3C20130310120012.7AFF75DB18%40ymir%3E"
       TITLE="[X2go-Commits] x2gobroker.git - build-main (branch) updated: 0.0.1.0">git-admin at x2go.org
       </A><BR>
    <I>Sun Mar 10 13:00:12 CET 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="004475.html">[X2go-Commits] x2gobroker.git - master (branch) updated:	0.0.0.7-6-g7a77058
</A></li>
        <LI>Next message: <A HREF="004477.html">[X2go-Commits] x2gobroker.git - master (branch) updated:	0.0.1.0-1-g4784e54
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4476">[ date ]</a>
              <a href="thread.html#4476">[ thread ]</a>
              <a href="subject.html#4476">[ subject ]</a>
              <a href="author.html#4476">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>The branch, build-main has been updated
       via  7a77058f345af93356c9615df70c92644fa98549 (commit)
       via  7ddfc47bf48a62ab7f871261d38048d9b15232be (commit)
       via  9cd07aa050f5a02af8987adeae6b28bbb02d7bd4 (commit)
       via  70ea8f1ed0b3a3521101b53e7ac7385ece8d5de1 (commit)
       via  2b21500f91135c8646103c6389c5cf66c2be4c17 (commit)
       via  7475b931d6cc28ce59b0259d9d2b9c258e1bbc14 (commit)
      from  15fba676bee4d4cebb9d44afe30259ca282ea7ef (commit)

Those revisions listed above that are new to this repository have
not appeared on any other notification email; so we list those
revisions in full, below.

- Log -----------------------------------------------------------------
-----------------------------------------------------------------------

Summary of changes:
 Makefile                         |    3 ---
 debian/changelog                 |   10 ++++++++++
 debian/control                   |    4 ++--
 debian/rules                     |   14 +++++++++++---
 sbin/x2gobroker-pubkeyauthorizer |    2 +-
 x2gobroker/__init__.py           |    2 +-
 6 files changed, 25 insertions(+), 10 deletions(-)

The diff of changes is:
diff --git a/Makefile b/Makefile
index 3c90c45..b5c2148 100755
--- a/Makefile
+++ b/Makefile
@@ -69,10 +69,7 @@ clean_arch:
 	rm -f lib/x2gobroker-agent
 
 clean_indep:
-	-make -f Makefile.perl realclean
 
 test:
-	make -f Makefile.perl test
 
 install:
-	make -f Makefile.perl install
diff --git a/debian/changelog b/debian/changelog
index 7b5e8b0..4d067dd 100644
--- a/debian/changelog
+++ b/debian/changelog
@@ -1,3 +1,13 @@
+x2gobroker (0.0.1.0-0~x2go1) unstable; urgency=low
+
+  * New upstream version (0.0.1.0):
+    - Only packaging issues fixed.
+  * /debian/control, /debian/rules:
+    + Add hack that allows building the package with python2 or pysupport,
+      depending on what's present on the build system. (Fixes: #135).
+
+ -- Mike Gabriel &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">mike.gabriel at das-netzwerkteam.de</A>&gt;  Sun, 10 Mar 2013 12:56:47 +0100
+
 x2gobroker (0.0.0.7-0~x2go1) unstable; urgency=low
 
   [ Mike Gabriel ]
diff --git a/debian/control b/debian/control
index 79dc5cb..eb7187c 100644
--- a/debian/control
+++ b/debian/control
@@ -7,8 +7,8 @@ Uploaders:
  Oleksandr Shneyder &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">oleksandr.shneyder at obviously-nice.de</A>&gt;,
 Build-Depends:
  debhelper (&gt;= 7.0.50~),
- cdbs (&gt;= 0.4.90~),
- dpkg-dev (&gt;= 1.16.1~),
+ cdbs (&gt;= 0.4.49~),
+ dpkg-dev (&gt;= 1.14.31~),
  python (&gt;= 2.6.5-0~),
  python-setuptools,
  python-nose,
diff --git a/debian/rules b/debian/rules
index 997158b..28be4dc 100755
--- a/debian/rules
+++ b/debian/rules
@@ -17,10 +17,18 @@
 # Free Software Foundation, Inc.,
 # 51 Franklin St, Fifth Floor, Boston, MA 02110-1301, USA.
 
-export DEB_BUILD_MAINT_OPTIONS = hardening=+all
-export DEB_CFLAGS_MAINT_APPEND = -Wall
-include /usr/share/dpkg/buildflags.mk
+# this doesn't work, so commenting it out...
+#export DEB_BUILD_MAINT_OPTIONS = hardening=+all
+#export DEB_CFLAGS_MAINT_APPEND = -Wall
+#include /usr/share/dpkg/buildflags.mk
+
+DEB_PYTHON_SYSTEM = $(shell test -f /usr/bin/dh_python2 &amp;&amp; echo &quot;&quot; || echo &quot;pysupport&quot;)
+DEB_PYTHON_INSTALL_ARGS_ALL = --install-layout=deb --single-version-externally-managed
 
 include /usr/share/cdbs/1/rules/debhelper.mk
 include /usr/share/cdbs/1/class/makefile.mk
 include /usr/share/cdbs/1/class/python-distutils.mk
+
+# needed when building with pysupport (e.g. on Ubuntu lucid)
+common-binary-indep::
+	mkdir -p debian/tmp/usr
diff --git a/sbin/x2gobroker-pubkeyauthorizer b/sbin/x2gobroker-pubkeyauthorizer
index 39440bb..ba4ddd7 100755
--- a/sbin/x2gobroker-pubkeyauthorizer
+++ b/sbin/x2gobroker-pubkeyauthorizer
@@ -36,7 +36,7 @@ import logging.config
 from pwd import getpwnam
 from grp import getgrnam
 
-__VERSION__ = '0.0.0.7'
+__VERSION__ = '0.0.1.0'
 __AUTHOR__ = 'Mike Gabriel (X2Go Project) &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">mike.gabriel at das-netzwerkteam.de</A>&gt;'
 
 PROG_NAME = os.path.basename(sys.argv[0])
diff --git a/x2gobroker/__init__.py b/x2gobroker/__init__.py
index f63bf9c..b1eceb9 100644
--- a/x2gobroker/__init__.py
+++ b/x2gobroker/__init__.py
@@ -18,7 +18,7 @@
 # Free Software Foundation, Inc.,
 # 51 Franklin St, Fifth Floor, Boston, MA 02110-1301, USA.
 
-__VERSION__ = '0.0.0.7'
+__VERSION__ = '0.0.1.0'
 __AUTHOR__ = 'Mike Gabriel (X2Go Project) &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">mike.gabriel at das-netzwerkteam.de</A>&gt;'
 
 from loggers import logger_error


hooks/post-receive
-- 
x2gobroker.git (HTTP(S) Session broker for X2Go)

This is an automated email from the git hooks/post-receive script. It was
generated because a ref change was pushed to the repository containing
the project &quot;x2gobroker.git&quot; (HTTP(S) Session broker for X2Go).

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004475.html">[X2go-Commits] x2gobroker.git - master (branch) updated:	0.0.0.7-6-g7a77058
</A></li>
	<LI>Next message: <A HREF="004477.html">[X2go-Commits] x2gobroker.git - master (branch) updated:	0.0.1.0-1-g4784e54
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4476">[ date ]</a>
              <a href="thread.html#4476">[ thread ]</a>
              <a href="subject.html#4476">[ subject ]</a>
              <a href="author.html#4476">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/x2go-commits">More information about the X2go-commits
mailing list</a><br>
</body></html>
