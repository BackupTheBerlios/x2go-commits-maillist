<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [X2Go-Commits] pyhoca-gui.git - twofactorauth (branch) updated:	0.4.0.2-5-gc6124a2
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/x2go-commits/2013-September/index.html" >
   <LINK REL="made" HREF="mailto:x2go-commits%40lists.berlios.de?Subject=Re%3A%20%5BX2Go-Commits%5D%20pyhoca-gui.git%20-%20twofactorauth%20%28branch%29%20updated%3A%0A%090.4.0.2-5-gc6124a2&In-Reply-To=%3C20130914135650.EF5A75DB65%40ymir%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013755.html">
   <LINK REL="Next"  HREF="013759.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[X2Go-Commits] pyhoca-gui.git - twofactorauth (branch) updated:	0.4.0.2-5-gc6124a2</H1>
    <B>X2Go dev team</B> 
    <A HREF="mailto:x2go-commits%40lists.berlios.de?Subject=Re%3A%20%5BX2Go-Commits%5D%20pyhoca-gui.git%20-%20twofactorauth%20%28branch%29%20updated%3A%0A%090.4.0.2-5-gc6124a2&In-Reply-To=%3C20130914135650.EF5A75DB65%40ymir%3E"
       TITLE="[X2Go-Commits] pyhoca-gui.git - twofactorauth (branch) updated:	0.4.0.2-5-gc6124a2">git-admin at x2go.org
       </A><BR>
    <I>Sat Sep 14 15:56:50 CEST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="013755.html">[X2Go-Commits] python-x2go.git - twofactorauth (branch) updated:	0.1.0.3-26-g81b1dbb
</A></li>
        <LI>Next message: <A HREF="013759.html">[X2Go-Commits] python-x2go.git - twofactorauth (branch) updated:	0.1.0.3-28-g1864f20
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13757">[ date ]</a>
              <a href="thread.html#13757">[ thread ]</a>
              <a href="subject.html#13757">[ subject ]</a>
              <a href="author.html#13757">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>The branch, twofactorauth has been updated
       via  c6124a24321183f804faa14574e436aa0fc7aca0 (commit)
      from  a3e48a692cb9a727f8913df02b8e99f0e5f41c39 (commit)

Those revisions listed above that are new to this repository have
not appeared on any other notification email; so we list those
revisions in full, below.

- Log -----------------------------------------------------------------
-----------------------------------------------------------------------

Summary of changes:
 pyhoca/wxgui/frontend.py |    5 ++---
 pyhoca/wxgui/logon.py    |    5 ++---
 2 files changed, 4 insertions(+), 6 deletions(-)

The diff of changes is:
diff --git a/pyhoca/wxgui/frontend.py b/pyhoca/wxgui/frontend.py
index dbcdcfb..dd2bff6 100644
--- a/pyhoca/wxgui/frontend.py
+++ b/pyhoca/wxgui/frontend.py
@@ -640,11 +640,10 @@ class PyHocaGUI(wx.App, x2go.X2GoClient):
             self._logon_windows[profile_name] = _logon_window
         except x2go.SSHException, e:
             if str(e).startswith('Host key for server ') and str(e).endswith(' does not match!'):
-                host = str(e).replace('Host key for server ','').replace(' does not match!', '')
-                errmsg = _('Host key for X2Go server %s does not match') % host
+                errmsg = _('Host key verification failed. The X2Go server may have been compromised.\n\nIt is also possible that the host key has just been changed.\n\nHowever, for security reasons the connection will not be established!!!')
             else:
                 errmsg = str(e)
-            self.notifier.send(_(u'%s - SSH error') % profile_name, u'%s!' % errmsg, icon='auth_error', timeout=4000)
+            self.notifier.send(_(u'%s - SSH error') % profile_name, u'%s!' % errmsg, icon='auth_error', timeout=10000)
             try:
                 self._temp_disabled_profile_names.remove(profile_name)
             except ValueError:
diff --git a/pyhoca/wxgui/logon.py b/pyhoca/wxgui/logon.py
index 21d8617..f50bc97 100644
--- a/pyhoca/wxgui/logon.py
+++ b/pyhoca/wxgui/logon.py
@@ -413,8 +413,7 @@ class PyHocaGUI_DialogBoxPassword(wx.Dialog):
         except x2go.SSHException, e:
 
             if str(e).startswith('Host key for server ') and str(e).endswith(' does not match!'):
-                host = str(e).replace('Host key for server ','').replace(' does not match!', '')
-                errmsg = _('Host key for X2Go server %s does not match') % host
+                errmsg = _('Host key verification failed. The X2Go server may have been compromised.\n\nIt is also possible that the host key has just been changed.\n\nHowever, for security reasons the connection will not be established!!!')
             else:
                 errmsg = str(e)
 
@@ -422,7 +421,7 @@ class PyHocaGUI_DialogBoxPassword(wx.Dialog):
                                              title=_(u'%s - SSH error') % self.current_profile_name,
                                              text='%s' % errmsg,
                                              icon='auth_error',
-                                             timeout=4000)
+                                             timeout=10000)
 
 
             connect_failed = True


hooks/post-receive
-- 
pyhoca-gui.git (Python X2Go Client (wxPython GUI))

This is an automated email from the git hooks/post-receive script. It was
generated because a ref change was pushed to the repository containing
the project &quot;pyhoca-gui.git&quot; (Python X2Go Client (wxPython GUI)).

</PRE>














<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="013755.html">[X2Go-Commits] python-x2go.git - twofactorauth (branch) updated:	0.1.0.3-26-g81b1dbb
</A></li>
	<LI>Next message: <A HREF="013759.html">[X2Go-Commits] python-x2go.git - twofactorauth (branch) updated:	0.1.0.3-28-g1864f20
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13757">[ date ]</a>
              <a href="thread.html#13757">[ thread ]</a>
              <a href="subject.html#13757">[ subject ]</a>
              <a href="author.html#13757">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/x2go-commits">More information about the X2Go-commits
mailing list</a><br>
</body></html>
