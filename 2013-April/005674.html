<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [X2Go-Commits] x2gobroker.git - tmp (branch) updated:	e4c48da663e47c7fa1afc0892effdb871c93d027
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/x2go-commits/2013-April/index.html" >
   <LINK REL="made" HREF="mailto:x2go-commits%40lists.berlios.de?Subject=Re%3A%20%5BX2Go-Commits%5D%20x2gobroker.git%20-%20tmp%20%28branch%29%20updated%3A%0A%09e4c48da663e47c7fa1afc0892effdb871c93d027&In-Reply-To=%3C20130423190830.D2E9F5DB52%40ymir%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005669.html">
   <LINK REL="Next"  HREF="005676.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[X2Go-Commits] x2gobroker.git - tmp (branch) updated:	e4c48da663e47c7fa1afc0892effdb871c93d027</H1>
    <B>X2Go dev team</B> 
    <A HREF="mailto:x2go-commits%40lists.berlios.de?Subject=Re%3A%20%5BX2Go-Commits%5D%20x2gobroker.git%20-%20tmp%20%28branch%29%20updated%3A%0A%09e4c48da663e47c7fa1afc0892effdb871c93d027&In-Reply-To=%3C20130423190830.D2E9F5DB52%40ymir%3E"
       TITLE="[X2Go-Commits] x2gobroker.git - tmp (branch) updated:	e4c48da663e47c7fa1afc0892effdb871c93d027">git-admin at x2go.org
       </A><BR>
    <I>Tue Apr 23 21:08:30 CEST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="005669.html">[X2Go-Commits] x2gobroker.git - tmp (branch) updated:	f7e9cc7089a4e6e78e855d7f404094acf800fa81
</A></li>
        <LI>Next message: <A HREF="005676.html">[X2Go-Commits] x2gobroker.git - tmp (branch) updated:	00034ba69ecca2523dc6ad1b5b16f9952508683c
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5674">[ date ]</a>
              <a href="thread.html#5674">[ thread ]</a>
              <a href="subject.html#5674">[ subject ]</a>
              <a href="author.html#5674">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>The branch, tmp has been updated
       via  e4c48da663e47c7fa1afc0892effdb871c93d027 (commit)
      from  bd1f9e0e3e0f14d7d98c537ef3bfeb19b025a9e5 (commit)

Those revisions listed above that are new to this repository have
not appeared on any other notification email; so we list those
revisions in full, below.

- Log -----------------------------------------------------------------
-----------------------------------------------------------------------

Summary of changes:
 NEWS                                               |   12 +++
 README                                             |    8 ++
 TODO                                               |    7 ++
 debian/changelog                                   |   11 +--
 debian/control                                     |  101 +++++++-------------
 debian/copyright                                   |   10 +-
 ...x2gobroker-ldap.dirs =&gt; python-x2gobroker.dirs} |    1 +
 ...gobroker-common.docs =&gt; python-x2gobroker.docs} |    0
 debian/python-x2gobroker.install                   |    3 +
 debian/x2gobroker-agent.dirs                       |    1 -
 .../x2gobroker-cgi.install                         |    0
 debian/x2gobroker-common.dirs                      |    2 -
 debian/x2gobroker-common.install                   |    2 -
 debian/x2gobroker-daemon.default                   |    4 +
 debian/x2gobroker-daemon.init                      |   72 ++++++++++++++
 debian/x2gobroker-ldap.docs                        |    3 -
 debian/x2gobroker-ldap.install                     |    1 -
 debian/x2gobroker-ldap.links                       |    1 -
 debian/x2gobroker-simple.dirs                      |    1 -
 debian/x2gobroker-simple.docs                      |    3 -
 debian/x2gobroker-simple.install                   |    1 -
 debian/x2gobroker-simple.links                     |    1 -
 debian/x2gobroker-zeroconf.dirs                    |    1 -
 debian/x2gobroker-zeroconf.docs                    |    3 -
 debian/x2gobroker-zeroconf.links                   |    1 -
 debian/x2gobroker.install                          |    1 +
 etc/{x2gobroker-ldap.cfg =&gt; x2gobroker.conf}       |    7 ++
 cgi/x2gobroker.py =&gt; sbin/x2gobroker               |    0
 setup.py                                           |    2 +-
 x2gobroker/__init__.pyc                            |  Bin 208 -&gt; 0 bytes
 x2gobroker/base.pyc                                |  Bin 4707 -&gt; 0 bytes
 x2gobroker/zeroconf.pyc                            |  Bin 1126 -&gt; 0 bytes
 32 files changed, 159 insertions(+), 101 deletions(-)
 rename debian/{x2gobroker-ldap.dirs =&gt; python-x2gobroker.dirs} (50%)
 rename debian/{x2gobroker-common.docs =&gt; python-x2gobroker.docs} (100%)
 create mode 100644 debian/python-x2gobroker.install
 delete mode 100644 debian/x2gobroker-agent.dirs
 rename etc/x2gobroker-simple.cfg =&gt; debian/x2gobroker-cgi.install (100%)
 delete mode 100644 debian/x2gobroker-common.dirs
 delete mode 100644 debian/x2gobroker-common.install
 create mode 100644 debian/x2gobroker-daemon.default
 create mode 100644 debian/x2gobroker-daemon.init
 delete mode 100644 debian/x2gobroker-ldap.docs
 delete mode 100644 debian/x2gobroker-ldap.install
 delete mode 100644 debian/x2gobroker-ldap.links
 delete mode 100644 debian/x2gobroker-simple.dirs
 delete mode 100644 debian/x2gobroker-simple.docs
 delete mode 100644 debian/x2gobroker-simple.install
 delete mode 100644 debian/x2gobroker-simple.links
 delete mode 100644 debian/x2gobroker-zeroconf.dirs
 delete mode 100644 debian/x2gobroker-zeroconf.docs
 delete mode 100644 debian/x2gobroker-zeroconf.links
 create mode 100644 debian/x2gobroker.install
 rename etc/{x2gobroker-ldap.cfg =&gt; x2gobroker.conf} (95%)
 rename cgi/x2gobroker.py =&gt; sbin/x2gobroker (100%)
 delete mode 100644 x2gobroker/__init__.pyc
 delete mode 100644 x2gobroker/base.pyc
 delete mode 100644 x2gobroker/zeroconf.pyc

The diff of changes is:
diff --git a/NEWS b/NEWS
index e69de29..37d39b4 100644
--- a/NEWS
+++ b/NEWS
@@ -0,0 +1,12 @@
+NEWS on X2Go Session Broker
+===========================
+
+X2Go Session Broker is a Web project that provides
+session brokerage for X2Go via HTTP(S).
+
+The framework was originally designed in Perl and his
+been rewritten in Python using the web.py framework
+in 2012/2013.
+
+light+love,
+Mike Gabriel, 20121129
\ No newline at end of file
diff --git a/README b/README
index e69de29..763a825 100644
--- a/README
+++ b/README
@@ -0,0 +1,8 @@
+README for X2Go Session Broker
+==============================
+
+X2Go Session Broker is a Web project that provides
+session brokerage for X2Go via HTTP(S).
+
+light+love,
+Mike Gabriel, 20121129
\ No newline at end of file
diff --git a/TODO b/TODO
index e69de29..4787426 100644
--- a/TODO
+++ b/TODO
@@ -0,0 +1,7 @@
+TODO list for X2Go Session Broker
+=================================
+
+Plenty of work in the loop...
+
+light+love,
+Mike Gabriel, 20121129
\ No newline at end of file
diff --git a/debian/changelog b/debian/changelog
index 42e3641..f99aeb6 100644
--- a/debian/changelog
+++ b/debian/changelog
@@ -1,14 +1,5 @@
 x2gobroker (0.0.0.1-0~x2go1) UNRELEASED; urgency=low
 
-  [ Mike Gabriel ]
-  * Setting up new public X2Go project: x2gobroker.
-    - Using our own PAM service ,,x2gobroker''.
-  * /debian/control:
-    + Add an initial dependency selection to the various Depends fields.
-    + Make sure libx2go-broker-perl of the same version gets installed
-      with x2gobroker-common.
-    + Add dependencies: libauthen-pam-perl, libauthen-simple-pam-perl.
-  * Fix code indentations (spaces replaced by tabs, use proper indentation
-    levels).
+  * Initial upstream version.
 
  -- Mike Gabriel &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">mike.gabriel at das-netzwerkteam.de</A>&gt;  Wed, 15 Sep 2012 17:30:24 +0200
diff --git a/debian/control b/debian/control
index 3381442..81ecded 100644
--- a/debian/control
+++ b/debian/control
@@ -1,5 +1,5 @@
 Source: x2gobroker
-Section: web
+Section: python
 Priority: optional
 Maintainer: X2Go Developers &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">x2go-dev at lists.berlios.de</A>&gt;
 Uploaders:
@@ -9,43 +9,20 @@ Build-Depends:
  debhelper (&gt;= 7.0.50~),
  cdbs (&gt;= 0.4.90~),
  dpkg-dev (&gt;= 1.16.1~),
+ python (&gt;= 2.6.6-3~),
 Standards-Version: 3.9.3
+XS-Python-Version: &gt;= 2.4
 
-Package: libx2go-broker-perl
+Package: x2gobroker
 Architecture: all
-Section: perl
 Depends:
  ${misc:Depends},
- ${perl:Depends},
-Description: X2Go http(s) based session broker (Perl modules)
- X2Go is a serverbased computing environment with
-    - session resuming
-    - low bandwidth support
-    - LDAP support
-    - client side mass storage mounting support
-    - client side printing support
-    - audio support
-    - authentication by smartcard and USB stick
- .
- The session broker is a server tool for X2Go that
- tells your X2Go Client application in a terminal
- server cluster what servers and session types are
- most appropriate for the user in front of the
- X2Go terminal.
- .
- A session broker is most useful in load balanced
- X2Go server farms.
- .
- This package contains the related Perl modules needed
- by the X2Go Session Broker scripts.
-
-Package: x2gobroker-common
-Architecture: all
-Depends:
- ${misc:Depends},
- libx2go-broker-perl (&gt;= ${source:Version}), libx2go-broker-perl (&lt;&lt; ${source:Version}.1~),
-Description: X2Go http(s) based session broker (common files)
- X2Go is a serverbased computing environment with
+ ${python:Depends},
+ python,
+Suggests:
+ apache2 | httpd,
+Description: X2Go http(s) based session broker (executable)
+ X2Go is a server based computing environment with
     - session resuming
     - low bandwidth support
     - LDAP support
@@ -63,18 +40,17 @@ Description: X2Go http(s) based session broker (common files)
  A session broker is most useful in load balanced
  X2Go server farms.
  .
- This package contains common files needed by all X2Go session
- brokers being package for this distribution.
+ This package contains the x2gobroker executable.
 
-Package: x2gobroker-simple
+Package: x2gobroker-daemon
 Architecture: all
 Depends:
  ${misc:Depends},
+ ${python:Depends},
+Suggests:
  apache2 | httpd,
- perl,
- x2gobroker-common (&gt;= ${source:Version}), x2gobroker-common (&lt;&lt; ${source:Version}.1~),
-Description: X2Go http(s) session broker (simple broker)
- X2Go is a serverbased computing environment with
+Description: X2Go http(s) based session broker (daemon)
+ X2Go is a server based computing environment with
     - session resuming
     - low bandwidth support
     - LDAP support
@@ -92,20 +68,19 @@ Description: X2Go http(s) session broker (simple broker)
  A session broker is most useful in load balanced
  X2Go server farms.
  .
- This package contains a simple example of an X2Go session
- broker. This session broker will be configured with a few steps,
- no LDAP is required.
+ This package contains the start-stop script that
+ installs the X2Go Session Broker as standalone
+ daemon.
 
-Package: x2gobroker-ldap
+Package: x2gobroker-cgi
 Architecture: all
 Depends:
  ${misc:Depends},
+ ${python:Depends},
+Suggests:
  apache2 | httpd,
- perl,
- libnet-ldap-perl,
- x2gobroker-common (&gt;= ${source:Version}), x2gobroker-common (&lt;&lt; ${source:Version}.1~),
-Description: X2Go http(s) session broker (simple broker)
- X2Go is a serverbased computing environment with
+Description: X2Go http(s) based session broker (CGI)
+ X2Go is a server based computing environment with
     - session resuming
     - low bandwidth support
     - LDAP support
@@ -123,21 +98,19 @@ Description: X2Go http(s) session broker (simple broker)
  A session broker is most useful in load balanced
  X2Go server farms.
  .
- This package contains an LDAP based X2Go session broker.
- This session broker is targeted for large production setups
- with many X2Go servers managed via a session broker.
+ This package contains a configuration that installs
+ the X2Go Session Broker as a CGI script so it
+ can be run from within an existing httpd server.
 
-Package: x2gobroker-zeroconf
+Package: python-x2gobroker
 Architecture: all
 Depends:
  ${misc:Depends},
+ ${python:Depends},
+Suggests:
  apache2 | httpd,
- perl,
- x2gobroker-common (&gt;= ${source:Version}), x2gobroker-common (&lt;&lt; ${source:Version}.1~),
- libauthen-pam-perl,
- libauthen-simple-pam-perl,
-Description: X2Go http(s) session broker (for demo purposes only)
- X2Go is a serverbased computing environment with
+Description: X2Go http(s) based session broker (Python modules)
+ X2Go is a server based computing environment with
     - session resuming
     - low bandwidth support
     - LDAP support
@@ -155,21 +128,19 @@ Description: X2Go http(s) session broker (for demo purposes only)
  A session broker is most useful in load balanced
  X2Go server farms.
  .
- This package contains a demo X2Go session broker that
- runs out-of-the-box. However, it can not be configured
- and it only manages one single X2Go server. This package
- can be installed to test X2Go's clients, so you get an
- idea of how your clients behave when set into broker mode.
+ This package contains common files needed by all X2Go session
+ brokers being package for this distribution.
 
 Package: x2gobroker-agent
 Architecture: any
 Depends:
  ${shlibs:Depends},
  ${misc:Depends},
+ perl,
  adduser,
  x2goserver,
 Description: X2Go http(s) based session broker (common files)
- X2Go is a serverbased computing environment with
+ X2Go is a server based computing environment with
     - session resuming
     - low bandwidth support
     - LDAP support
diff --git a/debian/copyright b/debian/copyright
index 1891023..7b2fde0 100644
--- a/debian/copyright
+++ b/debian/copyright
@@ -1,13 +1,15 @@
 Format: <A HREF="http://www.debian.org/doc/packaging-manuals/copyright-format/1.0/">http://www.debian.org/doc/packaging-manuals/copyright-format/1.0/</A>
 Upstream-Name: X2Go Broker
-Upstream-Contact: Oleksandr Shneyder &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">oleksandr.shneyder at obviously-nice.de</A>&gt;
-Source: <A HREF="http://code.x2go.org/releases/source/x2gohttpbroker">http://code.x2go.org/releases/source/x2gohttpbroker</A>
+Upstream-Contact:
+ Mike Gabriel &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">mike.gabriel at das-netzwerkteam.de</A>&gt;
+ Oleksandr Shneyder &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">oleksandr.shneyder at obviously-nice.de</A>&gt;
+Source: <A HREF="http://code.x2go.org/releases/source/x2gobroker">http://code.x2go.org/releases/source/x2gobroker</A>
 
 Files: *
 Copyright: 
- 2011-2012, Oleksandr Shneyder &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">oleksandr.shneyder at obviously-nice.de</A>&gt;
- 2011-2012, Heinz-Markus Graesing &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">heinz-m.graesing at obviously-nice.de</A>&gt;
  2012, Mike Gabriel &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">mike.gabriel at das-netzwerkteam.de</A>&gt;
+ 2012, Oleksandr Shneyder &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">oleksandr.shneyder at obviously-nice.de</A>&gt;
+ 2012, Heinz-Markus Graesing &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">heinz-m.graesing at obviously-nice.de</A>&gt;
 License: AGPL-3+
 
 Files: debian/*
diff --git a/debian/x2gobroker-ldap.dirs b/debian/python-x2gobroker.dirs
similarity index 50%
rename from debian/x2gobroker-ldap.dirs
rename to debian/python-x2gobroker.dirs
index d973e65..2fd303e 100644
--- a/debian/x2gobroker-ldap.dirs
+++ b/debian/python-x2gobroker.dirs
@@ -1 +1,2 @@
 /etc/x2go
+/etc/pam.d
\ No newline at end of file
diff --git a/debian/x2gobroker-common.docs b/debian/python-x2gobroker.docs
similarity index 100%
rename from debian/x2gobroker-common.docs
rename to debian/python-x2gobroker.docs
diff --git a/debian/python-x2gobroker.install b/debian/python-x2gobroker.install
new file mode 100644
index 0000000..99281cd
--- /dev/null
+++ b/debian/python-x2gobroker.install
@@ -0,0 +1,3 @@
+etc/x2gobroker.conf etc/x2go/
+pam/x2gobroker etc/pam.d/
+usr/
diff --git a/debian/x2gobroker-agent.dirs b/debian/x2gobroker-agent.dirs
deleted file mode 100644
index 88c7d70..0000000
--- a/debian/x2gobroker-agent.dirs
+++ /dev/null
@@ -1 +0,0 @@
-/usr/lib/x2go/broker
\ No newline at end of file
diff --git a/etc/x2gobroker-simple.cfg b/debian/x2gobroker-cgi.install
similarity index 100%
rename from etc/x2gobroker-simple.cfg
rename to debian/x2gobroker-cgi.install
diff --git a/debian/x2gobroker-common.dirs b/debian/x2gobroker-common.dirs
deleted file mode 100644
index cec872f..0000000
--- a/debian/x2gobroker-common.dirs
+++ /dev/null
@@ -1,2 +0,0 @@
-/usr/lib/cgi-bin
-/usr/lib/x2go/broker
\ No newline at end of file
diff --git a/debian/x2gobroker-common.install b/debian/x2gobroker-common.install
deleted file mode 100644
index a688ac6..0000000
--- a/debian/x2gobroker-common.install
+++ /dev/null
@@ -1,2 +0,0 @@
-cgi/x2gobroker.cgi usr/lib/cgi-bin/
-pam/x2gobroker etc/pam.d/
\ No newline at end of file
diff --git a/debian/x2gobroker-daemon.default b/debian/x2gobroker-daemon.default
new file mode 100644
index 0000000..52a89c4
--- /dev/null
+++ b/debian/x2gobroker-daemon.default
@@ -0,0 +1,4 @@
+# X2Go Session Broker configuration for Debian
+
+# Uncomment to enable the X2Go Session Broker standalone daemon
+#START_DAEMON=true
\ No newline at end of file
diff --git a/debian/x2gobroker-daemon.init b/debian/x2gobroker-daemon.init
new file mode 100644
index 0000000..9901128
--- /dev/null
+++ b/debian/x2gobroker-daemon.init
@@ -0,0 +1,72 @@
+#!/bin/sh
+#
+# Start the X2Go Session Broker standalone daemon
+#
+# Copyright &#169; 2012 Mike Gabriel &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">mike.gabriel at das-netzwerkteam.de</A>&gt;
+# Distributable under the terms of the GNU AGPL version 2.
+#
+### BEGIN INIT INFO
+# Provides:          x2gobroker-daemon
+# Required-Start:    $remote_fs $syslog
+# Required-Stop:     $remote_fs $syslog
+# Default-Start:     2 3 4 5
+# Default-Stop:      0 1 6
+# Short-Description: X2Go Session Broker standalone daemon
+# Description:       X2Go Session Broker daemon comes with its own HTTP daemon
+### END INIT INFO
+#
+
+set -eu
+
+DAEMON=/usr/sbin/x2gobroker
+test -d /run &amp;&amp; RUNDIR=/run/ || RUNDIR=/var/run
+PIDFILE=$RUNDIR/x2gobroker-daemon.pid
+DEBIANCONFIG=/etc/default/x2gobroker-daemon
+
+test -x &quot;$DAEMON&quot; || exit 0
+
+START_DAEMON=false
+test -f $DEBIANCONFIG &amp;&amp; . $DEBIANCONFIG
+
+. /lib/lsb/init-functions
+
+is_true()
+{
+  case &quot;${1:-}&quot; in
+    [Yy]es|[Yy]|1|[Tt]|[Tt]rue) return 0;;
+    *) return 1;
+  esac
+}
+
+case &quot;${1:-}&quot; in
+  start)
+    if is_true $START_DAEMON; then
+      log_daemon_msg &quot;Starting X2Go Session Broker standalone daemon&quot; &quot;x2gobroker&quot;
+      mkdir -p $RUNDIR
+      set +e
+      start-stop-daemon -S -p $PIDFILE -x $DAEMON
+      log_end_msg $?
+      set -e
+    fi
+    ;;
+  stop)
+    if [ -f $PIDFILE ] ; then
+      log_daemon_msg &quot;Stopping X2Go Session Broker standalone daemon&quot; &quot;x2gobroker&quot;
+      set +e
+      start-stop-daemon -K -p $PIDFILE -x $DAEMON
+      rm -f $PIDFILE
+      log_end_msg $?
+      set -e
+    fi
+    ;;
+  restart|reload|force-reload)
+    ${0:-} stop
+    ${0:-} start
+    ;;
+  *)
+    echo &quot;Usage: ${0:-} {start|stop|restart|reload|force-reload}&quot; &gt;&amp;2
+    exit 1
+    ;;
+esac
+
+exit 0
diff --git a/debian/x2gobroker-ldap.docs b/debian/x2gobroker-ldap.docs
deleted file mode 100644
index 5502ed8..0000000
--- a/debian/x2gobroker-ldap.docs
+++ /dev/null
@@ -1,3 +0,0 @@
-NEWS
-README
-TODO
diff --git a/debian/x2gobroker-ldap.install b/debian/x2gobroker-ldap.install
deleted file mode 100644
index c35da81..0000000
--- a/debian/x2gobroker-ldap.install
+++ /dev/null
@@ -1 +0,0 @@
-etc/x2gobroker-ldap.cfg etc/x2go/
diff --git a/debian/x2gobroker-ldap.links b/debian/x2gobroker-ldap.links
deleted file mode 100644
index b8a8a9b..0000000
--- a/debian/x2gobroker-ldap.links
+++ /dev/null
@@ -1 +0,0 @@
-usr/lib/cgi-bin/x2gobroker.cgi usr/lib/cgi-bin/x2gobroker-ldap.cgi
diff --git a/debian/x2gobroker-simple.dirs b/debian/x2gobroker-simple.dirs
deleted file mode 100644
index d973e65..0000000
--- a/debian/x2gobroker-simple.dirs
+++ /dev/null
@@ -1 +0,0 @@
-/etc/x2go
diff --git a/debian/x2gobroker-simple.docs b/debian/x2gobroker-simple.docs
deleted file mode 100644
index 5502ed8..0000000
--- a/debian/x2gobroker-simple.docs
+++ /dev/null
@@ -1,3 +0,0 @@
-NEWS
-README
-TODO
diff --git a/debian/x2gobroker-simple.install b/debian/x2gobroker-simple.install
deleted file mode 100644
index 258c187..0000000
--- a/debian/x2gobroker-simple.install
+++ /dev/null
@@ -1 +0,0 @@
-etc/x2gobroker-simple.cfg etc/x2go/
diff --git a/debian/x2gobroker-simple.links b/debian/x2gobroker-simple.links
deleted file mode 100644
index 27df28e..0000000
--- a/debian/x2gobroker-simple.links
+++ /dev/null
@@ -1 +0,0 @@
-usr/lib/cgi-bin/x2gobroker.cgi usr/lib/cgi-bin/x2gobroker-simple.cgi
diff --git a/debian/x2gobroker-zeroconf.dirs b/debian/x2gobroker-zeroconf.dirs
deleted file mode 100644
index d973e65..0000000
--- a/debian/x2gobroker-zeroconf.dirs
+++ /dev/null
@@ -1 +0,0 @@
-/etc/x2go
diff --git a/debian/x2gobroker-zeroconf.docs b/debian/x2gobroker-zeroconf.docs
deleted file mode 100644
index 5502ed8..0000000
--- a/debian/x2gobroker-zeroconf.docs
+++ /dev/null
@@ -1,3 +0,0 @@
-NEWS
-README
-TODO
diff --git a/debian/x2gobroker-zeroconf.links b/debian/x2gobroker-zeroconf.links
deleted file mode 100644
index 1d6c3cf..0000000
--- a/debian/x2gobroker-zeroconf.links
+++ /dev/null
@@ -1 +0,0 @@
-usr/lib/cgi-bin/x2gobroker.cgi usr/lib/cgi-bin/x2gobroker-zeroconf.cgi
diff --git a/debian/x2gobroker.install b/debian/x2gobroker.install
new file mode 100644
index 0000000..fac20e4
--- /dev/null
+++ b/debian/x2gobroker.install
@@ -0,0 +1 @@
+sbin/x2gobroker usr/sbin/
diff --git a/etc/x2gobroker-ldap.cfg b/etc/x2gobroker.conf
similarity index 95%
rename from etc/x2gobroker-ldap.cfg
rename to etc/x2gobroker.conf
index fe8e9bd..a1b56f5 100644
--- a/etc/x2gobroker-ldap.cfg
+++ b/etc/x2gobroker.conf
@@ -18,6 +18,13 @@
 # Free Software Foundation, Inc.,
 # 51 Franklin St, Fifth Floor, Boston, MA 02110-1301, USA.
 
+[common]
+backend=zeroconf
+
+[simple]
+#...
+
+[ldap]
 ldapuri=<A HREF="ldap://&lt;ldapmaster.localdomain">ldap://&lt;ldapmaster.localdomain</A>&gt;
 #replica=<A HREF="ldapi:///">ldapi:///</A>
 binddn=&quot;cn=admin,dc=example,dc=net&quot;
diff --git a/cgi/x2gobroker.py b/sbin/x2gobroker
similarity index 100%
rename from cgi/x2gobroker.py
rename to sbin/x2gobroker
diff --git a/setup.py b/setup.py
index b791870..e1fa4e8 100755
--- a/setup.py
+++ b/setup.py
@@ -23,7 +23,7 @@
 # 51 Franklin St, Fifth Floor, Boston, MA 02110-1301, USA.
 
 from setuptools import setup, find_packages
-import x2go 
+import x2gobroker
 
 setup(
     name = &quot;x2gobroker&quot;,
diff --git a/x2gobroker/__init__.pyc b/x2gobroker/__init__.pyc
deleted file mode 100644
index 302cf0f..0000000
Binary files a/x2gobroker/__init__.pyc and /dev/null differ
diff --git a/x2gobroker/base.pyc b/x2gobroker/base.pyc
deleted file mode 100644
index 9a9b5ac..0000000
Binary files a/x2gobroker/base.pyc and /dev/null differ
diff --git a/x2gobroker/zeroconf.pyc b/x2gobroker/zeroconf.pyc
deleted file mode 100644
index fbbca0e..0000000
Binary files a/x2gobroker/zeroconf.pyc and /dev/null differ


hooks/post-receive
-- 
x2gobroker.git (HTTP(S) Session broker for X2Go)

This is an automated email from the git hooks/post-receive script. It was
generated because a ref change was pushed to the repository containing
the project &quot;x2gobroker.git&quot; (HTTP(S) Session broker for X2Go).

</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005669.html">[X2Go-Commits] x2gobroker.git - tmp (branch) updated:	f7e9cc7089a4e6e78e855d7f404094acf800fa81
</A></li>
	<LI>Next message: <A HREF="005676.html">[X2Go-Commits] x2gobroker.git - tmp (branch) updated:	00034ba69ecca2523dc6ad1b5b16f9952508683c
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5674">[ date ]</a>
              <a href="thread.html#5674">[ thread ]</a>
              <a href="subject.html#5674">[ subject ]</a>
              <a href="author.html#5674">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/x2go-commits">More information about the X2Go-commits
mailing list</a><br>
</body></html>
