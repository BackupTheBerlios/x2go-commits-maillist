<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [X2go-Commits] x2goserver.git - master (branch) updated:	3.0.99-2-199-g3d85152
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/x2go-commits/2011-August/index.html" >
   <LINK REL="made" HREF="mailto:x2go-commits%40lists.berlios.de?Subject=Re%3A%20%5BX2go-Commits%5D%20x2goserver.git%20-%20master%20%28branch%29%20updated%3A%0A%093.0.99-2-199-g3d85152&In-Reply-To=%3C20110830071429.C42595DB1A%40ymir%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001385.html">
   <LINK REL="Next"  HREF="001387.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[X2go-Commits] x2goserver.git - master (branch) updated:	3.0.99-2-199-g3d85152</H1>
    <B>X2go dev team</B> 
    <A HREF="mailto:x2go-commits%40lists.berlios.de?Subject=Re%3A%20%5BX2go-Commits%5D%20x2goserver.git%20-%20master%20%28branch%29%20updated%3A%0A%093.0.99-2-199-g3d85152&In-Reply-To=%3C20110830071429.C42595DB1A%40ymir%3E"
       TITLE="[X2go-Commits] x2goserver.git - master (branch) updated:	3.0.99-2-199-g3d85152">git-admin at x2go.org
       </A><BR>
    <I>Tue Aug 30 09:14:29 CEST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="001385.html">[X2go-Commits] x2gothinclient.git - master (branch) updated:	7644a08988d56df5afa229ed8e67c59a0b923bf2
</A></li>
        <LI>Next message: <A HREF="001387.html">[X2go-Commits] x2goserver.git - master (branch) updated:	3.0.99-2-200-g656dc5c
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1386">[ date ]</a>
              <a href="thread.html#1386">[ thread ]</a>
              <a href="subject.html#1386">[ subject ]</a>
              <a href="author.html#1386">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>The branch, master has been updated
       via  3d8515215ebb7d424798583fa27d5168660dfa72 (commit)
       via  826a087d450237abc912d8498f2a7aeeb815065e (commit)
       via  256e0dde5c8b5a5af9ab950ad69c7b788c6672ce (commit)
       via  31f8deabd2a8f1730a11b4093e1efb144cd02041 (commit)
       via  74cb4ab793b6e59aad8497f7facec9deb20be6ce (commit)
       via  6957a368ee4202a90be8c844173196660ad5a8c5 (commit)
       via  2c29f94eb6bef8a28bdcdecf1ad29958bf6a2b82 (commit)
      from  6daaf7bfa7a5cd9dac41d28860ff9569e54f0eb9 (commit)

Those revisions listed above that are new to this repository have
not appeared on any other notification email; so we list those
revisions in full, below.

- Log -----------------------------------------------------------------
commit 3d8515215ebb7d424798583fa27d5168660dfa72
Author: Mike Gabriel &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">mike.gabriel at das-netzwerkteam.de</A>&gt;
Date:   Tue Aug 30 09:14:14 2011 +0200

    and... at last... a compat script...

commit 826a087d450237abc912d8498f2a7aeeb815065e
Author: Mike Gabriel &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">mike.gabriel at das-netzwerkteam.de</A>&gt;
Date:   Tue Aug 30 09:12:22 2011 +0200

    ... and more man pages for x2goserver-extensions package

commit 256e0dde5c8b5a5af9ab950ad69c7b788c6672ce
Author: Mike Gabriel &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">mike.gabriel at das-netzwerkteam.de</A>&gt;
Date:   Tue Aug 30 09:11:25 2011 +0200

    ... and here the scripts x2gosessionlimit, x2golistsessions_root...

commit 31f8deabd2a8f1730a11b4093e1efb144cd02041
Author: Mike Gabriel &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">mike.gabriel at das-netzwerkteam.de</A>&gt;
Date:   Tue Aug 30 09:10:23 2011 +0200

    Just realized, that I forgot to re-add many files after the /bin -&gt; /lib migration in x2goserver source tree... So here come the man pages...

commit 74cb4ab793b6e59aad8497f7facec9deb20be6ce
Author: Mike Gabriel &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">mike.gabriel at das-netzwerkteam.de</A>&gt;
Date:   Tue Aug 30 09:09:24 2011 +0200

    Change X2go printing concept: use setgit and a sgid wrapper instead of sudo.

commit 6957a368ee4202a90be8c844173196660ad5a8c5
Author: Mike Gabriel &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">mike.gabriel at das-netzwerkteam.de</A>&gt;
Date:   Tue Aug 30 09:06:12 2011 +0200

    Create x2goprint user/group on package installation, add same info to INSTALL howto. Change permissions on x2goprint, using 2755:root:x2goprint (setgid).

commit 2c29f94eb6bef8a28bdcdecf1ad29958bf6a2b82
Author: Mike Gabriel &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">mike.gabriel at das-netzwerkteam.de</A>&gt;
Date:   Tue Aug 30 08:09:18 2011 +0200

    Spelling fix for error message.

-----------------------------------------------------------------------

Summary of changes:
 debian/changelog                                   |    3 +
 debian/x2goserver.postinst                         |   45 +++++++++++++++++++-
 .../bin}/x2gosuspend-agent                         |    2 +-
 .../x2gosetkeyboard.1 =&gt; man8/x2gosetkeyboard.8}   |    2 +-
 .../man/{man1/x2goversion.1 =&gt; man8/x2goversion.8} |    2 +-
 x2goserver/{sbin =&gt; lib}/x2golistsessions_root     |    8 ++--
 x2goserver/{bin/x2goprint =&gt; lib/x2goprint.pl}     |    0
 x2goserver/{bin =&gt; lib}/x2gosessionlimit           |    0
 .../x2gocmdexitmessage.8}                          |    2 +-
 .../x2golistdesktops.1 =&gt; man8/x2golistdesktops.8} |    2 +-
 .../x2golistsessions.1 =&gt; man8/x2golistsessions.8} |    2 +-
 .../{man1/x2gomountdirs.1 =&gt; man8/x2gomountdirs.8} |    2 +-
 .../man/{man1/x2goprint.1 =&gt; man8/x2goprint.8}     |    2 +-
 .../x2goresume-session.8}                          |    2 +-
 .../x2goruncommand.1 =&gt; man8/x2goruncommand.8}     |    2 +-
 .../x2goruncommand.1 =&gt; man8/x2goshowblocks.8}     |    2 +-
 .../x2gostartagent.1 =&gt; man8/x2gostartagent.8}     |    2 +-
 .../x2gosuspend-session.8}                         |    2 +-
 .../x2goterminate-session.8}                       |    2 +-
 .../x2goumount-session.8}                          |    2 +-
 x2goserver/{x2gosqlitewrapper.c =&gt; x2goprint.c}    |   12 +++---
 x2goserver/x2gosqlitewrapper.c                     |    2 +-
 22 files changed, 73 insertions(+), 27 deletions(-)
 copy {x2goserver/lib =&gt; x2goserver-compat/bin}/x2gosuspend-agent (94%)
 copy x2goserver-extensions/man/{man1/x2gosetkeyboard.1 =&gt; man8/x2gosetkeyboard.8} (92%)
 copy x2goserver-extensions/man/{man1/x2goversion.1 =&gt; man8/x2goversion.8} (93%)
 copy x2goserver/{sbin =&gt; lib}/x2golistsessions_root (87%)
 rename x2goserver/{bin/x2goprint =&gt; lib/x2goprint.pl} (100%)
 copy x2goserver/{bin =&gt; lib}/x2gosessionlimit (100%)
 copy x2goserver/man/{man1/x2gocmdexitmessage.1 =&gt; man8/x2gocmdexitmessage.8} (87%)
 copy x2goserver/man/{man1/x2golistdesktops.1 =&gt; man8/x2golistdesktops.8} (87%)
 copy x2goserver/man/{man1/x2golistsessions.1 =&gt; man8/x2golistsessions.8} (87%)
 copy x2goserver/man/{man1/x2gomountdirs.1 =&gt; man8/x2gomountdirs.8} (87%)
 copy x2goserver/man/{man1/x2goprint.1 =&gt; man8/x2goprint.8} (87%)
 copy x2goserver/man/{man1/x2goresume-session.1 =&gt; man8/x2goresume-session.8} (88%)
 copy x2goserver/man/{man1/x2goruncommand.1 =&gt; man8/x2goruncommand.8} (87%)
 copy x2goserver/man/{man1/x2goruncommand.1 =&gt; man8/x2goshowblocks.8} (87%)
 copy x2goserver/man/{man1/x2gostartagent.1 =&gt; man8/x2gostartagent.8} (93%)
 copy x2goserver/man/{man1/x2gosuspend-session.1 =&gt; man8/x2gosuspend-session.8} (88%)
 copy x2goserver/man/{man1/x2goterminate-session.1 =&gt; man8/x2goterminate-session.8} (88%)
 copy x2goserver/man/{man1/x2goumount-session.1 =&gt; man8/x2goumount-session.8} (88%)
 copy x2goserver/{x2gosqlitewrapper.c =&gt; x2goprint.c} (83%)

The diff of changes is:
diff --git a/debian/changelog b/debian/changelog
index df05592..2739a45 100644
--- a/debian/changelog
+++ b/debian/changelog
@@ -32,6 +32,9 @@ x2goserver (3.0.99.5-0~x2go3) UNRELEASED; urgency=low
   * Fix for TERMINAL command execution if konsole (KDE4) is installed on the
     server (closes upstream issue #87).
   * Silence x2golistsessions on missing session.log files.
+  * Create x2goprint user/group on package installation, add same info to INSTALL howto.
+  * Change permissions on x2goprint, using 2755:root:x2goprint (setgid).
+  * Change X2go printing concept: use setgit and a sgid wrapper instead of sudo.
 
   [Martin Oehler]
   * Removes old debug code fragment, fixes x2golistsessions parsing.
diff --git a/debian/x2goserver.postinst b/debian/x2goserver.postinst
index 76cae94..f856e86 100755
--- a/debian/x2goserver.postinst
+++ b/debian/x2goserver.postinst
@@ -25,6 +25,10 @@ case &quot;$1&quot; in
 		touch     /etc/x2go/x2gosql/passwords/pgadmin
 		chmod 600 /etc/x2go/x2gosql/passwords/pgadmin
 
+		###
+		### X2go session DB management
+		###
+
 		# setup x2gouser and group
 		if ! getent group x2gouser &gt;/dev/null; then
 			echo &quot;Creating x2gouser group.&quot; &gt;&amp;2
@@ -46,7 +50,7 @@ case &quot;$1&quot; in
 			if [ &quot;`ls -1d ~x2gouser`&quot; != &quot;/var/lib/x2go&quot; ]; then
 				usermod --move-home --home /var/lib/x2go x2gouser
 			fi
-			# leave user shell alone. we have never set this wrongly
+			# we leave user shell alone. we have never set this wrongly
 			# and we need to respect the administrator's choices
 		fi
 
@@ -61,6 +65,8 @@ case &quot;$1&quot; in
 			chmod 0660 /var/lib/x2go/x2go_sessions
 		fi
 
+		### setgid section for x2gouser (SQLite DB access)
+
 		# we may be upgrading versions of x2goserver that had
 		# /usr/lib/x2go/x2gosqlitewrapper.pl set to setuid x2gouser.
 		if dpkg-statoverride --list /usr/lib/x2go/x2gosqlitewrapper.pl &gt;/dev/null; then
@@ -80,8 +86,45 @@ case &quot;$1&quot; in
 		if ! dpkg-statoverride --list /usr/lib/x2go/x2gosqlitewrapper &gt;/dev/null; then
 		    dpkg-statoverride --add --update root x2gouser 2755 /usr/lib/x2go/x2gosqlitewrapper
 		fi
+
+		###
+		### X2go printing
+		###
+
+		# setup x2goprint user and x2goprint group
+		if ! getent group x2goprint &gt;/dev/null; then
+			echo &quot;Creating x2goprint group.&quot; &gt;&amp;2
+			addgroup --system x2goprint
+		else
+			echo &quot;Group x2goprint already exists.&quot; &gt;&amp;2
+		fi
+		if ! getent passwd x2goprint &gt;/dev/null; then
+			echo &quot;Creating x2goprint user.&quot; &gt;&amp;2
+			adduser --system --no-create-home \
+			        --disabled-password --disabled-login \
+			        --shell /bin/false --group --home /var/spool/x2goprint x2goprint
+		else
+			echo &quot;User x2goprint already exists.&quot; &gt;&amp;2
+			# make sure all settings are appropriate
+			if [ &quot;`id -gn x2gprint`&quot; != &quot;x2goprint&quot; ]; then
+				usermod --gid x2goprint# x2goprint
+			fi
+			if [ &quot;`ls -1d ~x2goprint`&quot; != &quot;/var/spool/x2goprint&quot; ]; then
+				usermod --move-home --home /var/spool/x2goprint x2goprint
+			fi
+			# we leave user shell alone. we have never set this wrongly
+			# and we need to respect the administrator's choices
+		fi
+
+		### setgid section for x2goprint (X2go printing)
+
+		# the x2goprint command can only be run by users that are in group x2goprint
+		if ! dpkg-statoverride --list /usr/bin/x2goprint &gt;/dev/null; then
+		    dpkg-statoverride --add --update root x2goprint 2755 /usr/bin/x2goprint
+		fi
 		;;
 
+
 	abort-upgrade|abort-remove|abort-deconfigure)
 		;;
 
diff --git a/x2goserver/lib/x2gosuspend-agent b/x2goserver-compat/bin/x2gosuspend-agent
similarity index 94%
copy from x2goserver/lib/x2gosuspend-agent
copy to x2goserver-compat/bin/x2gosuspend-agent
index 272d819..9ca6d4f 100755
--- a/x2goserver/lib/x2gosuspend-agent
+++ b/x2goserver-compat/bin/x2gosuspend-agent
@@ -27,4 +27,4 @@ shift;
 my $capt=shift;
 my @words=split(&quot; &quot;,$capt);
 
-system(&quot;x2gosuspend-session @words[2] &gt; /dev/null&quot;);
\ No newline at end of file
+system(&quot;/usr/bin/x2gosuspend-session @words[2] &gt; /dev/null&quot;);
\ No newline at end of file
diff --git a/x2goserver-extensions/man/man1/x2gosetkeyboard.1 b/x2goserver-extensions/man/man8/x2gosetkeyboard.8
similarity index 92%
copy from x2goserver-extensions/man/man1/x2gosetkeyboard.1
copy to x2goserver-extensions/man/man8/x2gosetkeyboard.8
index f9e0f1f..702155f 100644
--- a/x2goserver-extensions/man/man1/x2gosetkeyboard.1
+++ b/x2goserver-extensions/man/man8/x2gosetkeyboard.8
@@ -5,7 +5,7 @@
 \\$2 \(la\\$1\(ra\\$3
 ..
 .if \n(.g .mso www.tmac
-.TH x2gosetkeyboard 1 &quot;31 May 2011&quot; &quot;Version 3.0.99.x&quot; &quot;X2go Server Tool (Extension)&quot;
+.TH x2gosetkeyboard 8 &quot;31 May 2011&quot; &quot;Version 3.0.99.x&quot; &quot;X2go Server Tool (Extension)&quot;
 .SH NAME
 x2gosetkeyboard \- Allow server-side Keyboard Setting Updates issued by X2go Client
 .SH SYNOPSIS
diff --git a/x2goserver-extensions/man/man1/x2goversion.1 b/x2goserver-extensions/man/man8/x2goversion.8
similarity index 93%
copy from x2goserver-extensions/man/man1/x2goversion.1
copy to x2goserver-extensions/man/man8/x2goversion.8
index a930ceb..bb07d83 100644
--- a/x2goserver-extensions/man/man1/x2goversion.1
+++ b/x2goserver-extensions/man/man8/x2goversion.8
@@ -5,7 +5,7 @@
 \\$2 \(la\\$1\(ra\\$3
 ..
 .if \n(.g .mso www.tmac
-.TH x2goversion 1 &quot;31 May 2011&quot; &quot;Version 3.0.99.x&quot; &quot;X2go Server Tool (Extension)&quot;
+.TH x2goversion 8 &quot;31 May 2011&quot; &quot;Version 3.0.99.x&quot; &quot;X2go Server Tool (Extension)&quot;
 .SH NAME
 x2goversion \- Retrieve Code Versions of X2go Server Components
 .SH SYNOPSIS
diff --git a/x2goserver/sbin/x2golistsessions_root b/x2goserver/lib/x2golistsessions_root
similarity index 87%
copy from x2goserver/sbin/x2golistsessions_root
copy to x2goserver/lib/x2golistsessions_root
index df92ff5..1e60493 100755
--- a/x2goserver/sbin/x2golistsessions_root
+++ b/x2goserver/lib/x2golistsessions_root
@@ -1,4 +1,5 @@
 #!/usr/bin/perl
+
 # Copyright (C) 2007-2011 X2go Project - <A HREF="http://wiki.x2go.org">http://wiki.x2go.org</A>
 #
 # This program is free software; you can redistribute it and/or modify
@@ -35,8 +36,6 @@ sub check_stat
 	return 1;
 }
 
-my $x2go_lib_path=`echo -n \$(x2gobasepath)/lib/x2go`;
-
 my $uname;
 
 my $serv=shift;
@@ -45,7 +44,8 @@ if ( ! $serv)
 	$serv=hostname;
 }
 
-my $outp=`$x2go_lib_path/x2golistsessions_sql $serv 2&gt;/dev/null`;
+my $outp=`x2golistsessions_sql $serv 2&gt;/dev/null`;
+
 
 my @outp=split(&quot;\n&quot;,&quot;$outp&quot;);
 
@@ -62,7 +62,7 @@ for (my $i=0;$i&lt;@outp;$i++)
 		{
 			if (!check_stat(@sinfo[1]<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">, at sinfo</A>[11]))
 			{
-				system(&quot;su - @sinfo[11] -c \&quot;$x2go_lib_path/x2gochangestatus 'S' @sinfo[1]\&quot; &gt; /dev/null&quot;);
+				system(&quot;su - @sinfo[11] -c \&quot;x2gochangestatus 'S' @sinfo[1]\&quot; &gt; /dev/null&quot;);
 				@outp[$i] =~ s/\|R\|/\|S\|/;
 			}
 		}
diff --git a/x2goserver/bin/x2goprint b/x2goserver/lib/x2goprint.pl
similarity index 100%
rename from x2goserver/bin/x2goprint
rename to x2goserver/lib/x2goprint.pl
diff --git a/x2goserver/bin/x2gosessionlimit b/x2goserver/lib/x2gosessionlimit
similarity index 100%
copy from x2goserver/bin/x2gosessionlimit
copy to x2goserver/lib/x2gosessionlimit
diff --git a/x2goserver/man/man1/x2gocmdexitmessage.1 b/x2goserver/man/man8/x2gocmdexitmessage.8
similarity index 87%
copy from x2goserver/man/man1/x2gocmdexitmessage.1
copy to x2goserver/man/man8/x2gocmdexitmessage.8
index 1c28470..14681ba 100644
--- a/x2goserver/man/man1/x2gocmdexitmessage.1
+++ b/x2goserver/man/man8/x2gocmdexitmessage.8
@@ -5,7 +5,7 @@
 \\$2 \(la\\$1\(ra\\$3
 ..
 .if \n(.g .mso www.tmac
-.TH x2gocmdexitmessage 1 &quot;July 2011&quot; &quot;Version 3.0.99.x&quot; &quot;X2go Server Tool&quot;
+.TH x2gocmdexitmessage 8 &quot;July 2011&quot; &quot;Version 3.0.99.x&quot; &quot;X2go Server Tool&quot;
 .SH NAME
 x2goexitmessage \- X2go Server Script
 .SH SYNOPSIS
diff --git a/x2goserver/man/man1/x2golistdesktops.1 b/x2goserver/man/man8/x2golistdesktops.8
similarity index 87%
copy from x2goserver/man/man1/x2golistdesktops.1
copy to x2goserver/man/man8/x2golistdesktops.8
index c1bab38..1436bda 100644
--- a/x2goserver/man/man1/x2golistdesktops.1
+++ b/x2goserver/man/man8/x2golistdesktops.8
@@ -5,7 +5,7 @@
 \\$2 \(la\\$1\(ra\\$3
 ..
 .if \n(.g .mso www.tmac
-.TH x2golistdesktops 1 &quot;July 2011&quot; &quot;Version 3.0.99.x&quot; &quot;X2go Server Tool&quot;
+.TH x2golistdesktops 8 &quot;July 2011&quot; &quot;Version 3.0.99.x&quot; &quot;X2go Server Tool&quot;
 .SH NAME
 x2golistdesktops \- X2go Server Script
 .SH SYNOPSIS
diff --git a/x2goserver/man/man1/x2golistsessions.1 b/x2goserver/man/man8/x2golistsessions.8
similarity index 87%
copy from x2goserver/man/man1/x2golistsessions.1
copy to x2goserver/man/man8/x2golistsessions.8
index 7dfd17d..54f85b3 100644
--- a/x2goserver/man/man1/x2golistsessions.1
+++ b/x2goserver/man/man8/x2golistsessions.8
@@ -5,7 +5,7 @@
 \\$2 \(la\\$1\(ra\\$3
 ..
 .if \n(.g .mso www.tmac
-.TH x2golistsessions 1 &quot;18 May 2011&quot; &quot;Version 3.0.99.x&quot; &quot;X2go Server Tool&quot;
+.TH x2golistsessions 8 &quot;18 May 2011&quot; &quot;Version 3.0.99.x&quot; &quot;X2go Server Tool&quot;
 .SH NAME
 x2golistsessions \- X2go Server Script
 .SH SYNOPSIS
diff --git a/x2goserver/man/man1/x2gomountdirs.1 b/x2goserver/man/man8/x2gomountdirs.8
similarity index 87%
copy from x2goserver/man/man1/x2gomountdirs.1
copy to x2goserver/man/man8/x2gomountdirs.8
index f8bb5f8..fec5c97 100644
--- a/x2goserver/man/man1/x2gomountdirs.1
+++ b/x2goserver/man/man8/x2gomountdirs.8
@@ -5,7 +5,7 @@
 \\$2 \(la\\$1\(ra\\$3
 ..
 .if \n(.g .mso www.tmac
-.TH x2gomountdirs 1 &quot;18 May 2011&quot; &quot;Version 3.0.99.x&quot; &quot;X2go Server Tool&quot;
+.TH x2gomountdirs 8 &quot;18 May 2011&quot; &quot;Version 3.0.99.x&quot; &quot;X2go Server Tool&quot;
 .SH NAME
 x2gomountdirs \- X2go Server Script
 .SH SYNOPSIS
diff --git a/x2goserver/man/man1/x2goprint.1 b/x2goserver/man/man8/x2goprint.8
similarity index 87%
copy from x2goserver/man/man1/x2goprint.1
copy to x2goserver/man/man8/x2goprint.8
index d1e09c2..542aa2c 100644
--- a/x2goserver/man/man1/x2goprint.1
+++ b/x2goserver/man/man8/x2goprint.8
@@ -5,7 +5,7 @@
 \\$2 \(la\\$1\(ra\\$3
 ..
 .if \n(.g .mso www.tmac
-.TH x2goprint 1 &quot;18 May 2011&quot; &quot;Version 3.0.99.x&quot; &quot;X2go Server Tool&quot;
+.TH x2goprint 8 &quot;18 May 2011&quot; &quot;Version 3.0.99.x&quot; &quot;X2go Server Tool&quot;
 .SH NAME
 x2goprint \- X2go Server Script
 .SH SYNOPSIS
diff --git a/x2goserver/man/man1/x2goresume-session.1 b/x2goserver/man/man8/x2goresume-session.8
similarity index 88%
copy from x2goserver/man/man1/x2goresume-session.1
copy to x2goserver/man/man8/x2goresume-session.8
index f12d0a9..f18f421 100644
--- a/x2goserver/man/man1/x2goresume-session.1
+++ b/x2goserver/man/man8/x2goresume-session.8
@@ -5,7 +5,7 @@
 \\$2 \(la\\$1\(ra\\$3
 ..
 .if \n(.g .mso www.tmac
-.TH x2goresume-session 1 &quot;18 May 2011&quot; &quot;Version 3.0.99.x&quot; &quot;X2go Server Tool&quot;
+.TH x2goresume-session 8 &quot;18 May 2011&quot; &quot;Version 3.0.99.x&quot; &quot;X2go Server Tool&quot;
 .SH NAME
 x2goresume-session \- X2go Server Script
 .SH SYNOPSIS
diff --git a/x2goserver/man/man1/x2goruncommand.1 b/x2goserver/man/man8/x2goruncommand.8
similarity index 87%
copy from x2goserver/man/man1/x2goruncommand.1
copy to x2goserver/man/man8/x2goruncommand.8
index 145b238..370d907 100644
--- a/x2goserver/man/man1/x2goruncommand.1
+++ b/x2goserver/man/man8/x2goruncommand.8
@@ -5,7 +5,7 @@
 \\$2 \(la\\$1\(ra\\$3
 ..
 .if \n(.g .mso www.tmac
-.TH x2goruncommand 1 &quot;18 May 2011&quot; &quot;Version 3.0.99.x&quot; &quot;X2go Server Tool&quot;
+.TH x2goruncommand 8 &quot;18 May 2011&quot; &quot;Version 3.0.99.x&quot; &quot;X2go Server Tool&quot;
 .SH NAME
 x2goruncommand \- X2go Server Script
 .SH SYNOPSIS
diff --git a/x2goserver/man/man1/x2goruncommand.1 b/x2goserver/man/man8/x2goshowblocks.8
similarity index 87%
copy from x2goserver/man/man1/x2goruncommand.1
copy to x2goserver/man/man8/x2goshowblocks.8
index 145b238..370d907 100644
--- a/x2goserver/man/man1/x2goruncommand.1
+++ b/x2goserver/man/man8/x2goshowblocks.8
@@ -5,7 +5,7 @@
 \\$2 \(la\\$1\(ra\\$3
 ..
 .if \n(.g .mso www.tmac
-.TH x2goruncommand 1 &quot;18 May 2011&quot; &quot;Version 3.0.99.x&quot; &quot;X2go Server Tool&quot;
+.TH x2goruncommand 8 &quot;18 May 2011&quot; &quot;Version 3.0.99.x&quot; &quot;X2go Server Tool&quot;
 .SH NAME
 x2goruncommand \- X2go Server Script
 .SH SYNOPSIS
diff --git a/x2goserver/man/man1/x2gostartagent.1 b/x2goserver/man/man8/x2gostartagent.8
similarity index 93%
copy from x2goserver/man/man1/x2gostartagent.1
copy to x2goserver/man/man8/x2gostartagent.8
index 16f0a8c..6a84a72 100644
--- a/x2goserver/man/man1/x2gostartagent.1
+++ b/x2goserver/man/man8/x2gostartagent.8
@@ -5,7 +5,7 @@
 \\$2 \(la\\$1\(ra\\$3
 ..
 .if \n(.g .mso www.tmac
-.TH x2gostartagent 1 &quot;18 May 2011&quot; &quot;Version 3.0.99.x&quot; &quot;X2go Server Tool&quot;
+.TH x2gostartagent 8 &quot;18 May 2011&quot; &quot;Version 3.0.99.x&quot; &quot;X2go Server Tool&quot;
 .SH NAME
 x2gostartagent \- X2go Server Script
 .SH SYNOPSIS
diff --git a/x2goserver/man/man1/x2gosuspend-session.1 b/x2goserver/man/man8/x2gosuspend-session.8
similarity index 88%
copy from x2goserver/man/man1/x2gosuspend-session.1
copy to x2goserver/man/man8/x2gosuspend-session.8
index aeee450..ec4aa2c 100644
--- a/x2goserver/man/man1/x2gosuspend-session.1
+++ b/x2goserver/man/man8/x2gosuspend-session.8
@@ -5,7 +5,7 @@
 \\$2 \(la\\$1\(ra\\$3
 ..
 .if \n(.g .mso www.tmac
-.TH x2gosuspend-session 1 &quot;18 May 2011&quot; &quot;Version 3.0.99.x&quot; &quot;X2go Server Tool&quot;
+.TH x2gosuspend-session 8 &quot;18 May 2011&quot; &quot;Version 3.0.99.x&quot; &quot;X2go Server Tool&quot;
 .SH NAME
 x2gosuspend-session \- X2go Server Script
 .SH SYNOPSIS
diff --git a/x2goserver/man/man1/x2goterminate-session.1 b/x2goserver/man/man8/x2goterminate-session.8
similarity index 88%
copy from x2goserver/man/man1/x2goterminate-session.1
copy to x2goserver/man/man8/x2goterminate-session.8
index 60f53fa..2bfcce8 100644
--- a/x2goserver/man/man1/x2goterminate-session.1
+++ b/x2goserver/man/man8/x2goterminate-session.8
@@ -5,7 +5,7 @@
 \\$2 \(la\\$1\(ra\\$3
 ..
 .if \n(.g .mso www.tmac
-.TH x2goterminate-session 1 &quot;18 May 2011&quot; &quot;Version 3.0.99.x&quot; &quot;X2go Server Tool&quot;
+.TH x2goterminate-session 8 &quot;18 May 2011&quot; &quot;Version 3.0.99.x&quot; &quot;X2go Server Tool&quot;
 .SH NAME
 x2goterminate-session \- X2go Server Script
 .SH SYNOPSIS
diff --git a/x2goserver/man/man1/x2goumount-session.1 b/x2goserver/man/man8/x2goumount-session.8
similarity index 88%
copy from x2goserver/man/man1/x2goumount-session.1
copy to x2goserver/man/man8/x2goumount-session.8
index baef86b..8e8fe0d 100644
--- a/x2goserver/man/man1/x2goumount-session.1
+++ b/x2goserver/man/man8/x2goumount-session.8
@@ -5,7 +5,7 @@
 \\$2 \(la\\$1\(ra\\$3
 ..
 .if \n(.g .mso www.tmac
-.TH x2goumount-session 1 &quot;18 May 2011&quot; &quot;Version 3.0.99.x&quot; &quot;X2go Server Tool&quot;
+.TH x2goumount-session 8 &quot;18 May 2011&quot; &quot;Version 3.0.99.x&quot; &quot;X2go Server Tool&quot;
 .SH NAME
 x2goumount-session \- X2go Server Script
 .SH SYNOPSIS
diff --git a/x2goserver/x2gosqlitewrapper.c b/x2goserver/x2goprint.c
similarity index 83%
copy from x2goserver/x2gosqlitewrapper.c
copy to x2goserver/x2goprint.c
index 63320f1..8f177ca 100644
--- a/x2goserver/x2gosqlitewrapper.c
+++ b/x2goserver/x2goprint.c
@@ -31,7 +31,7 @@
 
 
 int main( int argc, char *argv[] ) {
-	char * x2gosqlitewrapper = NULL;
+	char * x2goprint = NULL;
 	size_t path_max;
 	
 /*
@@ -58,13 +58,13 @@ int main( int argc, char *argv[] ) {
 			exit(EXIT_FAILURE);
 		}
 		if(rvrl &gt;= path_max){
-			fprintf(stderr, &quot;Could not resolve the path of this file using \&quot;/proc/self/exe\&quot;. The path is to long (&gt; %i)&quot;, path_max);
+			fprintf(stderr, &quot;Could not resolve the path of this file using \&quot;/proc/self/exe\&quot;. The path is too long (&gt; %i)&quot;, path_max);
 			exit(EXIT_FAILURE);
 		}
 
 
-		// derive the full path of x2gosqlitewrapper.pl from path of this binary
-		rvap = asprintf(&amp;x2gosqlitewrapper, &quot;%s/%s&quot;, dirname(buffer), &quot;x2gosqlitewrapper.pl&quot;);
+		// derive the full path of x2goprint.pl from path of this binary
+		rvap = asprintf(&amp;x2goprint, &quot;%s/../lib/x2go/%s&quot;, dirname(buffer), &quot;x2goprint.pl&quot;);
 		if(rvap == -1){
 			fprintf(stderr, &quot;Failed to allocate memory calling asprintf\n&quot;);
 			exit(EXIT_FAILURE);
@@ -72,12 +72,12 @@ int main( int argc, char *argv[] ) {
 
 
 		// execute the script, running with user-rights of this binary 
-		execv(x2gosqlitewrapper, argv);
+		execv(x2goprint, argv);
 
 	}
 
 	// ...fail
-	fprintf(stderr, &quot;Failed to execute %s: %s\n&quot;, x2gosqlitewrapper, strerror(errno));
+	fprintf(stderr, &quot;Failed to execute %s: %s\n&quot;, x2goprint, strerror(errno));
 	return EXIT_FAILURE;
 
 }
diff --git a/x2goserver/x2gosqlitewrapper.c b/x2goserver/x2gosqlitewrapper.c
index 63320f1..95e2a8a 100644
--- a/x2goserver/x2gosqlitewrapper.c
+++ b/x2goserver/x2gosqlitewrapper.c
@@ -58,7 +58,7 @@ int main( int argc, char *argv[] ) {
 			exit(EXIT_FAILURE);
 		}
 		if(rvrl &gt;= path_max){
-			fprintf(stderr, &quot;Could not resolve the path of this file using \&quot;/proc/self/exe\&quot;. The path is to long (&gt; %i)&quot;, path_max);
+			fprintf(stderr, &quot;Could not resolve the path of this file using \&quot;/proc/self/exe\&quot;. The path is too long (&gt; %i)&quot;, path_max);
 			exit(EXIT_FAILURE);
 		}
 


hooks/post-receive
-- 
x2goserver.git (X2go Server)

This is an automated email from the git hooks/post-receive script. It was
generated because a ref change was pushed to the repository containing
the project &quot;x2goserver.git&quot; (X2go Server).


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001385.html">[X2go-Commits] x2gothinclient.git - master (branch) updated:	7644a08988d56df5afa229ed8e67c59a0b923bf2
</A></li>
	<LI>Next message: <A HREF="001387.html">[X2go-Commits] x2goserver.git - master (branch) updated:	3.0.99-2-200-g656dc5c
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1386">[ date ]</a>
              <a href="thread.html#1386">[ thread ]</a>
              <a href="subject.html#1386">[ subject ]</a>
              <a href="author.html#1386">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/x2go-commits">More information about the X2go-commits
mailing list</a><br>
</body></html>
