<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [X2go-Commits] nx-libs.git - client-only (branch) updated:	86f50fa1187c3910a98f84d437cdf7aaa0b063df
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/x2go-commits/2011-December/index.html" >
   <LINK REL="made" HREF="mailto:x2go-commits%40lists.berlios.de?Subject=Re%3A%20%5BX2go-Commits%5D%20nx-libs.git%20-%20client-only%20%28branch%29%20updated%3A%0A%0986f50fa1187c3910a98f84d437cdf7aaa0b063df&In-Reply-To=%3C20111231153033.EB2C95DB1F%40ymir%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002063.html">
   <LINK REL="Next"  HREF="002065.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[X2go-Commits] nx-libs.git - client-only (branch) updated:	86f50fa1187c3910a98f84d437cdf7aaa0b063df</H1>
    <B>X2go dev team</B> 
    <A HREF="mailto:x2go-commits%40lists.berlios.de?Subject=Re%3A%20%5BX2go-Commits%5D%20nx-libs.git%20-%20client-only%20%28branch%29%20updated%3A%0A%0986f50fa1187c3910a98f84d437cdf7aaa0b063df&In-Reply-To=%3C20111231153033.EB2C95DB1F%40ymir%3E"
       TITLE="[X2go-Commits] nx-libs.git - client-only (branch) updated:	86f50fa1187c3910a98f84d437cdf7aaa0b063df">git-admin at x2go.org
       </A><BR>
    <I>Sat Dec 31 16:30:33 CET 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="002063.html">[X2go-Commits] nx-libs.git - master (branch) updated:	nxproxy/3.5.0-1-174-g82e5023
</A></li>
        <LI>Next message: <A HREF="002065.html">[X2go-Commits] nx-libs.git - client-only (branch) updated:	ceea80470b00ebf98b876f4a93e6bbf0529603fe
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2064">[ date ]</a>
              <a href="thread.html#2064">[ thread ]</a>
              <a href="subject.html#2064">[ subject ]</a>
              <a href="author.html#2064">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>The branch, client-only has been updated
       via  86f50fa1187c3910a98f84d437cdf7aaa0b063df (commit)
      from  63ffe689643c5bc94a357aa4ad71edc910881bc8 (commit)

Those revisions listed above that are new to this repository have
not appeared on any other notification email; so we list those
revisions in full, below.

- Log -----------------------------------------------------------------
commit 86f50fa1187c3910a98f84d437cdf7aaa0b063df
Author: Mike Gabriel &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">mike.gabriel at das-netzwerkteam.de</A>&gt;
Date:   Sat Dec 31 16:30:24 2011 +0100

    add /debian folder

-----------------------------------------------------------------------

Summary of changes:
 debian/README.source                               |   29 +++++++++
 debian/bin/nxproxy                                 |   24 ++++++++
 debian/changelog                                   |   38 ++++++++++++
 debian/compat                                      |    1 +
 debian/control                                     |   63 ++++++++++++++++++++
 debian/copyright                                   |   59 ++++++++++++++++++
 debian/libxcomp-dev.install                        |    4 +
 debian/libxcomp-dev.links                          |    1 +
 debian/libxcomp-dev.lintian-overrides              |    2 +
 debian/libxcomp3.docs                              |    1 +
 debian/libxcomp3.install                           |    2 +
 debian/libxcomp3.links                             |    3 +
 debian/libxcomp3.lintian-overrides                 |    1 +
 debian/man/nxproxy.1                               |   27 ++++++++
 debian/nxproxy.dirs                                |    2 +
 debian/nxproxy.docs                                |    4 +
 debian/nxproxy.install                             |    3 +
 debian/nxproxy.lintian-overrides                   |    1 +
 debian/nxproxy.manpages                            |    1 +
 debian/patches/001_add-main-makefile.patch         |   51 ++++++++++++++++
 debian/patches/012_nxcomp_makefile-uninstall.patch |   63 ++++++++++++++++++++
 .../patches/015_nxproxy_makefile-uninstall.patch   |   40 ++++++++++++
 debian/patches/series                              |    3 +
 debian/post-build-nx.sh                            |    3 +
 debian/pre-build-nx.sh                             |    7 ++
 debian/rules                                       |   34 +++++++++++
 debian/source/format                               |    1 +
 debian/watch.nxcomp                                |    3 +
 debian/watch.nxproxy                               |    3 +
 29 files changed, 474 insertions(+), 0 deletions(-)
 create mode 100644 debian/README.source
 create mode 100755 debian/bin/nxproxy
 create mode 100644 debian/changelog
 create mode 100644 debian/compat
 create mode 100644 debian/control
 create mode 100644 debian/copyright
 create mode 100644 debian/libxcomp-dev.install
 create mode 100644 debian/libxcomp-dev.links
 create mode 100644 debian/libxcomp-dev.lintian-overrides
 create mode 100644 debian/libxcomp3.docs
 create mode 100644 debian/libxcomp3.install
 create mode 100644 debian/libxcomp3.links
 create mode 100644 debian/libxcomp3.lintian-overrides
 create mode 100644 debian/man/nxproxy.1
 create mode 100644 debian/nxproxy.dirs
 create mode 100644 debian/nxproxy.docs
 create mode 100644 debian/nxproxy.install
 create mode 100644 debian/nxproxy.lintian-overrides
 create mode 100644 debian/nxproxy.manpages
 create mode 100644 debian/patches/001_add-main-makefile.patch
 create mode 100644 debian/patches/012_nxcomp_makefile-uninstall.patch
 create mode 100644 debian/patches/015_nxproxy_makefile-uninstall.patch
 create mode 100644 debian/patches/series
 create mode 100755 debian/post-build-nx.sh
 create mode 100755 debian/pre-build-nx.sh
 create mode 100755 debian/rules
 create mode 100644 debian/source/format
 create mode 100644 debian/watch.nxcomp
 create mode 100644 debian/watch.nxproxy

The diff of changes is:
diff --git a/debian/README.source b/debian/README.source
new file mode 100644
index 0000000..7f94922
--- /dev/null
+++ b/debian/README.source
@@ -0,0 +1,29 @@
+UPSTREAM SOURCES
+----------------
+The current upstream source for this package is NoMachine.
+<A HREF="http://www.nomachine.com/sources.php">http://www.nomachine.com/sources.php</A>
+
+
+PACKAGE SOURCE TREE
+-------------------
+This package pulls in 2 source tarballs from NoMachine:
+
+  nxcomp
+  nxproxy
+
+These two package are the minimal requirement for using
+client-side NX applications like kNX, qtnx, x2goclient or
+pyhoca-gui.
+
+
+PATCH SYSTEM
+------------
+This package uses quilt to manage all modifications to the upstream source.
+Changes are stored in the source package as diffs in debian/patches and
+applied during the build.
+
+See /usr/share/doc/quilt/README.source for a detailed explanation.
+
+
+
+X2Go Packaging Team / Mike Gabriel (20111231)
\ No newline at end of file
diff --git a/debian/bin/nxproxy b/debian/bin/nxproxy
new file mode 100755
index 0000000..06765a8
--- /dev/null
+++ b/debian/bin/nxproxy
@@ -0,0 +1,24 @@
+#!/bin/bash
+
+# Copyright (C) 2012 Mike Gabriel &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">mike.gabriel at das-netzwerkteam.de</A>&gt;
+#
+# This program is free software: you can redistribute it and/or modify
+# it under the terms of the GNU General Public License as published by
+# the Free Software Foundation, either version 3 of the License, or
+# (at your option) any later version.
+#
+# This program is distributed in the hope that it will be useful,
+# but WITHOUT ANY WARRANTY; without even the implied warranty of
+# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+# GNU General Public License for more details.
+#
+# You should have received a copy of the GNU General Public License
+# along with this program.  If not, see <A HREF="http://www.gnu.org/licenses/.">http://www.gnu.org/licenses/.</A>
+
+NX_LIBS=/usr/lib/nx
+LD_LIBRARY_PATH=/usr/lib/nx:/usr/lib/nx/X11:$LD_LIBRARY_PATH
+
+export NX_LIBS
+export LD_LIBRARY_PATH
+
+exec /usr/lib/nx/nxproxy &quot;$@&quot;
diff --git a/debian/changelog b/debian/changelog
new file mode 100644
index 0000000..27f5353
--- /dev/null
+++ b/debian/changelog
@@ -0,0 +1,38 @@
+nx-libs-client-only (3.5.0-1) UNRELEASED; urgency=low
+
+  * Initial release.
+    - nxcomp (3.5.0-2)
+    - nxproxy (3.5.0-1)
+  * Use NX adapted LD_LIBRARY_PATH in debian/rules.
+  * Add quilt as build dependency.
+  * Add main Makefile via patch: 001_add-main-makefile.patch.
+  * Fix for lintian issue: missing-build-dependency quilt (&gt;= 0.46-7~).
+  * Remove unknown option --with from dh_auto_clean.
+  * Add autoconf as build dependency.
+  * Add patch: 008_add-nxproxy-wrapper.patch. Build nxproxy package.
+  * Add patch: 009_nxproxy-add-man-page.patch.
+  * Add nxproxy man page to nxproxy package.
+  * Add lintian overrides for libxcomp*: breaks-without-version.
+  * Add patch: 012_nxcomp_makefile-uninstall.patch.
+  * Add patch: 015_nxproxy_makefile-uninstall.patch.
+  * Add install/uninstall stanza to main Makefile (via patch
+    001_add-main-makefile.patch).
+  * Add lintian-overrides for every package. Override lintian warning:
+    possible-new-upstream-release-without-new-version as there will
+    be new upstream releases of NX subprojects that will not require
+    a version increment of the Debian package.
+  * Add individual watch files for NX components in this source package.
+  * Add README.source file, fixes lintian warning:
+    patch-system-but-no-source-readme.
+  * Add upstream CHANGELOG files to all .deb packages of this source package.
+  * Make sure upstream changelog file names are in lower case.
+  * Fix LD_LIBRARY_PATH export in wrapper scripts/patches.
+  * X2Go Packaging Team becomes maintainer, Mike Gabriel + Reinhard Tartler
+    become uploaders.
+  * Make `breaks-without-version' lintian overrides needless.
+  * Set homepage of NoMachine upstream site (using <A HREF="http://www.nomachine.com/sources.php">http://www.nomachine.com/sources.php</A>).
+  * Packaging Vcs has been relocated to Alioth.
+  * Add more upstream source information to README.source.
+  * Make package descriptions in /debian/control more explanatory.
+
+ -- Mike Gabriel &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">mike.gabriel at das-netzwerkteam.de</A>&gt;  Wed, 28 Dec 2011 19:05:48 +0100
diff --git a/debian/compat b/debian/compat
new file mode 100644
index 0000000..7f8f011
--- /dev/null
+++ b/debian/compat
@@ -0,0 +1 @@
+7
diff --git a/debian/control b/debian/control
new file mode 100644
index 0000000..1bb5673
--- /dev/null
+++ b/debian/control
@@ -0,0 +1,63 @@
+Source: nx-libs-client-only
+Section: x11
+Priority: extra
+Maintainer: X2Go Packaging Team &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">pkg-x2go-devel at lists.alioth.debian.org</A>&gt;
+Uploaders:
+ Reinhard Tartler &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">siretart at tauware.de</A>&gt;,
+ Mike Gabriel &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">mike.gabriel at das-netzwerkteam.de</A>&gt;
+Build-Depends:
+ debhelper (&gt;= 7.0.50~),
+ libpng-dev,
+ libjpeg-dev,
+ zlib1g-dev,
+ quilt (&gt;= 0.46-7~),
+ autoconf
+Standards-Version: 3.9.2
+Homepage: <A HREF="http://www.nomachine.com/sources.php">http://www.nomachine.com/sources.php</A>
+Vcs-Git: <A HREF="git://git.debian.org/git/collab-maint/x2go/nx-libs.git">git://git.debian.org/git/collab-maint/x2go/nx-libs.git</A>
+Vcs-Browser: <A HREF="http://anonscm.debian.org/gitweb/?p=collab-maint/x2go/nx-libs.git;a=summary">http://anonscm.debian.org/gitweb/?p=collab-maint/x2go/nx-libs.git;a=summary</A>
+
+Package: nxproxy
+Architecture: any
+Depends:
+ libxcomp3 (&gt;= ${source:Version}), libxcomp3 (&lt;&lt; ${source:Version}.1~),
+ ${shlibs:Depends},
+ ${misc:Depends}
+Description: NX proxy (NoMachine)
+ NX is a software suite from NoMachine which implements very efficient
+ compression of the X11 protocol. This increases performance when
+ using X applications over a network, especially a slow one.
+ .
+ This package provides the NX proxy (client) binary.
+
+Package: libxcomp3
+Architecture: any
+Depends:
+ libx11-6,
+ ${shlibs:Depends},
+ ${misc:Depends}
+Breaks: nxcomp (&lt;=3.5.1)
+Replaces: nxcomp
+Description: NX X compression library
+ NX is a software suite from NoMachine which implements very efficient
+ compression of the X11 protocol. This increases performance when
+ using X applications over a network, especially a slow one.
+ .
+ This package provides the compression library.
+
+Package: libxcomp-dev
+Section: libdevel
+Architecture: any
+Depends:
+ libxcomp3 (= ${binary:Version}),
+ ${misc:Depends}
+Breaks: nxcomp-dev (&lt;=3.5.1)
+Replaces: nxcomp-dev
+Description: NX X compression library headers
+ NX is a software suite from NoMachine which implements very efficient
+ compression of the X11 protocol. This increases performance when
+ using X applications over a network, especially a slow one.
+ .
+ This package provides the compression library (header files).
+
+
diff --git a/debian/copyright b/debian/copyright
new file mode 100644
index 0000000..bbb5368
--- /dev/null
+++ b/debian/copyright
@@ -0,0 +1,59 @@
+This package was created by Mike Gabriel &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">mike.gabriel at das-netzwerkteam.de</A>&gt; on Thu Oct  10 22:53:56 CEST 2011
+
+The software components were downloaded from <A HREF="http://www.nomachine.com/sources.php">http://www.nomachine.com/sources.php</A>
+
+Copyright (c) 2001-2011 NoMachine, <A HREF="http://www.nomachine.com/.">http://www.nomachine.com/.</A>
+
+   This program is free software; you can redistribute it and/or modify it
+   under the terms of the GNU General Public License as published by the Free
+   Software Foundation; either version 2 of the License, or (at your option)
+   any later version.
+
+   This program is distributed in the hope that it will be useful, but WITHOUT
+   ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
+   FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for
+   more details.
+
+   You should have received a copy of the GNU General Public License along with
+   this program; if not, write to the Free Software Foundation, Inc., 51
+   Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.
+
+Parts of this software are derived from DXPC project. These copyright
+notices apply to original DXPC code:
+
+   Redistribution and use in source and binary forms are permitted provided
+   that the above copyright notice and this paragraph are duplicated in all
+   such forms.
+
+   THIS SOFTWARE IS PROVIDED ``AS IS'' AND WITHOUT ANY EXPRESS OR IMPLIED
+   WARRANTIES, INCLUDING, WITHOUT LIMITATION, THE IMPLIED WARRANTIES OF
+   MERCHANTIBILITY AND FITNESS FOR A PARTICULAR PURPOSE.
+
+   Copyright (c) 1995,1996 Brian Pane
+   Copyright (c) 1996,1997 Zachary Vonler and Brian Pane
+   Copyright (c) 1999 Kevin Vigor and Brian Pane
+   Copyright (c) 2000,2001 Gian Filippo Pinzari and Brian Pane
+
+The files MD5.[ch] are copyright (C) 1999, 2000, 2002 Aladdin Enterprises.
+
+  This software is provided 'as-is', without any express or implied
+  warranty.  In no event will the authors be held liable for any damages
+  arising from the use of this software.
+
+  Permission is granted to anyone to use this software for any purpose,
+  including commercial applications, and to alter it and redistribute it
+  freely, subject to the following restrictions:
+
+  1. The origin of this software must not be misrepresented; you must not
+     claim that you wrote the original software. If you use this software
+     in a product, an acknowledgment in the product documentation would be
+     appreciated but is not required.
+  2. Altered source versions must be plainly marked as such, and must not be
+     misrepresented as being the original software.
+  3. This notice may not be removed or altered from any source distribution.
+
+
+The packaging for Debian is copyright 2011 Mike Gabriel and is released
+under the GPL version 2. On Debian systems, the complete text of the GNU
+General Public License can be found in `/usr/share/common-licenses/GPL'.
+
diff --git a/debian/libxcomp-dev.install b/debian/libxcomp-dev.install
new file mode 100644
index 0000000..dd9b01d
--- /dev/null
+++ b/debian/libxcomp-dev.install
@@ -0,0 +1,4 @@
+nxcomp/libXcomp.so	usr/lib/nx
+nxcomp/libXcomp.a	usr/lib/nx
+nxcomp/NX*.h		usr/include/nx
+nxcomp/MD5.h		usr/include/nx
diff --git a/debian/libxcomp-dev.links b/debian/libxcomp-dev.links
new file mode 100644
index 0000000..85dd7d7
--- /dev/null
+++ b/debian/libxcomp-dev.links
@@ -0,0 +1 @@
+usr/share/doc/libxcomp3 usr/share/doc/libxcomp-dev
diff --git a/debian/libxcomp-dev.lintian-overrides b/debian/libxcomp-dev.lintian-overrides
new file mode 100644
index 0000000..e49d5c6
--- /dev/null
+++ b/debian/libxcomp-dev.lintian-overrides
@@ -0,0 +1,2 @@
+libxcomp-dev: possible-new-upstream-release-without-new-version
+
diff --git a/debian/libxcomp3.docs b/debian/libxcomp3.docs
new file mode 100644
index 0000000..97efc9f
--- /dev/null
+++ b/debian/libxcomp3.docs
@@ -0,0 +1 @@
+nxcomp/changelog
diff --git a/debian/libxcomp3.install b/debian/libxcomp3.install
new file mode 100644
index 0000000..bef21a1
--- /dev/null
+++ b/debian/libxcomp3.install
@@ -0,0 +1,2 @@
+nxcomp/libXcomp.so.3.* usr/lib/nx
+nxcomp/libXcomp.so.3 usr/lib/nx
diff --git a/debian/libxcomp3.links b/debian/libxcomp3.links
new file mode 100644
index 0000000..4a141a2
--- /dev/null
+++ b/debian/libxcomp3.links
@@ -0,0 +1,3 @@
+usr/lib/nx/libXcomp.so.3 usr/lib/libXcomp.so.3
+usr/lib/nx/libXcomp.so.3.5.0 usr/lib/libXcomp.so.3.5.0
+
diff --git a/debian/libxcomp3.lintian-overrides b/debian/libxcomp3.lintian-overrides
new file mode 100644
index 0000000..6cf797d
--- /dev/null
+++ b/debian/libxcomp3.lintian-overrides
@@ -0,0 +1 @@
+libxcomp3: possible-new-upstream-release-without-new-version
diff --git a/debian/man/nxproxy.1 b/debian/man/nxproxy.1
new file mode 100644
index 0000000..5394b28
--- /dev/null
+++ b/debian/man/nxproxy.1
@@ -0,0 +1,27 @@
+'\&quot; -*- coding: utf-8 -*-
+.if \n(.g .ds T&lt; \\FC
+.if \n(.g .ds T&gt; \\F[\n[.fam]]
+.de URL
+\\$2 \(la\\$1\(ra\\$3
+..
+.if \n(.g .mso www.tmac
+.TH nxproxy 1 &quot;Nov 2011&quot; &quot;Version 3.5.0&quot; &quot;NX Proxy&quot;
+.SH NAME
+nxproxy \- NX Proxy Tool
+.SH SYNOPSIS
+'nh
+.fi
+.ad l
+\fBnxproxy\fR  &lt;options&gt;
+
+.SH DESCRIPTION
+\fBnxproxy\fR is a tool that allows to tunnel X sessions through
+the NX compression libraries. \fBnxproxy\fR is a backend application
+utilized by the X2goClient GUI and some other NX/X2go clients.
+.PP
+.SH OPTIONS
+For an insight in \fBnxproxy\fR options use \fBnxproxy --help\fR on the command line.
+.PP
+.SH AUTHOR
+This manual has been written by Mike Gabriel &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">mike.gabriel at das-netzwerkteam.de</A>&gt; for the X2go project
+(<A HREF="http://www.x2go.org">http://www.x2go.org</A>).
diff --git a/debian/nxproxy.dirs b/debian/nxproxy.dirs
new file mode 100644
index 0000000..4330bad
--- /dev/null
+++ b/debian/nxproxy.dirs
@@ -0,0 +1,2 @@
+usr/bin
+usr/lib/nx
diff --git a/debian/nxproxy.docs b/debian/nxproxy.docs
new file mode 100644
index 0000000..4b3d18d
--- /dev/null
+++ b/debian/nxproxy.docs
@@ -0,0 +1,4 @@
+nxproxy/changelog
+nxproxy/README
+nxproxy/README-IPAQ
+nxproxy/README-VALGRIND
diff --git a/debian/nxproxy.install b/debian/nxproxy.install
new file mode 100644
index 0000000..4db97ca
--- /dev/null
+++ b/debian/nxproxy.install
@@ -0,0 +1,3 @@
+nxproxy/nxproxy                    usr/lib/nx
+debian/bin/nxproxy                 usr/bin
+
diff --git a/debian/nxproxy.lintian-overrides b/debian/nxproxy.lintian-overrides
new file mode 100644
index 0000000..d43c263
--- /dev/null
+++ b/debian/nxproxy.lintian-overrides
@@ -0,0 +1 @@
+nxproxy: possible-new-upstream-release-without-new-version
\ No newline at end of file
diff --git a/debian/nxproxy.manpages b/debian/nxproxy.manpages
new file mode 100644
index 0000000..21740d3
--- /dev/null
+++ b/debian/nxproxy.manpages
@@ -0,0 +1 @@
+debian/man/nxproxy.1
diff --git a/debian/patches/001_add-main-makefile.patch b/debian/patches/001_add-main-makefile.patch
new file mode 100644
index 0000000..df3f4e7
--- /dev/null
+++ b/debian/patches/001_add-main-makefile.patch
@@ -0,0 +1,51 @@
+Description: Provide main Makefile for whole source tree
+ By design this patch is not needed to be sent upstream.
+Forwarded: not-needed
+Author: Mike Gabriel &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">mike.gabriel at das-netzwerkteam.de</A>&gt;
+Last-Update: 2011-12-31
+--- /dev/null
++++ b/Makefile
+@@ -0,0 +1,43 @@
++#!/usr/bin/make -f
++
++all: build
++
++build: build-arch build-indep
++
++clean:
++	cd nx-X11 &amp;&amp; test -f Makefile &amp;&amp; make $@ || true
++	cd nxcomp &amp;&amp; test -f Makefile &amp;&amp; make $@ || true
++	cd nxcompext &amp;&amp; test -f Makefile &amp;&amp; make $@ || true
++	cd nxcompshad &amp;&amp; test -f Makefile &amp;&amp; make $@ || true
++	cd nxproxy &amp;&amp; test -f Makefile &amp;&amp; make $@ || true
++
++
++distclean:
++	cd nx-X11 &amp;&amp; test -f Makefile &amp;&amp; make $@ || true
++	cd nxcomp &amp;&amp; test -f Makefile &amp;&amp; make $@ || true
++	cd nxcompext &amp;&amp; test -f Makefile &amp;&amp; make $@ || true
++	cd nxcompshad &amp;&amp; test -f Makefile &amp;&amp; make $@ || true
++	cd nxproxy &amp;&amp; test -f Makefile &amp;&amp; make $@ || true
++
++build-arch:
++	cd nxcomp &amp;&amp; autoconf
++	cd nxcompext &amp;&amp; autoconf
++	cd nxcompshad &amp;&amp; autoconf
++	cd nx-X11 &amp;&amp; make World
++	cd nxproxy &amp;&amp; autoconf &amp;&amp; ./configure &amp;&amp; make
++
++build-indep:
++
++install:
++	cd nxcomp &amp;&amp; make install
++	cd nxcompext &amp;&amp; make install
++	cd nxcompshad &amp;&amp; make install
++	cd nx-X11 &amp;&amp; make install
++	cd nxproxy &amp;&amp; make install
++
++uninstall:
++	cd nxcomp &amp;&amp; make uninstall
++	cd nxcompext &amp;&amp; make uninstall
++	cd nxcompshad &amp;&amp; make uninstall
++	cd nx-X11 &amp;&amp; make uninstall
++	cd nxproxy &amp;&amp; make uninstall
diff --git a/debian/patches/012_nxcomp_makefile-uninstall.patch b/debian/patches/012_nxcomp_makefile-uninstall.patch
new file mode 100644
index 0000000..36f1555
--- /dev/null
+++ b/debian/patches/012_nxcomp_makefile-uninstall.patch
@@ -0,0 +1,63 @@
+Description: Add install and uninstall stanzas to nxcomp/Makefile
+ Provide install and uninstall functionality in nxcomp/Makefile.
+Forwarded: pending...
+Author: Mike Gabriel &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">mike.gabriel at das-netzwerkteam.de</A>&gt;
+Last-Update: 2011-12-31
+--- nx-libs.orig/nxcomp/Makefile.in	2011-12-05 09:16:34.000000000 +0100
++++ nx-libs/nxcomp/Makefile.in	2011-12-05 09:19:28.000000000 +0100
+@@ -68,6 +68,9 @@
+ INSTALL         = @INSTALL@
+ INSTALL_PROGRAM = @INSTALL_PROGRAM@
+ INSTALL_DATA    = @INSTALL_DATA@
++INSTALL_LINK    = cp -av
++DESTDIR         =
++RM_FILE         = rm -f
+ 
+ #
+ # This should be autodetected.
+@@ -264,12 +267,44 @@
+ 		fi
+ 		touch depend.status
+ 
+-install:	install.bin install.man
++install:	install.bin install.lib install.man
+ 
+ install.bin:
+ 
++install.lib: all
++	./mkinstalldirs $(DESTDIR)$(prefix)/lib/nx
++	./mkinstalldirs $(DESTDIR)$(prefix)/include/nx
++	$(INSTALL_DATA) libXcomp.so.3.*         $(DESTDIR)$(prefix)/lib/nx
++	$(INSTALL_LINK) libXcomp.so.3           $(DESTDIR)$(prefix)/lib/nx
++	$(INSTALL_LINK) libXcomp.so             $(DESTDIR)$(prefix)/lib/nx
++	$(INSTALL_DATA) libXcomp.a              $(DESTDIR)$(prefix)/lib/nx
++	$(INSTALL_DATA) NX*.h                   $(DESTDIR)$(prefix)/include/nx
++	$(INSTALL_DATA) MD5.h                   $(DESTDIR)$(prefix)/include/nx
++	echo &quot;Running ldconfig tool, this may take a while...&quot; &amp;&amp; ldconfig || true
++
+ install.man:
+ 
++uninstall:	uninstall.bin uninstall.lib uninstall.man
++
++uninstall.bin:
++
++uninstall.lib:
++	$(RM_FILE) $(DESTDIR)$(prefix)/lib/nx/libXcomp.so.3.*
++	$(RM_FILE) $(DESTDIR)$(prefix)/lib/nx/libXcomp.so.3
++	$(RM_FILE) $(DESTDIR)$(prefix)/lib/nx/libXcomp.so
++	$(RM_FILE) $(DESTDIR)$(prefix)/lib/nx/libXcomp.a
++	$(RM_FILE) $(DESTDIR)$(prefix)/include/nx/NXalert.h
++	$(RM_FILE) $(DESTDIR)$(prefix)/include/nx/NX.h
++	$(RM_FILE) $(DESTDIR)$(prefix)/include/nx/NXmitshm.h
++	$(RM_FILE) $(DESTDIR)$(prefix)/include/nx/NXpack.h
++	$(RM_FILE) $(DESTDIR)$(prefix)/include/nx/NXproto.h
++	$(RM_FILE) $(DESTDIR)$(prefix)/include/nx/NXrender.h
++	$(RM_FILE) $(DESTDIR)$(prefix)/include/nx/NXvars.h
++	$(RM_FILE) $(DESTDIR)$(prefix)/include/nx/MD5.h
++	echo &quot;Running ldconfig tool, this may take a while...&quot; &amp;&amp; ldconfig || true
++
++uninstall.man:
++
+ clean:
+ 		-rm -f *~ *.o *.bak *.orig *.rej st?????? core core.* *.out.* \
+ 		@ALL@
diff --git a/debian/patches/015_nxproxy_makefile-uninstall.patch b/debian/patches/015_nxproxy_makefile-uninstall.patch
new file mode 100644
index 0000000..554c86a
--- /dev/null
+++ b/debian/patches/015_nxproxy_makefile-uninstall.patch
@@ -0,0 +1,40 @@
+Description: Add install and uninstall stanzas to nxcomp/Makefile
+ Provide install and uninstall functionality in nxcomp/Makefile.
+Forwarded: pending...
+Author: Mike Gabriel &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">mike.gabriel at das-netzwerkteam.de</A>&gt;
+Last-Update: 2011-12-31
+--- a/nxproxy/Makefile.in
++++ b/nxproxy/Makefile.in
+@@ -41,6 +41,8 @@
+ INSTALL         = @INSTALL@
+ INSTALL_PROGRAM = @INSTALL_PROGRAM@
+ INSTALL_DATA    = @INSTALL_DATA@
++DESTDIR         =
++RM_FILE         = rm -f
+ 
+ #
+ # This should be autodetected.
+@@ -87,11 +89,20 @@
+ install:	install.bin install.man
+ 
+ install.bin:	$(PROGRAM)
+-		$(srcdir)/mkinstalldirs $(bindir)
+-		$(INSTALL) $(PROGRAM) $(bindir)/$(PROGRAM)
++		$(srcdir)/mkinstalldirs $(DESTDIR)$(bindir)
++		$(INSTALL_PROGRAM) $(PROGRAM) $(DESTDIR)$(bindir)/$(PROGRAM)
+ 
+ install.man:
+-		$(srcdir)/mkinstalldirs $(man1dir)
++		$(srcdir)/mkinstalldirs $(DESTDIR)$(man1dir)
++		$(INSTALL_DATA) man/$(PROGRAM).1 $(DESTDIR)$(man1dir)/$(PROGRAM).1
++
++uninstall:      uninstall.bin uninstall.man
++
++uninstall.bin:
++		$(RM_FILE) $(DESTDIR)$(bindir)/$(PROGRAM)
++
++uninstall.man:
++		$(RM_FILE) $(DESTDIR)$(man1dir)/nxproxy.1
+ 
+ clean:
+ 		-rm -f *~ *.o *.bak st?????? core core.* *.out.* \
diff --git a/debian/patches/series b/debian/patches/series
new file mode 100644
index 0000000..862de55
--- /dev/null
+++ b/debian/patches/series
@@ -0,0 +1,3 @@
+001_add-main-makefile.patch
+012_nxcomp_makefile-uninstall.patch
+015_nxproxy_makefile-uninstall.patch
diff --git a/debian/post-build-nx.sh b/debian/post-build-nx.sh
new file mode 100755
index 0000000..8c3cbfc
--- /dev/null
+++ b/debian/post-build-nx.sh
@@ -0,0 +1,3 @@
+#!/bin/bash
+
+exit 0
diff --git a/debian/pre-build-nx.sh b/debian/pre-build-nx.sh
new file mode 100755
index 0000000..e95790e
--- /dev/null
+++ b/debian/pre-build-nx.sh
@@ -0,0 +1,7 @@
+#!/bin/sh
+
+# create copies of upstream changelogs so that names apply to Debian policy...
+cp -a nxcomp/CHANGELOG nxcomp/changelog
+cp -a nxproxy/CHANGELOG nxproxy/changelog
+
+exit 0
diff --git a/debian/rules b/debian/rules
new file mode 100755
index 0000000..97cc8aa
--- /dev/null
+++ b/debian/rules
@@ -0,0 +1,34 @@
+#!/usr/bin/make -f
+
+CFLAGS = -Wall -g
+
+ifneq (,$(findstring noopt,$(DEB_BUILD_OPTIONS)))
+        CFLAGS += -O0
+else
+        CFLAGS += -O2
+endif
+
+%:
+	dh $@ --with quilt
+
+override_dh_auto_clean:
+	dh_auto_clean
+
+override_dh_clean:
+	rm -f nxcomp/configure
+	rm -f nxcomp/changelog
+	rm -f nxproxy/changelog
+
+override_dh_auto_build:
+	debian/pre-build-nx.sh
+	dh_auto_build --with quilt
+	debian/post-build-nx.sh
+
+override_dh_auto_install:
+
+override_dh_quilt_patch:
+	dh_quilt_patch
+
+override_dh_quilt_unpatch:
+	dh_quilt_unpatch
+
diff --git a/debian/source/format b/debian/source/format
new file mode 100644
index 0000000..89ae9db
--- /dev/null
+++ b/debian/source/format
@@ -0,0 +1 @@
+3.0 (native)
diff --git a/debian/watch.nxcomp b/debian/watch.nxcomp
new file mode 100644
index 0000000..75f2491
--- /dev/null
+++ b/debian/watch.nxcomp
@@ -0,0 +1,3 @@
+version=3
+<A HREF="http://www.nomachine.com/sources.php">http://www.nomachine.com/sources.php</A> \
+  <A HREF="http://[^">http://[^</A>&quot;]*/nxcomp-([\d\.-]*)\.tar\.gz
diff --git a/debian/watch.nxproxy b/debian/watch.nxproxy
new file mode 100644
index 0000000..bbf27fd
--- /dev/null
+++ b/debian/watch.nxproxy
@@ -0,0 +1,3 @@
+version=3
+<A HREF="http://www.nomachine.com/sources.php">http://www.nomachine.com/sources.php</A> \
+  <A HREF="http://[^">http://[^</A>&quot;]*/nxproxy-([\d\.-]*)\.tar\.gz


hooks/post-receive
-- 
nx-libs.git (NX libraries)

This is an automated email from the git hooks/post-receive script. It was
generated because a ref change was pushed to the repository containing
the project &quot;nx-libs.git&quot; (NX libraries).


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002063.html">[X2go-Commits] nx-libs.git - master (branch) updated:	nxproxy/3.5.0-1-174-g82e5023
</A></li>
	<LI>Next message: <A HREF="002065.html">[X2go-Commits] nx-libs.git - client-only (branch) updated:	ceea80470b00ebf98b876f4a93e6bbf0529603fe
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2064">[ date ]</a>
              <a href="thread.html#2064">[ thread ]</a>
              <a href="subject.html#2064">[ subject ]</a>
              <a href="author.html#2064">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/x2go-commits">More information about the X2go-commits
mailing list</a><br>
</body></html>
