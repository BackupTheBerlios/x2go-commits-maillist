<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [X2go-Commits] nx-libs.git - client-only (branch) updated:	63ffe689643c5bc94a357aa4ad71edc910881bc8
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/x2go-commits/2011-December/index.html" >
   <LINK REL="made" HREF="mailto:x2go-commits%40lists.berlios.de?Subject=Re%3A%20%5BX2go-Commits%5D%20nx-libs.git%20-%20client-only%20%28branch%29%20updated%3A%0A%0963ffe689643c5bc94a357aa4ad71edc910881bc8&In-Reply-To=%3C20111231150347.4DA375DB1F%40ymir%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002060.html">
   <LINK REL="Next"  HREF="002062.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[X2go-Commits] nx-libs.git - client-only (branch) updated:	63ffe689643c5bc94a357aa4ad71edc910881bc8</H1>
    <B>X2go dev team</B> 
    <A HREF="mailto:x2go-commits%40lists.berlios.de?Subject=Re%3A%20%5BX2go-Commits%5D%20nx-libs.git%20-%20client-only%20%28branch%29%20updated%3A%0A%0963ffe689643c5bc94a357aa4ad71edc910881bc8&In-Reply-To=%3C20111231150347.4DA375DB1F%40ymir%3E"
       TITLE="[X2go-Commits] nx-libs.git - client-only (branch) updated:	63ffe689643c5bc94a357aa4ad71edc910881bc8">git-admin at x2go.org
       </A><BR>
    <I>Sat Dec 31 16:03:47 CET 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="002060.html">[X2go-Commits] nx-libs.git - client-only (branch) created:	e068243b79e7129150ccecd0f0ed9d56fa5e1484
</A></li>
        <LI>Next message: <A HREF="002062.html">[X2go-Commits] nx-libs.git - master (branch) updated:	nxproxy/3.5.0-1-173-g608bbb6
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2061">[ date ]</a>
              <a href="thread.html#2061">[ thread ]</a>
              <a href="subject.html#2061">[ subject ]</a>
              <a href="author.html#2061">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>The branch, client-only has been updated
       via  63ffe689643c5bc94a357aa4ad71edc910881bc8 (commit)
       via  5270797ac2261ca895f372b97b2237a4ac305a14 (commit)
       via  eef73bc64e9c2e61111287e2b5b9fbe5b821b9ff (commit)
       via  0b671532d6a4e923baa5eefbf178272cd3fdcf6d (commit)
       via  d4f7d4c16a2ec2be518f5f6d905b0af7185a8170 (commit)
       via  bc885ff115fd5c75019f415b1f30a944443bb7ba (commit)
      from  e068243b79e7129150ccecd0f0ed9d56fa5e1484 (commit)

Those revisions listed above that are new to this repository have
not appeared on any other notification email; so we list those
revisions in full, below.

- Log -----------------------------------------------------------------
commit 63ffe689643c5bc94a357aa4ad71edc910881bc8
Author: Reinhard Tartler &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">siretart at tauware.de</A>&gt;
Date:   Sun Nov 13 09:53:38 2011 +0100

    Imported nxproxy-3.5.0-1.tar.gz
    
    Summary: Imported nxproxy-3.5.0-1.tar.gz
    Keywords:
    
    Imported nxproxy-3.5.0-1.tar.gz
    into Git repository

commit 5270797ac2261ca895f372b97b2237a4ac305a14
Author: Reinhard Tartler &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">siretart at tauware.de</A>&gt;
Date:   Sun Nov 13 09:53:38 2011 +0100

    Imported nxproxy-3.4.0-2.tar.gz
    
    Summary: Imported nxproxy-3.4.0-2.tar.gz
    Keywords:
    
    Imported nxproxy-3.4.0-2.tar.gz
    into Git repository

commit eef73bc64e9c2e61111287e2b5b9fbe5b821b9ff
Author: Reinhard Tartler &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">siretart at tauware.de</A>&gt;
Date:   Sun Nov 13 09:53:38 2011 +0100

    Imported nxproxy-3.3.0-2.tar.gz
    
    Summary: Imported nxproxy-3.3.0-2.tar.gz
    Keywords:
    
    Imported nxproxy-3.3.0-2.tar.gz
    into Git repository

commit 0b671532d6a4e923baa5eefbf178272cd3fdcf6d
Author: Reinhard Tartler &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">siretart at tauware.de</A>&gt;
Date:   Sun Nov 13 09:53:38 2011 +0100

    Imported nxproxy-3.2.0-1.tar.gz
    
    Summary: Imported nxproxy-3.2.0-1.tar.gz
    Keywords:
    
    Imported nxproxy-3.2.0-1.tar.gz
    into Git repository

commit d4f7d4c16a2ec2be518f5f6d905b0af7185a8170
Author: Reinhard Tartler &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">siretart at tauware.de</A>&gt;
Date:   Sun Nov 13 09:53:38 2011 +0100

    Imported nxproxy-3.1.0-2.tar.gz
    
    Summary: Imported nxproxy-3.1.0-2.tar.gz
    Keywords:
    
    Imported nxproxy-3.1.0-2.tar.gz
    into Git repository

commit bc885ff115fd5c75019f415b1f30a944443bb7ba
Author: Reinhard Tartler &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">siretart at tauware.de</A>&gt;
Date:   Sun Nov 13 09:53:38 2011 +0100

    Imported nxproxy-3.0.0-4.tar.gz
    
    Summary: Imported nxproxy-3.0.0-4.tar.gz
    Keywords:
    
    Imported nxproxy-3.0.0-4.tar.gz
    into Git repository

-----------------------------------------------------------------------

Summary of changes:
 nxproxy/CHANGELOG                                  |  216 +++++++++
 {nxcomp =&gt; nxproxy}/COPYING                        |    0
 {nxcomp =&gt; nxproxy}/LICENSE                        |   25 +-
 nxcomp/List.h =&gt; nxproxy/Main.c                    |   82 ++--
 nxproxy/Makefile.in                                |  101 ++++
 nxproxy/README                                     |   14 +
 nxproxy/README-IPAQ                                |   27 +
 nxproxy/README-VALGRIND                            |   39 ++
 {nxcomp =&gt; nxproxy}/VERSION                        |    0
 .../configure =&gt; nxproxy/autom4te.cache/output.0   |  499 ++++---------------
 nxproxy/autom4te.cache/requests                    |  115 +++++
 nxproxy/autom4te.cache/traces.0                    |  134 ++++++
 {nxcomp =&gt; nxproxy}/configure                      |  377 ++-------------
 nxproxy/configure.in                               |  185 ++++++++
 {nxcomp =&gt; nxproxy}/install-sh                     |    0
 {nxcomp =&gt; nxproxy}/mkinstalldirs                  |    0
 16 files changed, 1024 insertions(+), 790 deletions(-)
 create mode 100644 nxproxy/CHANGELOG
 copy {nxcomp =&gt; nxproxy}/COPYING (100%)
 copy {nxcomp =&gt; nxproxy}/LICENSE (56%)
 copy nxcomp/List.h =&gt; nxproxy/Main.c (56%)
 create mode 100644 nxproxy/Makefile.in
 create mode 100644 nxproxy/README
 create mode 100644 nxproxy/README-IPAQ
 create mode 100644 nxproxy/README-VALGRIND
 copy {nxcomp =&gt; nxproxy}/VERSION (100%)
 copy nxcomp/configure =&gt; nxproxy/autom4te.cache/output.0 (94%)
 mode change 100755 =&gt; 100644
 create mode 100644 nxproxy/autom4te.cache/requests
 create mode 100644 nxproxy/autom4te.cache/traces.0
 copy {nxcomp =&gt; nxproxy}/configure (94%)
 create mode 100644 nxproxy/configure.in
 copy {nxcomp =&gt; nxproxy}/install-sh (100%)
 copy {nxcomp =&gt; nxproxy}/mkinstalldirs (100%)

The diff of changes is:
diff --git a/nxproxy/CHANGELOG b/nxproxy/CHANGELOG
new file mode 100644
index 0000000..e5dff2e
--- /dev/null
+++ b/nxproxy/CHANGELOG
@@ -0,0 +1,216 @@
+ChangeLog:
+
+nxproxy-3.5.0-1
+
+- Opened the 3.5.0 branch based on nxproxy-3.4.0-2.
+
+- Updated copyright to year 2011.
+
+nxproxy-3.4.0-2
+
+- Updated copyright to year 2009.
+
+nxproxy-3.4.0-1
+
+- Opened the 3.4.0 branch based on nxproxy-3.3.0-2.
+
+- Changed version number.
+
+nxproxy-3.3.0-2
+
+- Updated VERSION.
+
+nxproxy-3.3.0-1
+
+- Opened the 3.3.0 branch based on nxproxy-3.2.0-1.
+
+nxproxy-3.2.0-1
+
+- Opened the 3.2.0 branch based on nxproxy-3.1.0-2.
+
+nxproxy-3.1.0-2
+
+- Updated version number.
+
+nxproxy-3.1.0-1
+
+- Opened the 3.1.0 branch based on nxproxy-3.0.0-4.
+
+nxproxy-3.0.0-4
+
+- Added file COPYING.
+
+- Changed the LICENSE file to state that the software is only made
+  available under the version 2 of the GPL.
+
+nxproxy-3.0.0-3
+
+- Updated the copyright notices to year 2007.
+
+nxproxy-3.0.0-2
+
+- Updated the file VERSION.
+
+nxproxy-3.0.0-1
+
+- Opened the 3.0.0 branch based on nxproxy-2.0.0-2.
+
+nxproxy-2.0.0-2
+
+- Updated copyright to year 2006.
+
+nxproxy-2.0.0-1
+
+- Opened the 2.0.0 branch based on nxproxy-1.5.0-10.
+
+nxproxy-1.5.0-10
+
+- Added the JPEG, PNG and Z libraries to the linker when compiling
+  on Cygwin. GCC 3.3.x requires that these libraries are explicitly
+  given while this is not required since GCC 3.4.x.
+
+- Created a new configure using autoconf 2.59.
+
+nxproxy-1.5.0-9
+
+- Removed provision for dynamically loading a different version of
+  the nxcomp library.
+
+nxproxy-1.5.0-8
+
+- Updated to reflect the new naming of the NX transport interfaces.
+
+nxproxy-1.5.0-7
+
+- Modified the Makefile.in to remove the *.out.* files generated by
+  Valgrind when running a 'make clean'.
+
+- Modified the README files and removed files that were outdated.
+
+nxproxy-1.5.0-6
+
+- Removed the NX_FORCE_IDLE_PROXY stubs.
+
+nxproxy-1.5.0-5
+
+- This version has NX_FORCE_IDLE_PROXY undefined, so it should work
+  in a way that is compatible with the old nxproxy.
+
+nxproxy-1.5.0-4
+
+- This software is crafted by default to test the new integration
+  between nxcomp and nxssh. The process will stay idle and will
+  let nxssh create the proxy. Note that the session log will go to
+  'sshlog', not to 'session'. This will have to be fixed in nxcomp
+  in future versions.
+
+- Removed the references to the &quot;bind&quot; functionality that is not
+  used in the current software.
+
+nxproxy-1.5.0-3
+
+- Added a NX_FORCE_IDLE_PROXY. If set, nxproxy will stay idle and
+  will not try to create a nxcomp proxy. This is used for testing
+  the new in-process nxcomp functionalities with the development
+  versions of nxclient and nxssh software.
+
+nxproxy-1.5.0-2
+
+- Small changes to this file.
+
+nxproxy-1.5.0-1
+
+- Opened the 1.5.0 branch.
+
+nxproxy-1.4.1-1
+
+- Opened the 1.4.1 branch.
+
+nxproxy-1.4.0-3
+
+- We were lucky. We found a machine where nxproxy failed exactly
+  in the same way described by multiple users in their reports.
+  The error was the same ('dlopen: win32 line 126') and neither
+  rebasing the Cygwin DLLs or removing all the other Cygwin li-
+  braries worked. So the problem had necessarily to be in a bug-
+  gy Cygwin dlopen() implementation. To solve this I had to make
+  changes to the nxproxy code on Windows, so it links to nxcomp
+  at compile time in the way specified below. As far as I can
+  tell, any other way fails. This seems to be another Cygwin bug:
+  the linker says that everything is OK but then the executable
+  can't be run. Both the Cygwin's bash and the command.com say
+  'Permission denied'.
+
+  LIBS = -L../nxcomp -lstdc++ -Wl,-e,_mainCRTStartup -lXcomp \
+         -lcygipc -static -lpng -static -ljpeg -lz
+
+nxproxy-1.4.0-2
+
+- Added a Binder class invoked when calling proxy with -B option.
+  It would serve as a replacement of the modifications I'm doing
+  in nxssh. The class is just a framework and the implementation
+  is unfinished.
+
+- Solved a potential problem in Main.c with NXExit() being called
+  after the dlclose(). This was unlikely to happen as proxy never
+  returns.
+
+nxproxy-1.4.0-1
+
+- Opened the 1.4.0 branch.
+
+nxproxy-1.3.2-1
+
+- Opened the 1.3.2 branch.
+
+nxproxy-1.3.1-2
+
+- Removed the underline characters and added a colon in the
+  title of this ChangeLog to fully comply with format used in
+  the release notices.
+
+nxproxy-1.3.1-1
+
+- Opened the 1.3.1 branch.
+
+nxproxy-1.3.0-7
+
+- Added a check on the OS version when running on MacOS/X.
+  Versions 10.2 and 10.3 differ in the way names are mangled.
+
+- Fixed error detection on dlsym(). The previous code was not
+  able to correctly identify missing symbols.
+
+nxproxy-1.3.0-6
+
+- Modified configure.in to compile under FreeBSD.
+
+nxproxy-1.3.0-5
+
+- Fixed a (further) compilation problem under Cygwin.
+
+nxproxy-1.3.0-4
+
+- New nxproxy is able to load libXcomp by dlopen() under
+  Cygwin. This simplifies both code in Main.c and the
+  configure.in script.
+
+- Changed configure.in to not link with -mwindows under
+  Cygwin. Linking with -mwindows prevented stderr to be
+  correctly output when running nxproxy on a console.
+
+nxproxy-1.3.0-3
+
+- Changed configure.in to first check for nx-X11 includes
+  and libraries. Added &quot;/usr/openwin/bin/makedepend&quot; to
+  path searched for the executable.
+
+nxproxy-1.3.0-2
+
+- Small cleanup in configure.in. A new configure script has
+  been generated using autoconf-2.57-3.
+
+nxproxy-1.3.0-1
+
+- Updated internal version, so this release tries to load
+  libXcomp version 1.3.0.
diff --git a/nxcomp/COPYING b/nxproxy/COPYING
similarity index 100%
copy from nxcomp/COPYING
copy to nxproxy/COPYING
diff --git a/nxcomp/LICENSE b/nxproxy/LICENSE
similarity index 56%
copy from nxcomp/LICENSE
copy to nxproxy/LICENSE
index 2b32034..64522ca 100644
--- a/nxcomp/LICENSE
+++ b/nxproxy/LICENSE
@@ -1,6 +1,6 @@
-Copyright (c) 2001, 2010 NoMachine - <A HREF="http://www.nomachine.com/.">http://www.nomachine.com/.</A>
+Copyright (c) 2001, 2011 NoMachine - <A HREF="http://www.nomachine.com/.">http://www.nomachine.com/.</A>
 
-NXCOMP library and NX extensions to X are copyright of NoMachine.
+NXPROXY and NX extensions to this software are copyright of NoMachine.
 Redistribution and use of this software is allowed according to the
 following terms:
 
@@ -8,22 +8,21 @@ This program is free software; you can redistribute it and/or modify
 it under the terms of the GNU General Public License Version 2, and
 not any other version, as published by the Free Software Foundation.
 
-This program is distributed in the hope that it will be useful, but
-WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTA-
-BILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General
-Public License for more details.
+This program is distributed in the hope that it will be useful,
+but WITHOUT ANY WARRANTY; without even the implied warranty of
+MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+GNU General Public License for more details.
 
 You should have received a copy of the GNU General Public License
-along with this program; if not, you can request a copy to NoMachine
-or write to the Free Software Foundation, Inc., 59 Temple Place, Suite
-330, Boston, MA  02111-1307 USA
+along with this program; if not, write to the Free Software
+Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307 USA
 
 Parts of this software are derived from DXPC project. These copyright
 notices apply to original DXPC code:
 
-Redistribution and use in source and binary forms are permitted provi-
-ded that the above copyright notice and this paragraph are duplicated
-in all such forms.
+Redistribution and use in source and binary forms are permitted provided
+that the above copyright notice and this paragraph are duplicated in all
+such forms.
 
 THIS SOFTWARE IS PROVIDED ``AS IS'' AND WITHOUT ANY EXPRESS OR IMPLIED
 WARRANTIES, INCLUDING, WITHOUT LIMITATION, THE IMPLIED WARRANTIES OF
@@ -32,6 +31,6 @@ MERCHANTIBILITY AND FITNESS FOR A PARTICULAR PURPOSE.
 Copyright (c) 1995,1996 Brian Pane
 Copyright (c) 1996,1997 Zachary Vonler and Brian Pane
 Copyright (c) 1999 Kevin Vigor and Brian Pane
-Copyright (c) 2000,2006 Gian Filippo Pinzari and Brian Pane
+Copyright (c) 2000,2001 Gian Filippo Pinzari and Brian Pane
 
 All rights reserved.
diff --git a/nxcomp/List.h b/nxproxy/Main.c
similarity index 56%
copy from nxcomp/List.h
copy to nxproxy/Main.c
index b5e41ae..ae90990 100644
--- a/nxcomp/List.h
+++ b/nxproxy/Main.c
@@ -1,8 +1,8 @@
 /**************************************************************************/
 /*                                                                        */
-/* Copyright (c) 2001, 2010 NoMachine, <A HREF="http://www.nomachine.com/.">http://www.nomachine.com/.</A>         */
+/* Copyright (c) 2001, 2011 NoMachine, <A HREF="http://www.nomachine.com/.">http://www.nomachine.com/.</A>         */
 /*                                                                        */
-/* NXCOMP, NX protocol compression and NX extensions to this software     */
+/* NXPROXY, NX protocol compression and NX extensions to this software    */
 /* are copyright of NoMachine. Redistribution and use of the present      */
 /* software is allowed according to terms specified in the file LICENSE   */
 /* which comes in the source distribution.                                */
@@ -11,77 +11,59 @@
 /*                                                                        */
 /* NX and NoMachine are trademarks of Medialogic S.p.A.                   */
 /*                                                                        */
-/* All rights reserved.                                                   */
+/* All rigths reserved.                                                   */
 /*                                                                        */
 /**************************************************************************/
 
-#ifndef List_H
-#define List_H
+#include &lt;stdio.h&gt;
+#include &lt;stdlib.h&gt;
+#include &lt;string.h&gt;
+#include &lt;unistd.h&gt;
 
-#include &quot;Misc.h&quot;
-#include &quot;Types.h&quot;
-
-//
-// Set the verbosity level.
-//
+#include &quot;NX.h&quot;
 
 #define PANIC
 #define WARNING
 #undef  TEST
 #undef  DEBUG
 
-//
-// Define this to log when lists are
-// allocated and deallocated.
-//
-
-#undef  REFERENCES
+/*
+ * Entry point when running nxproxy stand-alone.
+ */
 
-class List
+int main(int argc, const char **argv)
 {
-  public:
+  int result = -1;
 
-  List();
+  char *options = NULL;
 
-  ~List();
+  options = getenv(&quot;NX_DISPLAY&quot;);
 
-  int getSize()
+  if (NXTransParseCommandLine(argc, argv) &lt; 0)
   {
-    return list_.size();
+    NXTransCleanup();
   }
 
-  T_list &amp;getList()
+  if (NXTransParseEnvironment(options, 0) &lt; 0)
   {
-    return list_;
+    NXTransCleanup();
   }
 
-  T_list copyList()
-  {
-    return list_;
-  }
-
-  void add(int value)
-  {
-    list_.push_back(value);
-  }
+  /*
+   * This should not return...
+   */
 
-  void remove(int value);
-
-  void rotate();
-
-  private:
-
-  //
-  // The list container.
-  //
-
-  T_list list_;
+  #ifdef TEST
+  fprintf(stderr, &quot;Main: Yielding control to NX entry point.\n&quot;);
+  #endif
 
-  #ifdef REFERENCES
+  result = NXTransProxy(NX_FD_ANY, NX_MODE_ANY, NX_DISPLAY_ANY);
 
-  static int references_;
+  /*
+   * ...So these should not be called.
+   */
 
-  #endif
-};
+  NXTransExit(result);
 
-#endif /* List_H */
+  return 0;
+}
diff --git a/nxproxy/Makefile.in b/nxproxy/Makefile.in
new file mode 100644
index 0000000..928e0d3
--- /dev/null
+++ b/nxproxy/Makefile.in
@@ -0,0 +1,101 @@
+#
+# Get values from configure script.
+#
+VERSION=@VERSION@
+LIBVERSION=@LIBVERSION@
+
+#
+# Enable really all warnings. This, though, gives
+# a warning due to pthread.h and unistd.h.
+#
+# -Wredundant-decls
+#
+CXX      = @CXX@
+CXXFLAGS = @CXXFLAGS@ @X_CFLAGS@ @DEFS@ \
+           -Wall -Wpointer-arith -Wstrict-prototypes -Wmissing-prototypes \
+           -Wmissing-declarations -Wnested-externs
+
+CXXINCLUDES = -I. -I../nxcomp
+
+CC         = @CC@
+CCFLAGS    = $(CXXFLAGS)
+CCINCLUDES = -I. -I../nxcomp
+CCDEFINES  =
+
+LDFLAGS = @LDFLAGS@
+LIBS    = @LIBS@
+
+#
+# Only if THREADS is defined.
+#
+# LIBS = $(LIBS) -lpthread
+#
+
+srcdir      = @srcdir@
+prefix      = @prefix@
+exec_prefix = @exec_prefix@
+bindir      = @bindir@
+man1dir     = @mandir@/man1
+VPATH       = @srcdir@
+
+INSTALL         = @INSTALL@
+INSTALL_PROGRAM = @INSTALL_PROGRAM@
+INSTALL_DATA    = @INSTALL_DATA@
+
+#
+# This should be autodetected.
+#
+
+MAKEDEPEND     = @MAKEDEPEND@
+DEPENDINCLUDES = -I/usr/include/g++ -I/usr/include/g++-3 
+
+.SUFFIXES: .cpp.c
+
+.cpp.o:
+	$(CXX) -c $(CXXFLAGS) $(CXXINCLUDES) $(CXXDEFINES) $&lt;
+.c.o:
+	$(CC) -c $(CCFLAGS) $(CCINCLUDES) $(CCDEFINES) $&lt;
+
+PROGRAM = nxproxy
+
+all: depend $(PROGRAM)
+
+MSRC   = Main.c
+
+CSRC   =
+
+CXXSRC =
+
+MOBJ   = $(MSRC:.c=.o)
+COBJ   = $(CSRC:.c=.o)
+CXXOBJ = $(CXXSRC:.cpp=.o)
+
+$(PROGRAM):	$(MOBJ) $(COBJ) $(CXXOBJ)
+		$(CXX) $(CXXFLAGS) -o $@ $(MOBJ) $(LDFLAGS) $(LIBS)
+
+depends:	depend.status
+
+depend:		depend.status
+
+depend.status:	
+		if [ -x $(MAKEDEPEND) ] ; then \
+			$(MAKEDEPEND) $(CXXINCLUDES) $(CCINCLUDES) \
+                        $(DEPENDINCLUDES) -f Makefile $(MSRC) $(CSRC) $(CXXSRC) 2&gt;/dev/null; \
+		fi
+		touch depend.status
+
+install:	install.bin install.man
+
+install.bin:	$(PROGRAM)
+		$(srcdir)/mkinstalldirs $(bindir)
+		$(INSTALL) $(PROGRAM) $(bindir)/$(PROGRAM)
+
+install.man:
+		$(srcdir)/mkinstalldirs $(man1dir)
+
+clean:
+		-rm -f *~ *.o *.bak st?????? core core.* *.out.* \
+		$(PROGRAM) $(PROGRAM).exe $(LIBFULL) $(LIBLOAD) $(LIBSHARED) $(LIBARCHIVE)
+
+distclean:	clean
+		-rm -f config.status config.log config.cache depend.status Makefile tags
diff --git a/nxproxy/README b/nxproxy/README
new file mode 100644
index 0000000..8f95d9f
--- /dev/null
+++ b/nxproxy/README
@@ -0,0 +1,14 @@
+README
+------
+
+1. To compile:
+
+   &gt; tar zxvf nxproxy-X.Y.Z-N.tar.gz
+   &gt; cd nxproxy
+   &gt; ./configure
+   &gt; make
+
+   You'll have to run gmake under Solaris.
+
+2. The 'make install' target is not currently supported
+   in the Makefile, but it should be simple to fix.
diff --git a/nxproxy/README-IPAQ b/nxproxy/README-IPAQ
new file mode 100644
index 0000000..7a8a8a9
--- /dev/null
+++ b/nxproxy/README-IPAQ
@@ -0,0 +1,27 @@
+README-IPAQ
+-----------
+
+1. Install a cross-compiler for ARM. You can find detailed
+   informations at:
+
+   <A HREF="http://www.ailis.de/~k/knowledge/crosscompiling/toolchain.php">http://www.ailis.de/~k/knowledge/crosscompiling/toolchain.php</A>
+
+   There are also binaries needed to install the cross-compiler.
+
+2. Configure and compile nxproxy using:
+
+   $ ./configure --with-ipaq
+   $ make
+
+   After compilation type:
+
+   $ arm-linux-strip nxproxy
+
+3. You need libXcomp.so to run nxproxy. Be sure you include the
+   library in your LD_LIBRARY_PATH. For example, you can run:
+
+   &gt; export LD_LIBRARY_PATH $HOME/NX/nxcomp
+   &gt; nxproxy -S localhost:8
+
+4. The package nxscripts contains many examples of NX usage that
+   you can modify to suit your needs.
diff --git a/nxproxy/README-VALGRIND b/nxproxy/README-VALGRIND
new file mode 100644
index 0000000..ce4d513
--- /dev/null
+++ b/nxproxy/README-VALGRIND
@@ -0,0 +1,39 @@
+README-VALGRIND
+---------------
+
+You can run nxproxy (and nxcomp) under the supervision of valgrind
+(a very good memory debugger) by wrapping nxproxy in the following
+script:
+
+&lt;snip&gt;
+#!/bin/bash
+
+# Enable core dumps.
+
+ulimit -c unlimited
+
+# Set this to directory where nxproxy is located.
+
+NXPROXY_DIR=~/NX/nxproxy
+
+# Set this to directory where valgrind is located.
+
+VALGRIND_DIR=/usr/local/bin
+
+exec ${VALGRIND_DIR}/valgrind -v --leak-check=yes --leak-resolution=high \
+                              --show-reachable=yes --show-reachable=yes \
+                              --suppressions=${NXPROXY_DIR}/nxproxy.supp \
+                              --num-callers=16 --logfile-fd=2 \
+\
+${NXPROXY_DIR}/nxproxy $1 $2 $3 $4 $5 $6 $7 $8 $9
+&lt;snip&gt;
+
+Run the following commands on your shell, right in the place where
+the nxproxy executable is to be placed in your setup:
+
+$ cat &gt;nxproxy
+&lt;copy paste the previous lines here&gt;
+$ chmod a+x nxproxy
+
+Output of valgrind will go on stderr, that is in session file, if
+run in NX environment.
diff --git a/nxcomp/VERSION b/nxproxy/VERSION
similarity index 100%
copy from nxcomp/VERSION
copy to nxproxy/VERSION
diff --git a/nxcomp/configure b/nxproxy/autom4te.cache/output.0
old mode 100755
new mode 100644
similarity index 94%
copy from nxcomp/configure
copy to nxproxy/autom4te.cache/output.0
index 633baf8..133967c
--- a/nxcomp/configure
+++ b/nxproxy/autom4te.cache/output.0
@@ -1,10 +1,10 @@
-#! /bin/sh
-# Guess values for system-dependent variables and create Makefiles.
-# Generated by GNU Autoconf 2.59.
-#
-# Copyright (C) 2003 Free Software Foundation, Inc.
-# This configure script is free software; the Free Software Foundation
-# gives unlimited permission to copy, distribute and modify it.
+@%:@! /bin/sh
+@%:@ Guess values for system-dependent variables and create Makefiles.
+@%:@ Generated by GNU Autoconf 2.59.
+@%:@ 
+@%:@ Copyright (C) 2003 Free Software Foundation, Inc.
+@%:@ This configure script is free software; the Free Software Foundation
+@%:@ gives unlimited permission to copy, distribute and modify it.
 ## --------------------- ##
 ## M4sh Initialization.  ##
 ## --------------------- ##
@@ -271,8 +271,8 @@ PACKAGE_VERSION=
 PACKAGE_STRING=
 PACKAGE_BUGREPORT=
 
-ac_unique_file=&quot;NX.h&quot;
-ac_subst_vars='SHELL PATH_SEPARATOR PACKAGE_NAME PACKAGE_TARNAME PACKAGE_VERSION PACKAGE_STRING PACKAGE_BUGREPORT exec_prefix prefix program_transform_name bindir sbindir libexecdir datadir sysconfdir sharedstatedir localstatedir libdir includedir oldincludedir infodir mandir build_alias host_alias target_alias DEFS ECHO_C ECHO_N ECHO_T LIBS armcxx armcc CXX CXXFLAGS LDFLAGS CPPFLAGS ac_ct_CXX EXEEXT OBJEXT CC CFLAGS ac_ct_CC INSTALL_PROGRAM INSTALL_SCRIPT INSTALL_DATA CXXCPP X_CFLAGS X_PRE_LIBS X_LIBS X_EXTRA_LIBS LIBVERSION VERSION MAKEDEPEND ALL LIBOBJS LTLIBOBJS'
+ac_unique_file=&quot;Main.c&quot;
+ac_subst_vars='SHELL PATH_SEPARATOR PACKAGE_NAME PACKAGE_TARNAME PACKAGE_VERSION PACKAGE_STRING PACKAGE_BUGREPORT exec_prefix prefix program_transform_name bindir sbindir libexecdir datadir sysconfdir sharedstatedir localstatedir libdir includedir oldincludedir infodir mandir build_alias host_alias target_alias DEFS ECHO_C ECHO_N ECHO_T LIBS armcxx armcc CXX CXXFLAGS LDFLAGS CPPFLAGS ac_ct_CXX EXEEXT OBJEXT CC CFLAGS ac_ct_CC INSTALL_PROGRAM INSTALL_SCRIPT INSTALL_DATA CXXCPP X_CFLAGS X_PRE_LIBS X_LIBS X_EXTRA_LIBS LIBVERSION VERSION MAKEDEPEND LIB@&amp;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">t at OBJS</A> LTLIBOBJS'
 ac_subst_files=''
 
 # Initialize some variables set by options.
@@ -946,9 +946,9 @@ generated by GNU Autoconf 2.59.  Invocation command line was
 _ACEOF
 {
 cat &lt;&lt;_ASUNAME
-## --------- ##
-## Platform. ##
-## --------- ##
+@%:@@%:@ --------- @%:@@%:@
+@%:@@%:@ Platform. @%:@@%:@
+@%:@@%:@ --------- @%:@@%:@
 
 hostname = `(hostname || uname -n) 2&gt;/dev/null | sed 1q`
 uname -m = `(uname -m) 2&gt;/dev/null || echo unknown`
@@ -982,9 +982,9 @@ done
 cat &gt;&amp;5 &lt;&lt;_ACEOF
 
 
-## ----------- ##
-## Core tests. ##
-## ----------- ##
+@%:@@%:@ ----------- @%:@@%:@
+@%:@@%:@ Core tests. @%:@@%:@
+@%:@@%:@ ----------- @%:@@%:@
 
 _ACEOF
 
@@ -1051,9 +1051,9 @@ trap 'exit_status=$?
     echo
 
     cat &lt;&lt;\_ASBOX
-## ---------------- ##
-## Cache variables. ##
-## ---------------- ##
+@%:@@%:@ ---------------- @%:@@%:@
+@%:@@%:@ Cache variables. @%:@@%:@
+@%:@@%:@ ---------------- @%:@@%:@
 _ASBOX
     echo
     # The following way of writing the cache mishandles newlines in values,
@@ -1074,9 +1074,9 @@ _ASBOX
     echo
 
     cat &lt;&lt;\_ASBOX
-## ----------------- ##
-## Output variables. ##
-## ----------------- ##
+@%:@@%:@ ----------------- @%:@@%:@
+@%:@@%:@ Output variables. @%:@@%:@
+@%:@@%:@ ----------------- @%:@@%:@
 _ASBOX
     echo
     for ac_var in $ac_subst_vars
@@ -1088,9 +1088,9 @@ _ASBOX
 
     if test -n &quot;$ac_subst_files&quot;; then
       cat &lt;&lt;\_ASBOX
-## ------------- ##
-## Output files. ##
-## ------------- ##
+@%:@@%:@ ------------- @%:@@%:@
+@%:@@%:@ Output files. @%:@@%:@
+@%:@@%:@ ------------- @%:@@%:@
 _ASBOX
       echo
       for ac_var in $ac_subst_files
@@ -1103,9 +1103,9 @@ _ASBOX
 
     if test -s confdefs.h; then
       cat &lt;&lt;\_ASBOX
-## ----------- ##
-## confdefs.h. ##
-## ----------- ##
+@%:@@%:@ ----------- @%:@@%:@
+@%:@@%:@ confdefs.h. @%:@@%:@
+@%:@@%:@ ----------- @%:@@%:@
 _ASBOX
       echo
       sed &quot;/^$/d&quot; confdefs.h | sort
@@ -1132,27 +1132,27 @@ echo &gt;confdefs.h
 # Predefined preprocessor variables.
 
 cat &gt;&gt;confdefs.h &lt;&lt;_ACEOF
-#define PACKAGE_NAME &quot;$PACKAGE_NAME&quot;
+@%:@define PACKAGE_NAME &quot;$PACKAGE_NAME&quot;
 _ACEOF
 
 
 cat &gt;&gt;confdefs.h &lt;&lt;_ACEOF
-#define PACKAGE_TARNAME &quot;$PACKAGE_TARNAME&quot;
+@%:@define PACKAGE_TARNAME &quot;$PACKAGE_TARNAME&quot;
 _ACEOF
 
 
 cat &gt;&gt;confdefs.h &lt;&lt;_ACEOF
-#define PACKAGE_VERSION &quot;$PACKAGE_VERSION&quot;
+@%:@define PACKAGE_VERSION &quot;$PACKAGE_VERSION&quot;
 _ACEOF
 
 
 cat &gt;&gt;confdefs.h &lt;&lt;_ACEOF
-#define PACKAGE_STRING &quot;$PACKAGE_STRING&quot;
+@%:@define PACKAGE_STRING &quot;$PACKAGE_STRING&quot;
 _ACEOF
 
 
 cat &gt;&gt;confdefs.h &lt;&lt;_ACEOF
-#define PACKAGE_BUGREPORT &quot;$PACKAGE_BUGREPORT&quot;
+@%:@define PACKAGE_BUGREPORT &quot;$PACKAGE_BUGREPORT&quot;
 _ACEOF
 
 
@@ -1269,23 +1269,18 @@ ac_compiler_gnu=$ac_cv_c_compiler_gnu
 
 
 
-CXXFLAGS=&quot;-O3 -fno-rtti -fno-exceptions&quot;
-CFLAGS=&quot;-O3&quot;
-
+CXXFLAGS=&quot;-O3&quot;
+CPPFLAGS=&quot;-O3&quot;
 
-LIBSTATIC=&quot;&quot;
-LIBSHARED=&quot;&quot;
 
-
-if test -d &quot;../nx-X11/include&quot; ; then
+if test -d &quot;../nx-X11/exports/include&quot; ; then
     CXXFLAGS=&quot;$CXXFLAGS -I../nx-X11/exports/include&quot;
-    CFLAGS=&quot;$CFLAGS -I../nx-X11/exports/include&quot;
     LIBS=&quot;$LIBS -L../nx-X11/exports/lib&quot;
 fi
 
 
 if test &quot;${with_ipaq}&quot; = yes; then
-  echo -e &quot;enabling IPAQ configuration&quot;
+  echo -e &quot;enabling ipaq configuration&quot;
   CXX=&quot;arm-linux-c++&quot;
   CC=&quot;arm-linux-gcc&quot;
   unset ac_cv_prog_armcxx
@@ -1367,15 +1362,15 @@ fi
     ac_cv_prog_CXX=&quot;$CXX&quot;
     ac_cv_prog_CC=&quot;$CC&quot;
   else
-    { { echo &quot;$as_me:$LINENO: error: Installation or configuration problem. Cannot find compiler for arm-linux.&quot; &gt;&amp;5
-echo &quot;$as_me: error: Installation or configuration problem. Cannot find compiler for arm-linux.&quot; &gt;&amp;2;}
+    { { echo &quot;$as_me:$LINENO: error: installation or configuration problem: I cannot find compiler for arm-linux&quot; &gt;&amp;5
+echo &quot;$as_me: error: installation or configuration problem: I cannot find compiler for arm-linux&quot; &gt;&amp;2;}
    { (exit 1); exit 1; }; }
   fi
 else
   unset ac_cv_prog_CXX
   unset ac_cv_prog_CC
   unset ac_cv_prog_CXXCPP
-fi
+fi  
 
 
 ac_ext=cc
@@ -1837,7 +1832,7 @@ cat confdefs.h &gt;&gt;conftest.$ac_ext
 cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
 /* end confdefs.h.  */
 $ac_declaration
-#include &lt;stdlib.h&gt;
+@%:@include &lt;stdlib.h&gt;
 int
 main ()
 {
@@ -2133,7 +2128,7 @@ if test $ac_prog_rejected = yes; then
   # We found a bogon in the path, so make sure we never use it.
   set dummy $ac_cv_prog_CC
   shift
-  if test $# != 0; then
+  if test $@%:@ != 0; then
     # We chose a different compiler from the bogus one.
     # However, it has the same basename, so the bogon will be chosen
     # first if we set CC to just the basename; use the full file name.
@@ -2497,7 +2492,7 @@ else
 sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
 
 fi
-rm -f conftest.err conftest.$ac_objext
+rm -f conftest.err conftest.$ac_objext 
 done
 rm -f conftest.$ac_ext conftest.$ac_objext
 CC=$ac_save_CC
@@ -2519,9 +2514,9 @@ esac
 # for both compiling C and C++ we need to have the C++ compiler decide
 # the declaration of exit, since it's the most demanding environment.
 cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
-#ifndef __cplusplus
+@%:@ifndef __cplusplus
   choke me
-#endif
+@%:@endif
 _ACEOF
 rm -f conftest.$ac_objext
 if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_compile\&quot;&quot;) &gt;&amp;5
@@ -2560,7 +2555,7 @@ cat confdefs.h &gt;&gt;conftest.$ac_ext
 cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
 /* end confdefs.h.  */
 $ac_declaration
-#include &lt;stdlib.h&gt;
+@%:@include &lt;stdlib.h&gt;
 int
 main ()
 {
@@ -2671,39 +2666,6 @@ ac_compiler_gnu=$ac_cv_cxx_compiler_gnu
 
 
 
-echo &quot;$as_me:$LINENO: checking whether compiler needs -Wno-deprecated&quot; &gt;&amp;5
-echo $ECHO_N &quot;checking whether compiler needs -Wno-deprecated... $ECHO_C&quot; &gt;&amp;6
-gcc_version=`${CC} --version | grep 'gcc (GCC) [3-4].' | head -n 1`
-case &quot;${gcc_version}&quot; in
-     gcc*)
-        echo &quot;$as_me:$LINENO: result: yes&quot; &gt;&amp;5
-echo &quot;${ECHO_T}yes&quot; &gt;&amp;6
-        CXXFLAGS=&quot;$CXXFLAGS -Wno-deprecated&quot;
-        ;;
-
-     *)
-        echo &quot;$as_me:$LINENO: result: no&quot; &gt;&amp;5
-echo &quot;${ECHO_T}no&quot; &gt;&amp;6
-        ;;
-esac
-
-echo &quot;$as_me:$LINENO: checking whether compiler accepts -Wmissing-declarations&quot; &gt;&amp;5
-echo $ECHO_N &quot;checking whether compiler accepts -Wmissing-declarations... $ECHO_C&quot; &gt;&amp;6
-gcc_version=`${CC} --version | grep 'gcc (GCC) [3-4].' | head -n 1`
-case &quot;${gcc_version}&quot; in
-     gcc*)
-        echo &quot;$as_me:$LINENO: result: no&quot; &gt;&amp;5
-echo &quot;${ECHO_T}no&quot; &gt;&amp;6
-        ;;
-
-     *)
-        echo &quot;$as_me:$LINENO: result: yes&quot; &gt;&amp;5
-echo &quot;${ECHO_T}yes&quot; &gt;&amp;6
-        CXXFLAGS=&quot;$CXXFLAGS -Wmissing-declarations&quot;
-        ;;
-esac
-
-
 ac_aux_dir=
 for ac_dir in $srcdir $srcdir/.. $srcdir/../..; do
   if test -f $ac_dir/install-sh; then
@@ -2840,11 +2802,11 @@ _ACEOF
 cat confdefs.h &gt;&gt;conftest.$ac_ext
 cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
 /* end confdefs.h.  */
-#ifdef __STDC__
-# include &lt;limits.h&gt;
-#else
-# include &lt;assert.h&gt;
-#endif
+@%:@ifdef __STDC__
+@%:@ include &lt;limits.h&gt;
+@%:@else
+@%:@ include &lt;assert.h&gt;
+@%:@endif
 		     Syntax error
 _ACEOF
 if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_cpp conftest.$ac_ext\&quot;&quot;) &gt;&amp;5
@@ -2883,7 +2845,7 @@ _ACEOF
 cat confdefs.h &gt;&gt;conftest.$ac_ext
 cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
 /* end confdefs.h.  */
-#include &lt;ac_nonexistent.h&gt;
+@%:@include &lt;ac_nonexistent.h&gt;
 _ACEOF
 if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_cpp conftest.$ac_ext\&quot;&quot;) &gt;&amp;5
   (eval $ac_cpp conftest.$ac_ext) 2&gt;conftest.er1
@@ -2924,7 +2886,7 @@ fi
 
     done
     ac_cv_prog_CXXCPP=$CXXCPP
-
+  
 fi
   CXXCPP=$ac_cv_prog_CXXCPP
 else
@@ -2947,11 +2909,11 @@ _ACEOF
 cat confdefs.h &gt;&gt;conftest.$ac_ext
 cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
 /* end confdefs.h.  */
-#ifdef __STDC__
-# include &lt;limits.h&gt;
-#else
-# include &lt;assert.h&gt;
-#endif
+@%:@ifdef __STDC__
+@%:@ include &lt;limits.h&gt;
+@%:@else
+@%:@ include &lt;assert.h&gt;
+@%:@endif
 		     Syntax error
 _ACEOF
 if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_cpp conftest.$ac_ext\&quot;&quot;) &gt;&amp;5
@@ -2990,7 +2952,7 @@ _ACEOF
 cat confdefs.h &gt;&gt;conftest.$ac_ext
 cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
 /* end confdefs.h.  */
-#include &lt;ac_nonexistent.h&gt;
+@%:@include &lt;ac_nonexistent.h&gt;
 _ACEOF
 if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_cpp conftest.$ac_ext\&quot;&quot;) &gt;&amp;5
   (eval $ac_cpp conftest.$ac_ext) 2&gt;conftest.er1
@@ -3049,8 +3011,8 @@ echo $ECHO_N &quot;checking for X... $ECHO_C&quot; &gt;&amp;6
 # Check whether --with-x or --without-x was given.
 if test &quot;${with_x+set}&quot; = set; then
   withval=&quot;$with_x&quot;
-
-fi;
+  
+fi; 
 # $have_x is `yes', `no', `disabled', or empty when we do not yet know.
 if test &quot;x$with_x&quot; = xno; then
   # The user explicitly disabled X.
@@ -3145,7 +3107,7 @@ _ACEOF
 cat confdefs.h &gt;&gt;conftest.$ac_ext
 cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
 /* end confdefs.h.  */
-#include &lt;X11/Intrinsic.h&gt;
+@%:@include &lt;X11/Intrinsic.h&gt;
 _ACEOF
 if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_cpp conftest.$ac_ext\&quot;&quot;) &gt;&amp;5
   (eval $ac_cpp conftest.$ac_ext) 2&gt;conftest.er1
@@ -3193,7 +3155,7 @@ _ACEOF
 cat confdefs.h &gt;&gt;conftest.$ac_ext
 cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
 /* end confdefs.h.  */
-#include &lt;X11/Intrinsic.h&gt;
+@%:@include &lt;X11/Intrinsic.h&gt;
 int
 main ()
 {
@@ -3278,9 +3240,9 @@ fi
 
 if test &quot;$no_x&quot; = yes; then
   # Not all programs may use this symbol, but it does not hurt to define it.
-
+  
 cat &gt;&gt;confdefs.h &lt;&lt;\_ACEOF
-#define X_DISPLAY_MISSING 1
+@%:@define X_DISPLAY_MISSING 1
 _ACEOF
 
   X_CFLAGS= X_PRE_LIBS= X_LIBS= X_EXTRA_LIBS=
@@ -4433,21 +4395,17 @@ fi
 
 
 ac_help=&quot;$ac_help
-  --with-symbols          add the -g flag to produce the debug symbols
-  --with-use-malloc       add the __USE_MALLOC flag to avoid the STL allocators
+  --with-symbols          give -g flag to compiler to produce debug symbols
   --with-info             define INFO at compile time to get basic log output
   --with-valgrind         clean up allocated buffers to avoid valgrind warnings
-  --with-version          use this version for produced libraries
+  --with-version          use this version for produced libraries&quot;
 
-  --with-static-png       enable static linking of PNG library
-  --with-static-jpeg      enable static linking of JPEG library
-  --with-static-z         enable static linking of Z library&quot;
 
 
 
-echo &quot;$as_me:$LINENO: checking for Cygwin32 environment&quot; &gt;&amp;5
-echo $ECHO_N &quot;checking for Cygwin32 environment... $ECHO_C&quot; &gt;&amp;6
-if test &quot;${nxconf_cv_cygwin32+set}&quot; = set; then
+echo &quot;$as_me:$LINENO: checking for FreeBSD environment&quot; &gt;&amp;5
+echo $ECHO_N &quot;checking for FreeBSD environment... $ECHO_C&quot; &gt;&amp;6
+if test &quot;${nxconf_cv_freebsd+set}&quot; = set; then
   echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
 else
   cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
@@ -4460,7 +4418,7 @@ cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
 int
 main ()
 {
-return __CYGWIN32__;
+return __FreeBSD__;
   ;
   return 0;
 }
@@ -4487,26 +4445,26 @@ if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_compile\&quot;&quot;) &gt;&amp;5
   ac_status=$?
   echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
   (exit $ac_status); }; }; then
-  nxconf_cv_cygwin32=yes
+  nxconf_cv_freebsd=yes
 else
   echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
 sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
 
-nxconf_cv_cygwin32=no
+nxconf_cv_freebsd=no
 fi
 rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
 rm -f conftest*
 fi
-echo &quot;$as_me:$LINENO: result: $nxconf_cv_cygwin32&quot; &gt;&amp;5
-echo &quot;${ECHO_T}$nxconf_cv_cygwin32&quot; &gt;&amp;6
-CYGWIN32=
-test &quot;$nxconf_cv_cygwin32&quot; = yes &amp;&amp; CYGWIN32=yes
+echo &quot;$as_me:$LINENO: result: $nxconf_cv_freebsd&quot; &gt;&amp;5
+echo &quot;${ECHO_T}$nxconf_cv_freebsd&quot; &gt;&amp;6
+FreeBSD=
+test &quot;$nxconf_cv_freebsd&quot; = yes &amp;&amp; FreeBSD=yes
 
 
 
-echo &quot;$as_me:$LINENO: checking for Amd64 environment&quot; &gt;&amp;5
-echo $ECHO_N &quot;checking for Amd64 environment... $ECHO_C&quot; &gt;&amp;6
-if test &quot;${nxconf_cv_amd64+set}&quot; = set; then
+echo &quot;$as_me:$LINENO: checking for Cygwin32 environment&quot; &gt;&amp;5
+echo $ECHO_N &quot;checking for Cygwin32 environment... $ECHO_C&quot; &gt;&amp;6
+if test &quot;${nxconf_cv_cygwin32+set}&quot; = set; then
   echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
 else
   cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
@@ -4519,7 +4477,7 @@ cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
 int
 main ()
 {
-return (__amd64__ || __x86_64__);
+return __CYGWIN32__;
   ;
   return 0;
 }
@@ -4546,20 +4504,20 @@ if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_compile\&quot;&quot;) &gt;&amp;5
   ac_status=$?
   echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
   (exit $ac_status); }; }; then
-  nxconf_cv_amd64=yes
+  nxconf_cv_cygwin32=yes
 else
   echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
 sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
 
-nxconf_cv_amd64=no
+nxconf_cv_cygwin32=no
 fi
 rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
 rm -f conftest*
 fi
-echo &quot;$as_me:$LINENO: result: $nxconf_cv_amd64&quot; &gt;&amp;5
-echo &quot;${ECHO_T}$nxconf_cv_amd64&quot; &gt;&amp;6
-AMD64=
-test &quot;$nxconf_cv_amd64&quot; = yes &amp;&amp; AMD64=yes
+echo &quot;$as_me:$LINENO: result: $nxconf_cv_cygwin32&quot; &gt;&amp;5
+echo &quot;${ECHO_T}$nxconf_cv_cygwin32&quot; &gt;&amp;6
+CYGWIN32=
+test &quot;$nxconf_cv_cygwin32&quot; = yes &amp;&amp; CYGWIN32=yes
 
 
 
@@ -4622,8 +4580,8 @@ test &quot;$nxconf_cv_darwin&quot; = yes &amp;&amp; DARWIN=yes
 
 
 
-echo &quot;$as_me:$LINENO: checking for Solaris environment&quot; &gt;&amp;5
-echo $ECHO_N &quot;checking for Solaris environment... $ECHO_C&quot; &gt;&amp;6
+echo &quot;$as_me:$LINENO: checking for SunOS environment&quot; &gt;&amp;5
+echo $ECHO_N &quot;checking for SunOS environment... $ECHO_C&quot; &gt;&amp;6
 if test &quot;${nxconf_cv_sun+set}&quot; = set; then
   echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
 else
@@ -4681,163 +4639,6 @@ test &quot;$nxconf_cv_sun&quot; = yes &amp;&amp; SUN=yes
 
 
 
-echo &quot;$as_me:$LINENO: checking for FreeBSD environment&quot; &gt;&amp;5
-echo $ECHO_N &quot;checking for FreeBSD environment... $ECHO_C&quot; &gt;&amp;6
-if test &quot;${nxconf_cv_freebsd+set}&quot; = set; then
-  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
-else
-  cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h &gt;&gt;conftest.$ac_ext
-cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
-/* end confdefs.h.  */
-
-int
-main ()
-{
-return __FreeBSD__;
-  ;
-  return 0;
-}
-_ACEOF
-rm -f conftest.$ac_objext
-if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_compile\&quot;&quot;) &gt;&amp;5
-  (eval $ac_compile) 2&gt;conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 &gt;conftest.err
-  rm -f conftest.er1
-  cat conftest.err &gt;&amp;5
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); } &amp;&amp;
-	 { ac_try='test -z &quot;$ac_cxx_werror_flag&quot;
-			 || test ! -s conftest.err'
-  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
-  (eval $ac_try) 2&gt;&amp;5
-  ac_status=$?
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); }; } &amp;&amp;
-	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
-  (eval $ac_try) 2&gt;&amp;5
-  ac_status=$?
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); }; }; then
-  nxconf_cv_freebsd=yes
-else
-  echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
-sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
-
-nxconf_cv_freebsd=no
-fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
-rm -f conftest*
-fi
-echo &quot;$as_me:$LINENO: result: $nxconf_cv_freebsd&quot; &gt;&amp;5
-echo &quot;${ECHO_T}$nxconf_cv_freebsd&quot; &gt;&amp;6
-FreeBSD=
-test &quot;$nxconf_cv_freebsd&quot; = yes &amp;&amp; FreeBSD=yes
-
-
-if test &quot;$CYGWIN32&quot; != yes -a &quot;$DARWIN&quot; != yes; then
-  CXXFLAGS=&quot;$CXXFLAGS -fPIC&quot;
-  CFLAGS=&quot;$CFLAGS -fPIC&quot;
-fi
-
-
-if test &quot;$SUN&quot; = yes; then
-  LIBS=&quot;$LIBS -L/usr/sfw/lib -lsocket &quot;
-  CXXFLAGS=&quot;$CXXFLAGS -I/usr/sfw/include&quot;
-  CFLAGS=&quot;$CFLAGS -I/usr/sfw/include&quot;
-fi
-
-
-if test &quot;$FreeBSD&quot; = yes; then
-  LIBS=&quot;$LIBS -L/usr/local/lib&quot;
-  CXXFLAGS=&quot;$CXXFLAGS -I/usr/local/include&quot;
-  CFLAGS=&quot;$CFLAGS -I/usr/local/include&quot;
-fi
-
-
-if test &quot;$DARWIN&quot; = yes; then
-  LDFLAGS=&quot;$LDFLAGS -bundle&quot;
-elif test &quot;$SUN&quot; = yes; then
-  LDFLAGS=&quot;$LDFLAGS -G -h \$(LIBLOAD)&quot;
-else
-  LDFLAGS=&quot;$LDFLAGS -Wl,-soname,\$(LIBLOAD)&quot;
-fi
-
-
-
-echo &quot;$as_me:$LINENO: checking for in_addr_t&quot; &gt;&amp;5
-echo $ECHO_N &quot;checking for in_addr_t... $ECHO_C&quot; &gt;&amp;6
-if test &quot;${nxconf_cv_inaddrt+set}&quot; = set; then
-  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
-else
-  cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h &gt;&gt;conftest.$ac_ext
-cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
-/* end confdefs.h.  */
-#include &lt;netinet/in.h&gt;
-int
-main ()
-{
-in_addr_t t; t = 1; return t;
-  ;
-  return 0;
-}
-_ACEOF
-rm -f conftest.$ac_objext
-if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_compile\&quot;&quot;) &gt;&amp;5
-  (eval $ac_compile) 2&gt;conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 &gt;conftest.err
-  rm -f conftest.er1
-  cat conftest.err &gt;&amp;5
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); } &amp;&amp;
-	 { ac_try='test -z &quot;$ac_cxx_werror_flag&quot;
-			 || test ! -s conftest.err'
-  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
-  (eval $ac_try) 2&gt;&amp;5
-  ac_status=$?
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); }; } &amp;&amp;
-	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
-  (eval $ac_try) 2&gt;&amp;5
-  ac_status=$?
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); }; }; then
-  nxconf_cv_inaddrt=yes
-else
-  echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
-sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
-
-nxconf_cv_inaddrt=no
-fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
-rm -f conftest*
-fi
-echo &quot;$as_me:$LINENO: result: $nxconf_cv_inaddrt&quot; &gt;&amp;5
-echo &quot;${ECHO_T}$nxconf_cv_inaddrt&quot; &gt;&amp;6
-INADDRT=
-test &quot;$nxconf_cv_inaddrt&quot; = yes &amp;&amp; INADDRT=yes
-
-
-if test &quot;$INADDRT&quot; != yes ; then
-  echo -e &quot;using unsigned int for type in_addr_t&quot;
-  CXXFLAGS=&quot;$CXXFLAGS -DIN_ADDR_T=unsigned&quot;
-  CFLAGS=&quot;$CFLAGS -DIN_ADDR_T=unsigned&quot;
-else
-  CXXFLAGS=&quot;$CXXFLAGS -DIN_ADDR_T=in_addr_t&quot;
-  CFLAGS=&quot;$CFLAGS -DIN_ADDR_T=in_addr_t&quot;
-fi
-
-
-
 
 if test &quot;${with_version}&quot; = yes; then
   VERSION=${ac_option}
@@ -4849,108 +4650,22 @@ echo -e &quot;compiling version ${VERSION}&quot;
 LIBVERSION=`echo ${VERSION} | cut -d '.' -f 1`
 
 CXXFLAGS=&quot;$CXXFLAGS -DVERSION=\\\&quot;${VERSION}\\\&quot;&quot;
-CFLAGS=&quot;$CFLAGS -DVERSION=\\\&quot;${VERSION}\\\&quot;&quot;
-
-
-if test &quot;${with_static_png}&quot; = yes; then
-  echo -e &quot;enabling static linking of PNG library&quot;
-  if test &quot;$SUN&quot; = yes &amp;&amp; test -f &quot;/usr/sfw/lib/libpng.a&quot;; then
-    LIBSTATIC=&quot;$LIBSTATIC /usr/sfw/lib/libpng.a&quot;
-  else
-    if test -f &quot;/usr/lib/libpng.a&quot; ; then
-      LIBSTATIC=&quot;$LIBSTATIC /usr/lib/libpng.a&quot;
-    else
-      if test -f &quot;/usr/local/lib/libpng.a&quot; ; then
-        echo -e &quot;assuming libpng.a in /usr/local/lib&quot;
-        LIBSTATIC=&quot;$LIBSTATIC /usr/local/lib/libpng.a&quot;
-      else
-        echo -e &quot;Warning: assuming libpng.a in the local path&quot;
-        LIBSTATIC=&quot;$LIBSTATIC libpng.a&quot;
-      fi
-    fi
-  fi
-else
-  echo -e &quot;enabling dynamic linking of PNG library&quot;
-  LIBSHARED=&quot;$LIBSHARED -lpng&quot;
-fi
-
-
-if test &quot;${with_static_jpeg}&quot; = yes; then
-  echo -e &quot;enabling static linking of JPEG library&quot;
-  if test &quot;$SUN&quot; = yes &amp;&amp; test -f &quot;/usr/sfw/lib/libjpeg.a&quot;; then
-    LIBSTATIC=&quot;$LIBSTATIC /usr/sfw/lib/libjpeg.a&quot;
-  else
-    if test -f &quot;/usr/lib/libjpeg.a&quot; ; then
-      LIBSTATIC=&quot;$LIBSTATIC /usr/lib/libjpeg.a&quot;
-    else
-      if test -f &quot;/usr/local/lib/libjpeg.a&quot; ; then
-        echo -e &quot;assuming libjpeg.a in /usr/local/lib&quot;
-        LIBSTATIC=&quot;$LIBSTATIC /usr/local/lib/libjpeg.a&quot;
-      else
-        echo -e &quot;Warning: assuming libjpeg.a in the local path&quot;
-        LIBSTATIC=&quot;$LIBSTATIC libjpeg.a&quot;
-      fi
-    fi
-  fi
-else
-  echo -e &quot;enabling dynamic linking of JPEG library&quot;
-  LIBSHARED=&quot;$LIBSHARED -ljpeg&quot;
-fi
-
-
-if test &quot;${with_static_z}&quot; = yes; then
-  echo -e &quot;enabling static linking of Z library&quot;
-  if test &quot;$SUN&quot; = yes &amp;&amp; test -f &quot;/usr/sfw/lib/libz.a&quot;; then
-    LIBSTATIC=&quot;$LIBSTATIC /usr/sfw/lib/libz.a&quot;
-  else
-    if test -f &quot;/usr/lib/libz.a&quot; ; then
-      LIBSTATIC=&quot;$LIBSTATIC /usr/lib/libz.a&quot;
-    else
-      if test -f &quot;/usr/local/lib/libz.a&quot; ; then
-        echo -e &quot;assuming libz.a in /usr/local/lib&quot;
-        LIBSTATIC=&quot;$LIBSTATIC /usr/local/lib/libz.a&quot;
-      else
-        echo -e &quot;Warning: assuming libz.a in the local path&quot;
-        LIBSTATIC=&quot;$LIBSTATIC libz.a&quot;
-      fi
-    fi
-  fi
-else
-  echo -e &quot;enabling dynamic linking of Z library&quot;
-  LIBSHARED=&quot;$LIBSHARED -lz&quot;
-fi
-
-
-if test &quot;$DARWIN&quot; = yes ; then
-  LIBS=&quot;$LIBS $LIBSTATIC $LIBSHARED&quot;
-elif test &quot;$SUN&quot; = yes ; then
-  LIBS=&quot;$LIBS $LIBSTATIC $LIBSHARED&quot;
-else
-  LIBS=&quot;$LIBS $LIBSTATIC -shared $LIBSHARED&quot;
-fi
+CPPFLAGS=&quot;$CPPFLAGS -DVERSION=\\\&quot;${VERSION}\\\&quot;&quot;
 
 
 if test &quot;${with_symbols}&quot; = yes; then
   echo -e &quot;enabling production of debug symbols&quot;
   CXXFLAGS=&quot;-g $CXXFLAGS&quot;
-  CFLAGS=&quot;-g $CFLAGS&quot;
+  CPPFLAGS=&quot;-g $CPPFLAGS&quot;
 else
   echo -e &quot;disabling production of debug symbols&quot;
 fi
 
 
-if test &quot;${with_use_malloc}&quot; = yes; then
-  echo -e &quot;disabling use of the STL allocators&quot;
-  CXXFLAGS=&quot;$CXXFLAGS -D__USE_MALLOC&quot;
-else
-  echo -e &quot;enabling use of the STL allocators&quot;
-fi
-
-
 if test &quot;${with_info}&quot; = yes; then
   echo -e &quot;enabling info output in the log file&quot;
   CXXFLAGS=&quot;$CXXFLAGS -DINFO&quot;
-  CFLAGS=&quot;$CFLAGS -DINFO&quot;
+  CPPFLAGS=&quot;$CPPFLAGS -DINFO&quot;
 else
   echo -e &quot;disabling info output in the log file&quot;
 fi
@@ -4959,12 +4674,19 @@ fi
 if test &quot;${with_valgrind}&quot; = yes; then
   echo -e &quot;enabling valgrind memory checker workarounds&quot;
   CXXFLAGS=&quot;$CXXFLAGS -DVALGRIND&quot;
-  CFLAGS=&quot;$CFLAGS -DVALGRIND&quot;
+  CPPFLAGS=&quot;$CPPFLAGS -DVALGRIND&quot;
 else
   echo -e &quot;disabling valgrind memory checker workarounds&quot;
 fi
 
 
+if test &quot;$CYGWIN32&quot; = yes; then
+    LIBS=&quot;$LIBS -L../nxcomp -lXcomp -lstdc++ -Wl,-e,_mainCRTStartup -ljpeg -lpng -lz&quot;
+else
+    LIBS=&quot;$LIBS -L../nxcomp -lXcomp&quot;
+fi
+
+
 
 
 if test -x &quot;../nx-X11/config/makedepend/makedepend&quot; ; then
@@ -4976,21 +4698,11 @@ else
     if test -x &quot;/usr/openwin/bin/makedepend&quot; ; then
       MAKEDEPEND=/usr/openwin/bin/makedepend
     else
-      MAKEDEPEND=/usr/bin/makedepend
+      MAKEDEPEND=makedepend
     fi
   fi
 fi
 
-
-
-
-if test &quot;$CYGWIN32&quot; = yes; then
-    ALL=&quot;\$(LIBCYGARCHIVE) \$(LIBCYGSHARED) \$(LIBARCHIVE)&quot;
-    LIBS=&quot;-lstdc++ -lpng -ljpeg -lz&quot;
-else
-    ALL=&quot;\$(LIBFULL) \$(LIBLOAD) \$(LIBSHARED) \$(LIBARCHIVE)&quot;
-fi
-
           ac_config_files=&quot;$ac_config_files Makefile&quot;
 cat &gt;confcache &lt;&lt;\_ACEOF
 # This file is a shell script that caches the results of configure
@@ -5101,7 +4813,7 @@ rm -f confdef2opt.sed
 
 ac_libobjs=
 ac_ltlibobjs=
-for ac_i in : $LIBOBJS; do test &quot;x$ac_i&quot; = x: &amp;&amp; continue
+for ac_i in : $LIB@&amp;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">t at OBJS</A>; do test &quot;x$ac_i&quot; = x: &amp;&amp; continue
   # 1. Remove the extension, and $U if already installed.
   ac_i=`echo &quot;$ac_i&quot; |
 	 sed 's/\$U\././;s/\.o$//;s/\.obj$//'`
@@ -5109,7 +4821,7 @@ for ac_i in : $LIBOBJS; do test &quot;x$ac_i&quot; = x: &amp;&amp; continue
   ac_libobjs=&quot;$ac_libobjs $ac_i\$U.$ac_objext&quot;
   ac_ltlibobjs=&quot;$ac_ltlibobjs $ac_i&quot;'$U.lo'
 done
-LIBOBJS=$ac_libobjs
+LIB@&amp;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">t at OBJS</A>=$ac_libobjs
 
 LTLIBOBJS=$ac_ltlibobjs
 
@@ -5379,8 +5091,8 @@ exec 6&gt;&amp;1
 exec 5&gt;&gt;config.log
 {
   echo
-  sed 'h;s/./-/g;s/^.../## /;s/...$/ ##/;p;x;p;x' &lt;&lt;_ASBOX
-## Running $as_me. ##
+  sed 'h;s/./-/g;s/^.../@%:@@%:@ /;s/...$/ @%:@@%:@/;p;x;p;x' &lt;&lt;_ASBOX
+@%:@@%:@ Running $as_me. @%:@@%:@
 _ASBOX
 } &gt;&amp;5
 cat &gt;&amp;5 &lt;&lt;_CSEOF
@@ -5650,8 +5362,7 @@ <A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">s, at X_EXTRA_LIBS</A>@,$X_EXTRA_LIBS,;t t
 <A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">s, at LIBVERSION</A>@,$LIBVERSION,;t t
 <A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">s, at VERSION</A>@,$VERSION,;t t
 <A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">s, at MAKEDEPEND</A>@,$MAKEDEPEND,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">-s, at ALL</A>@,$ALL,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">-s, at LIBOBJS</A>@,$LIBOBJS,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">+s, at LIB</A>@&amp;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">t at OBJS</A>@,$LIB@&amp;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">t at OBJS</A>,;t t
 <A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">s, at LTLIBOBJS</A>@,$LTLIBOBJS,;t t
 CEOF
 
diff --git a/nxproxy/autom4te.cache/requests b/nxproxy/autom4te.cache/requests
new file mode 100644
index 0000000..6e49674
--- /dev/null
+++ b/nxproxy/autom4te.cache/requests
@@ -0,0 +1,115 @@
+# This file was generated.
+# It contains the lists of macros which have been traced.
+# It can be safely removed.
+
<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">+ at request</A> = (
+             bless( [
+                      '0',
+                      1,
+                      [
+                        '/usr/share/autoconf'
+                      ],
+                      [
+                        '/usr/share/autoconf/autoconf/autoconf.m4f',
+                        'configure.in'
+                      ],
+                      {
+                        'm4_pattern_forbid' =&gt; 1,
+                        'AC_CONFIG_LIBOBJ_DIR' =&gt; 1,
+                        'AC_TYPE_OFF_T' =&gt; 1,
+                        'AC_C_VOLATILE' =&gt; 1,
+                        'AC_FUNC_CLOSEDIR_VOID' =&gt; 1,
+                        'AC_REPLACE_FNMATCH' =&gt; 1,
+                        'AC_PROG_LIBTOOL' =&gt; 1,
+                        'AC_FUNC_STAT' =&gt; 1,
+                        'AC_HEADER_TIME' =&gt; 1,
+                        'AC_FUNC_WAIT3' =&gt; 1,
+                        'AM_AUTOMAKE_VERSION' =&gt; 1,
+                        'AC_STRUCT_TM' =&gt; 1,
+                        'AC_FUNC_LSTAT' =&gt; 1,
+                        'AC_TYPE_MODE_T' =&gt; 1,
+                        'AC_FUNC_GETMNTENT' =&gt; 1,
+                        'AC_FUNC_STRTOD' =&gt; 1,
+                        'AC_CHECK_HEADERS' =&gt; 1,
+                        'AC_FUNC_STRNLEN' =&gt; 1,
+                        'm4_sinclude' =&gt; 1,
+                        'AC_PROG_CXX' =&gt; 1,
+                        'AC_PATH_X' =&gt; 1,
+                        'AC_FUNC_LSTAT_FOLLOWS_SLASHED_SYMLINK' =&gt; 1,
+                        'AC_PROG_AWK' =&gt; 1,
+                        '_m4_warn' =&gt; 1,
+                        'AC_HEADER_STDC' =&gt; 1,
+                        'AC_HEADER_MAJOR' =&gt; 1,
+                        'AC_FUNC_ERROR_AT_LINE' =&gt; 1,
+                        'AC_PROG_GCC_TRADITIONAL' =&gt; 1,
+                        'AC_LIBSOURCE' =&gt; 1,
+                        'AC_FUNC_MBRTOWC' =&gt; 1,
+                        'AC_STRUCT_ST_BLOCKS' =&gt; 1,
+                        'AC_TYPE_SIGNAL' =&gt; 1,
+                        'AC_TYPE_UID_T' =&gt; 1,
+                        'AC_CONFIG_AUX_DIR' =&gt; 1,
+                        'AC_PROG_MAKE_SET' =&gt; 1,
+                        'sinclude' =&gt; 1,
+                        'm4_pattern_allow' =&gt; 1,
+                        'AC_DEFINE_TRACE_LITERAL' =&gt; 1,
+                        'AC_FUNC_STRERROR_R' =&gt; 1,
+                        'AC_PROG_CC' =&gt; 1,
+                        'AC_FUNC_FORK' =&gt; 1,
+                        'AC_DECL_SYS_SIGLIST' =&gt; 1,
+                        'AC_FUNC_VPRINTF' =&gt; 1,
+                        'AC_FUNC_STRCOLL' =&gt; 1,
+                        'AC_PROG_YACC' =&gt; 1,
+                        'AC_INIT' =&gt; 1,
+                        'AC_STRUCT_TIMEZONE' =&gt; 1,
+                        'AC_FUNC_CHOWN' =&gt; 1,
+                        'AC_SUBST' =&gt; 1,
+                        'AC_FUNC_ALLOCA' =&gt; 1,
+                        'AC_CANONICAL_HOST' =&gt; 1,
+                        'AC_FUNC_GETPGRP' =&gt; 1,
+                        'AC_PROG_RANLIB' =&gt; 1,
+                        'AM_INIT_AUTOMAKE' =&gt; 1,
+                        'AC_FUNC_SETPGRP' =&gt; 1,
+                        'AC_CONFIG_SUBDIRS' =&gt; 1,
+                        'AC_FUNC_MMAP' =&gt; 1,
+                        'AC_FUNC_REALLOC' =&gt; 1,
+                        'AC_TYPE_SIZE_T' =&gt; 1,
+                        'AC_CONFIG_LINKS' =&gt; 1,
+                        'AC_CHECK_TYPES' =&gt; 1,
+                        'AC_CHECK_MEMBERS' =&gt; 1,
+                        'AM_MAINTAINER_MODE' =&gt; 1,
+                        'AC_FUNC_UTIME_NULL' =&gt; 1,
+                        'AC_FUNC_SELECT_ARGTYPES' =&gt; 1,
+                        'AC_FUNC_STRFTIME' =&gt; 1,
+                        'AC_HEADER_STAT' =&gt; 1,
+                        'AC_C_INLINE' =&gt; 1,
+                        'AC_PROG_CPP' =&gt; 1,
+                        'AC_TYPE_PID_T' =&gt; 1,
+                        'AC_C_CONST' =&gt; 1,
+                        'AC_PROG_LEX' =&gt; 1,
+                        'AC_CONFIG_FILES' =&gt; 1,
+                        'include' =&gt; 1,
+                        'AC_FUNC_SETVBUF_REVERSED' =&gt; 1,
+                        'AC_PROG_INSTALL' =&gt; 1,
+                        'AM_GNU_GETTEXT' =&gt; 1,
+                        'AC_FUNC_OBSTACK' =&gt; 1,
+                        'AC_CHECK_LIB' =&gt; 1,
+                        'AC_FUNC_MALLOC' =&gt; 1,
+                        'AC_FUNC_GETGROUPS' =&gt; 1,
+                        'AC_FUNC_GETLOADAVG' =&gt; 1,
+                        'AH_OUTPUT' =&gt; 1,
+                        'AC_FUNC_FSEEKO' =&gt; 1,
+                        'AM_PROG_CC_C_O' =&gt; 1,
+                        'AM_CONDITIONAL' =&gt; 1,
+                        'AC_CANONICAL_SYSTEM' =&gt; 1,
+                        'AC_FUNC_MKTIME' =&gt; 1,
+                        'AC_CONFIG_HEADERS' =&gt; 1,
+                        'AC_HEADER_SYS_WAIT' =&gt; 1,
+                        'AC_FUNC_MEMCMP' =&gt; 1,
+                        'AC_PROG_LN_S' =&gt; 1,
+                        'm4_include' =&gt; 1,
+                        'AC_HEADER_DIRENT' =&gt; 1,
+                        'AC_CHECK_FUNCS' =&gt; 1
+                      }
+                    ], 'Autom4te::Request' )
+           );
+
diff --git a/nxproxy/autom4te.cache/traces.0 b/nxproxy/autom4te.cache/traces.0
new file mode 100644
index 0000000..282fc56
--- /dev/null
+++ b/nxproxy/autom4te.cache/traces.0
@@ -0,0 +1,134 @@
+m4trace:configure.in:5: -1- AC_INIT([Main.c])
+m4trace:configure.in:5: -1- m4_pattern_forbid([^_?A[CHUM]_])
+m4trace:configure.in:5: -1- m4_pattern_forbid([_AC_])
+m4trace:configure.in:5: -1- m4_pattern_forbid([^LIBOBJS$], [do not use LIBOBJS directly, use AC_LIBOBJ (see section `AC_LIBOBJ vs LIBOBJS'])
+m4trace:configure.in:5: -1- m4_pattern_allow([^AS_FLAGS$])
+m4trace:configure.in:5: -1- m4_pattern_forbid([^_?m4_])
+m4trace:configure.in:5: -1- m4_pattern_forbid([^dnl$])
+m4trace:configure.in:5: -1- m4_pattern_forbid([^_?AS_])
+m4trace:configure.in:5: -1- AC_SUBST([SHELL], [${CONFIG_SHELL-/bin/sh}])
+m4trace:configure.in:5: -1- AC_SUBST([PATH_SEPARATOR])
+m4trace:configure.in:5: -1- AC_SUBST([PACKAGE_NAME], [m4_ifdef([AC_PACKAGE_NAME],      ['AC_PACKAGE_NAME'])])
+m4trace:configure.in:5: -1- AC_SUBST([PACKAGE_TARNAME], [m4_ifdef([AC_PACKAGE_TARNAME],   ['AC_PACKAGE_TARNAME'])])
+m4trace:configure.in:5: -1- AC_SUBST([PACKAGE_VERSION], [m4_ifdef([AC_PACKAGE_VERSION],   ['AC_PACKAGE_VERSION'])])
+m4trace:configure.in:5: -1- AC_SUBST([PACKAGE_STRING], [m4_ifdef([AC_PACKAGE_STRING],    ['AC_PACKAGE_STRING'])])
+m4trace:configure.in:5: -1- AC_SUBST([PACKAGE_BUGREPORT], [m4_ifdef([AC_PACKAGE_BUGREPORT], ['AC_PACKAGE_BUGREPORT'])])
+m4trace:configure.in:5: -1- AC_SUBST([exec_prefix], [NONE])
+m4trace:configure.in:5: -1- AC_SUBST([prefix], [NONE])
+m4trace:configure.in:5: -1- AC_SUBST([program_transform_name], [s,x,x,])
+m4trace:configure.in:5: -1- AC_SUBST([bindir], ['${exec_prefix}/bin'])
+m4trace:configure.in:5: -1- AC_SUBST([sbindir], ['${exec_prefix}/sbin'])
+m4trace:configure.in:5: -1- AC_SUBST([libexecdir], ['${exec_prefix}/libexec'])
+m4trace:configure.in:5: -1- AC_SUBST([datadir], ['${prefix}/share'])
+m4trace:configure.in:5: -1- AC_SUBST([sysconfdir], ['${prefix}/etc'])
+m4trace:configure.in:5: -1- AC_SUBST([sharedstatedir], ['${prefix}/com'])
+m4trace:configure.in:5: -1- AC_SUBST([localstatedir], ['${prefix}/var'])
+m4trace:configure.in:5: -1- AC_SUBST([libdir], ['${exec_prefix}/lib'])
+m4trace:configure.in:5: -1- AC_SUBST([includedir], ['${prefix}/include'])
+m4trace:configure.in:5: -1- AC_SUBST([oldincludedir], ['/usr/include'])
+m4trace:configure.in:5: -1- AC_SUBST([infodir], ['${prefix}/info'])
+m4trace:configure.in:5: -1- AC_SUBST([mandir], ['${prefix}/man'])
+m4trace:configure.in:5: -1- AC_DEFINE_TRACE_LITERAL([PACKAGE_NAME])
+m4trace:configure.in:5: -1- AH_OUTPUT([PACKAGE_NAME], [/* Define to the full name of this package. */
+#undef PACKAGE_NAME])
+m4trace:configure.in:5: -1- AC_DEFINE_TRACE_LITERAL([PACKAGE_TARNAME])
+m4trace:configure.in:5: -1- AH_OUTPUT([PACKAGE_TARNAME], [/* Define to the one symbol short name of this package. */
+#undef PACKAGE_TARNAME])
+m4trace:configure.in:5: -1- AC_DEFINE_TRACE_LITERAL([PACKAGE_VERSION])
+m4trace:configure.in:5: -1- AH_OUTPUT([PACKAGE_VERSION], [/* Define to the version of this package. */
+#undef PACKAGE_VERSION])
+m4trace:configure.in:5: -1- AC_DEFINE_TRACE_LITERAL([PACKAGE_STRING])
+m4trace:configure.in:5: -1- AH_OUTPUT([PACKAGE_STRING], [/* Define to the full name and version of this package. */
+#undef PACKAGE_STRING])
+m4trace:configure.in:5: -1- AC_DEFINE_TRACE_LITERAL([PACKAGE_BUGREPORT])
+m4trace:configure.in:5: -1- AH_OUTPUT([PACKAGE_BUGREPORT], [/* Define to the address where bug reports for this package should be sent. */
+#undef PACKAGE_BUGREPORT])
+m4trace:configure.in:5: -1- AC_SUBST([build_alias])
+m4trace:configure.in:5: -1- AC_SUBST([host_alias])
+m4trace:configure.in:5: -1- AC_SUBST([target_alias])
+m4trace:configure.in:5: -1- AC_SUBST([DEFS])
+m4trace:configure.in:5: -1- AC_SUBST([ECHO_C])
+m4trace:configure.in:5: -1- AC_SUBST([ECHO_N])
+m4trace:configure.in:5: -1- AC_SUBST([ECHO_T])
+m4trace:configure.in:5: -1- AC_SUBST([LIBS])
+m4trace:configure.in:29: -1- AC_SUBST([armcxx])
+m4trace:configure.in:30: -1- AC_SUBST([armcc])
+m4trace:configure.in:45: -1- AC_PROG_CXX
+m4trace:configure.in:45: -1- AC_SUBST([CXX])
+m4trace:configure.in:45: -1- AC_SUBST([CXXFLAGS])
+m4trace:configure.in:45: -1- AC_SUBST([LDFLAGS])
+m4trace:configure.in:45: -1- AC_SUBST([CPPFLAGS])
+m4trace:configure.in:45: -1- AC_SUBST([CXX])
+m4trace:configure.in:45: -1- AC_SUBST([ac_ct_CXX])
+m4trace:configure.in:45: -1- AC_SUBST([EXEEXT], [$ac_cv_exeext])
+m4trace:configure.in:45: -1- AC_SUBST([OBJEXT], [$ac_cv_objext])
+m4trace:configure.in:46: -1- AC_PROG_CC
+m4trace:configure.in:46: -1- AC_SUBST([CC])
+m4trace:configure.in:46: -1- AC_SUBST([CFLAGS])
+m4trace:configure.in:46: -1- AC_SUBST([LDFLAGS])
+m4trace:configure.in:46: -1- AC_SUBST([CPPFLAGS])
+m4trace:configure.in:46: -1- AC_SUBST([CC])
+m4trace:configure.in:46: -1- AC_SUBST([ac_ct_CC])
+m4trace:configure.in:46: -1- AC_SUBST([CC])
+m4trace:configure.in:46: -1- AC_SUBST([ac_ct_CC])
+m4trace:configure.in:46: -1- AC_SUBST([CC])
+m4trace:configure.in:46: -1- AC_SUBST([CC])
+m4trace:configure.in:46: -1- AC_SUBST([ac_ct_CC])
+m4trace:configure.in:47: -1- _m4_warn([obsolete], [The macro `AC_LANG_CPLUSPLUS' is obsolete.
+You should run autoupdate.], [autoconf/c.m4:103: AC_LANG_CPLUSPLUS is expanded from...
+configure.in:47: the top level])
+m4trace:configure.in:51: -1- AC_PROG_INSTALL
+m4trace:configure.in:51: -1- AC_SUBST([INSTALL_PROGRAM])
+m4trace:configure.in:51: -1- AC_SUBST([INSTALL_SCRIPT])
+m4trace:configure.in:51: -1- AC_SUBST([INSTALL_DATA])
+m4trace:configure.in:55: -1- AC_PATH_X
+m4trace:configure.in:55: -1- AC_SUBST([CXXCPP])
+m4trace:configure.in:55: -1- AC_SUBST([CPPFLAGS])
+m4trace:configure.in:55: -1- AC_SUBST([CXXCPP])
+m4trace:configure.in:55: -1- AC_DEFINE_TRACE_LITERAL([X_DISPLAY_MISSING])
+m4trace:configure.in:55: -1- AH_OUTPUT([X_DISPLAY_MISSING], [/* Define to 1 if the X Window System is missing or not being used. */
+#undef X_DISPLAY_MISSING])
+m4trace:configure.in:55: -1- AC_CHECK_LIB([dnet], [dnet_ntoa], [X_EXTRA_LIBS=&quot;$X_EXTRA_LIBS -ldnet&quot;])
+m4trace:configure.in:55: -1- AC_CHECK_LIB([dnet_stub], [dnet_ntoa], [X_EXTRA_LIBS=&quot;$X_EXTRA_LIBS -ldnet_stub&quot;])
+m4trace:configure.in:55: -1- AC_CHECK_LIB([nsl], [gethostbyname], [X_EXTRA_LIBS=&quot;$X_EXTRA_LIBS -lnsl&quot;])
+m4trace:configure.in:55: -1- AC_CHECK_LIB([bsd], [gethostbyname], [X_EXTRA_LIBS=&quot;$X_EXTRA_LIBS -lbsd&quot;])
+m4trace:configure.in:55: -1- AC_CHECK_LIB([socket], [connect], [X_EXTRA_LIBS=&quot;-lsocket $X_EXTRA_LIBS&quot;], [], [$X_EXTRA_LIBS])
+m4trace:configure.in:55: -1- AC_CHECK_LIB([posix], [remove], [X_EXTRA_LIBS=&quot;$X_EXTRA_LIBS -lposix&quot;])
+m4trace:configure.in:55: -1- AC_CHECK_LIB([ipc], [shmat], [X_EXTRA_LIBS=&quot;$X_EXTRA_LIBS -lipc&quot;])
+m4trace:configure.in:55: -1- AC_CHECK_LIB([ICE], [IceConnectionNumber], [X_PRE_LIBS=&quot;$X_PRE_LIBS -lSM -lICE&quot;], [], [$X_EXTRA_LIBS])
+m4trace:configure.in:55: -1- AC_SUBST([X_CFLAGS])
+m4trace:configure.in:55: -1- AC_SUBST([X_PRE_LIBS])
+m4trace:configure.in:55: -1- AC_SUBST([X_LIBS])
+m4trace:configure.in:55: -1- AC_SUBST([X_EXTRA_LIBS])
+m4trace:configure.in:76: -1- _m4_warn([obsolete], [The macro `AC_TRY_COMPILE' is obsolete.
+You should run autoupdate.], [autoconf/general.m4:2180: AC_TRY_COMPILE is expanded from...
+autoconf/general.m4:1799: AC_CACHE_VAL is expanded from...
+autoconf/general.m4:1808: AC_CACHE_CHECK is expanded from...
+configure.in:75: nxconf_FreeBSD is expanded from...
+configure.in:76: the top level])
+m4trace:configure.in:86: -1- _m4_warn([obsolete], [The macro `AC_TRY_COMPILE' is obsolete.
+You should run autoupdate.], [autoconf/general.m4:2180: AC_TRY_COMPILE is expanded from...
+autoconf/general.m4:1799: AC_CACHE_VAL is expanded from...
+autoconf/general.m4:1808: AC_CACHE_CHECK is expanded from...
+configure.in:85: nxconf_CYGWIN32 is expanded from...
+configure.in:86: the top level])
+m4trace:configure.in:97: -1- _m4_warn([obsolete], [The macro `AC_TRY_COMPILE' is obsolete.
+You should run autoupdate.], [autoconf/general.m4:2180: AC_TRY_COMPILE is expanded from...
+autoconf/general.m4:1799: AC_CACHE_VAL is expanded from...
+autoconf/general.m4:1808: AC_CACHE_CHECK is expanded from...
+configure.in:96: nxconf_DARWIN is expanded from...
+configure.in:97: the top level])
+m4trace:configure.in:108: -1- _m4_warn([obsolete], [The macro `AC_TRY_COMPILE' is obsolete.
+You should run autoupdate.], [autoconf/general.m4:2180: AC_TRY_COMPILE is expanded from...
+autoconf/general.m4:1799: AC_CACHE_VAL is expanded from...
+autoconf/general.m4:1808: AC_CACHE_CHECK is expanded from...
+configure.in:107: nxconf_SUN is expanded from...
+configure.in:108: the top level])
+m4trace:configure.in:112: -1- AC_SUBST([LIBVERSION])
+m4trace:configure.in:113: -1- AC_SUBST([VERSION])
+m4trace:configure.in:169: -1- AC_SUBST([MAKEDEPEND])
+m4trace:configure.in:185: -1- AC_CONFIG_FILES([Makefile])
+m4trace:configure.in:185: -1- _m4_warn([obsolete], [AC_OUTPUT should be used without arguments.
+You should run autoupdate.], [])
+m4trace:configure.in:185: -1- AC_SUBST([LIB@&amp;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">t at OBJS</A>], [$ac_libobjs])
+m4trace:configure.in:185: -1- AC_SUBST([LTLIBOBJS], [$ac_ltlibobjs])
diff --git a/nxcomp/configure b/nxproxy/configure
similarity index 94%
copy from nxcomp/configure
copy to nxproxy/configure
index 633baf8..9d9f08c 100755
--- a/nxcomp/configure
+++ b/nxproxy/configure
@@ -271,8 +271,8 @@ PACKAGE_VERSION=
 PACKAGE_STRING=
 PACKAGE_BUGREPORT=
 
-ac_unique_file=&quot;NX.h&quot;
-ac_subst_vars='SHELL PATH_SEPARATOR PACKAGE_NAME PACKAGE_TARNAME PACKAGE_VERSION PACKAGE_STRING PACKAGE_BUGREPORT exec_prefix prefix program_transform_name bindir sbindir libexecdir datadir sysconfdir sharedstatedir localstatedir libdir includedir oldincludedir infodir mandir build_alias host_alias target_alias DEFS ECHO_C ECHO_N ECHO_T LIBS armcxx armcc CXX CXXFLAGS LDFLAGS CPPFLAGS ac_ct_CXX EXEEXT OBJEXT CC CFLAGS ac_ct_CC INSTALL_PROGRAM INSTALL_SCRIPT INSTALL_DATA CXXCPP X_CFLAGS X_PRE_LIBS X_LIBS X_EXTRA_LIBS LIBVERSION VERSION MAKEDEPEND ALL LIBOBJS LTLIBOBJS'
+ac_unique_file=&quot;Main.c&quot;
+ac_subst_vars='SHELL PATH_SEPARATOR PACKAGE_NAME PACKAGE_TARNAME PACKAGE_VERSION PACKAGE_STRING PACKAGE_BUGREPORT exec_prefix prefix program_transform_name bindir sbindir libexecdir datadir sysconfdir sharedstatedir localstatedir libdir includedir oldincludedir infodir mandir build_alias host_alias target_alias DEFS ECHO_C ECHO_N ECHO_T LIBS armcxx armcc CXX CXXFLAGS LDFLAGS CPPFLAGS ac_ct_CXX EXEEXT OBJEXT CC CFLAGS ac_ct_CC INSTALL_PROGRAM INSTALL_SCRIPT INSTALL_DATA CXXCPP X_CFLAGS X_PRE_LIBS X_LIBS X_EXTRA_LIBS LIBVERSION VERSION MAKEDEPEND LIBOBJS LTLIBOBJS'
 ac_subst_files=''
 
 # Initialize some variables set by options.
@@ -1269,23 +1269,18 @@ ac_compiler_gnu=$ac_cv_c_compiler_gnu
 
 
 
-CXXFLAGS=&quot;-O3 -fno-rtti -fno-exceptions&quot;
-CFLAGS=&quot;-O3&quot;
+CXXFLAGS=&quot;-O3&quot;
+CPPFLAGS=&quot;-O3&quot;
 
 
-LIBSTATIC=&quot;&quot;
-LIBSHARED=&quot;&quot;
-
-
-if test -d &quot;../nx-X11/include&quot; ; then
+if test -d &quot;../nx-X11/exports/include&quot; ; then
     CXXFLAGS=&quot;$CXXFLAGS -I../nx-X11/exports/include&quot;
-    CFLAGS=&quot;$CFLAGS -I../nx-X11/exports/include&quot;
     LIBS=&quot;$LIBS -L../nx-X11/exports/lib&quot;
 fi
 
 
 if test &quot;${with_ipaq}&quot; = yes; then
-  echo -e &quot;enabling IPAQ configuration&quot;
+  echo -e &quot;enabling ipaq configuration&quot;
   CXX=&quot;arm-linux-c++&quot;
   CC=&quot;arm-linux-gcc&quot;
   unset ac_cv_prog_armcxx
@@ -1367,8 +1362,8 @@ fi
     ac_cv_prog_CXX=&quot;$CXX&quot;
     ac_cv_prog_CC=&quot;$CC&quot;
   else
-    { { echo &quot;$as_me:$LINENO: error: Installation or configuration problem. Cannot find compiler for arm-linux.&quot; &gt;&amp;5
-echo &quot;$as_me: error: Installation or configuration problem. Cannot find compiler for arm-linux.&quot; &gt;&amp;2;}
+    { { echo &quot;$as_me:$LINENO: error: installation or configuration problem: I cannot find compiler for arm-linux&quot; &gt;&amp;5
+echo &quot;$as_me: error: installation or configuration problem: I cannot find compiler for arm-linux&quot; &gt;&amp;2;}
    { (exit 1); exit 1; }; }
   fi
 else
@@ -2671,39 +2666,6 @@ ac_compiler_gnu=$ac_cv_cxx_compiler_gnu
 
 
 
-echo &quot;$as_me:$LINENO: checking whether compiler needs -Wno-deprecated&quot; &gt;&amp;5
-echo $ECHO_N &quot;checking whether compiler needs -Wno-deprecated... $ECHO_C&quot; &gt;&amp;6
-gcc_version=`${CC} --version | grep 'gcc (GCC) [3-4].' | head -n 1`
-case &quot;${gcc_version}&quot; in
-     gcc*)
-        echo &quot;$as_me:$LINENO: result: yes&quot; &gt;&amp;5
-echo &quot;${ECHO_T}yes&quot; &gt;&amp;6
-        CXXFLAGS=&quot;$CXXFLAGS -Wno-deprecated&quot;
-        ;;
-
-     *)
-        echo &quot;$as_me:$LINENO: result: no&quot; &gt;&amp;5
-echo &quot;${ECHO_T}no&quot; &gt;&amp;6
-        ;;
-esac
-
-echo &quot;$as_me:$LINENO: checking whether compiler accepts -Wmissing-declarations&quot; &gt;&amp;5
-echo $ECHO_N &quot;checking whether compiler accepts -Wmissing-declarations... $ECHO_C&quot; &gt;&amp;6
-gcc_version=`${CC} --version | grep 'gcc (GCC) [3-4].' | head -n 1`
-case &quot;${gcc_version}&quot; in
-     gcc*)
-        echo &quot;$as_me:$LINENO: result: no&quot; &gt;&amp;5
-echo &quot;${ECHO_T}no&quot; &gt;&amp;6
-        ;;
-
-     *)
-        echo &quot;$as_me:$LINENO: result: yes&quot; &gt;&amp;5
-echo &quot;${ECHO_T}yes&quot; &gt;&amp;6
-        CXXFLAGS=&quot;$CXXFLAGS -Wmissing-declarations&quot;
-        ;;
-esac
-
-
 ac_aux_dir=
 for ac_dir in $srcdir $srcdir/.. $srcdir/../..; do
   if test -f $ac_dir/install-sh; then
@@ -4433,21 +4395,17 @@ fi
 
 
 ac_help=&quot;$ac_help
-  --with-symbols          add the -g flag to produce the debug symbols
-  --with-use-malloc       add the __USE_MALLOC flag to avoid the STL allocators
+  --with-symbols          give -g flag to compiler to produce debug symbols
   --with-info             define INFO at compile time to get basic log output
   --with-valgrind         clean up allocated buffers to avoid valgrind warnings
-  --with-version          use this version for produced libraries
+  --with-version          use this version for produced libraries&quot;
 
-  --with-static-png       enable static linking of PNG library
-  --with-static-jpeg      enable static linking of JPEG library
-  --with-static-z         enable static linking of Z library&quot;
 
 
 
-echo &quot;$as_me:$LINENO: checking for Cygwin32 environment&quot; &gt;&amp;5
-echo $ECHO_N &quot;checking for Cygwin32 environment... $ECHO_C&quot; &gt;&amp;6
-if test &quot;${nxconf_cv_cygwin32+set}&quot; = set; then
+echo &quot;$as_me:$LINENO: checking for FreeBSD environment&quot; &gt;&amp;5
+echo $ECHO_N &quot;checking for FreeBSD environment... $ECHO_C&quot; &gt;&amp;6
+if test &quot;${nxconf_cv_freebsd+set}&quot; = set; then
   echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
 else
   cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
@@ -4460,7 +4418,7 @@ cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
 int
 main ()
 {
-return __CYGWIN32__;
+return __FreeBSD__;
   ;
   return 0;
 }
@@ -4487,26 +4445,26 @@ if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_compile\&quot;&quot;) &gt;&amp;5
   ac_status=$?
   echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
   (exit $ac_status); }; }; then
-  nxconf_cv_cygwin32=yes
+  nxconf_cv_freebsd=yes
 else
   echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
 sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
 
-nxconf_cv_cygwin32=no
+nxconf_cv_freebsd=no
 fi
 rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
 rm -f conftest*
 fi
-echo &quot;$as_me:$LINENO: result: $nxconf_cv_cygwin32&quot; &gt;&amp;5
-echo &quot;${ECHO_T}$nxconf_cv_cygwin32&quot; &gt;&amp;6
-CYGWIN32=
-test &quot;$nxconf_cv_cygwin32&quot; = yes &amp;&amp; CYGWIN32=yes
+echo &quot;$as_me:$LINENO: result: $nxconf_cv_freebsd&quot; &gt;&amp;5
+echo &quot;${ECHO_T}$nxconf_cv_freebsd&quot; &gt;&amp;6
+FreeBSD=
+test &quot;$nxconf_cv_freebsd&quot; = yes &amp;&amp; FreeBSD=yes
 
 
 
-echo &quot;$as_me:$LINENO: checking for Amd64 environment&quot; &gt;&amp;5
-echo $ECHO_N &quot;checking for Amd64 environment... $ECHO_C&quot; &gt;&amp;6
-if test &quot;${nxconf_cv_amd64+set}&quot; = set; then
+echo &quot;$as_me:$LINENO: checking for Cygwin32 environment&quot; &gt;&amp;5
+echo $ECHO_N &quot;checking for Cygwin32 environment... $ECHO_C&quot; &gt;&amp;6
+if test &quot;${nxconf_cv_cygwin32+set}&quot; = set; then
   echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
 else
   cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
@@ -4519,7 +4477,7 @@ cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
 int
 main ()
 {
-return (__amd64__ || __x86_64__);
+return __CYGWIN32__;
   ;
   return 0;
 }
@@ -4546,20 +4504,20 @@ if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_compile\&quot;&quot;) &gt;&amp;5
   ac_status=$?
   echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
   (exit $ac_status); }; }; then
-  nxconf_cv_amd64=yes
+  nxconf_cv_cygwin32=yes
 else
   echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
 sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
 
-nxconf_cv_amd64=no
+nxconf_cv_cygwin32=no
 fi
 rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
 rm -f conftest*
 fi
-echo &quot;$as_me:$LINENO: result: $nxconf_cv_amd64&quot; &gt;&amp;5
-echo &quot;${ECHO_T}$nxconf_cv_amd64&quot; &gt;&amp;6
-AMD64=
-test &quot;$nxconf_cv_amd64&quot; = yes &amp;&amp; AMD64=yes
+echo &quot;$as_me:$LINENO: result: $nxconf_cv_cygwin32&quot; &gt;&amp;5
+echo &quot;${ECHO_T}$nxconf_cv_cygwin32&quot; &gt;&amp;6
+CYGWIN32=
+test &quot;$nxconf_cv_cygwin32&quot; = yes &amp;&amp; CYGWIN32=yes
 
 
 
@@ -4622,8 +4580,8 @@ test &quot;$nxconf_cv_darwin&quot; = yes &amp;&amp; DARWIN=yes
 
 
 
-echo &quot;$as_me:$LINENO: checking for Solaris environment&quot; &gt;&amp;5
-echo $ECHO_N &quot;checking for Solaris environment... $ECHO_C&quot; &gt;&amp;6
+echo &quot;$as_me:$LINENO: checking for SunOS environment&quot; &gt;&amp;5
+echo $ECHO_N &quot;checking for SunOS environment... $ECHO_C&quot; &gt;&amp;6
 if test &quot;${nxconf_cv_sun+set}&quot; = set; then
   echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
 else
@@ -4681,163 +4639,6 @@ test &quot;$nxconf_cv_sun&quot; = yes &amp;&amp; SUN=yes
 
 
 
-echo &quot;$as_me:$LINENO: checking for FreeBSD environment&quot; &gt;&amp;5
-echo $ECHO_N &quot;checking for FreeBSD environment... $ECHO_C&quot; &gt;&amp;6
-if test &quot;${nxconf_cv_freebsd+set}&quot; = set; then
-  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
-else
-  cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h &gt;&gt;conftest.$ac_ext
-cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
-/* end confdefs.h.  */
-
-int
-main ()
-{
-return __FreeBSD__;
-  ;
-  return 0;
-}
-_ACEOF
-rm -f conftest.$ac_objext
-if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_compile\&quot;&quot;) &gt;&amp;5
-  (eval $ac_compile) 2&gt;conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 &gt;conftest.err
-  rm -f conftest.er1
-  cat conftest.err &gt;&amp;5
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); } &amp;&amp;
-	 { ac_try='test -z &quot;$ac_cxx_werror_flag&quot;
-			 || test ! -s conftest.err'
-  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
-  (eval $ac_try) 2&gt;&amp;5
-  ac_status=$?
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); }; } &amp;&amp;
-	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
-  (eval $ac_try) 2&gt;&amp;5
-  ac_status=$?
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); }; }; then
-  nxconf_cv_freebsd=yes
-else
-  echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
-sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
-
-nxconf_cv_freebsd=no
-fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
-rm -f conftest*
-fi
-echo &quot;$as_me:$LINENO: result: $nxconf_cv_freebsd&quot; &gt;&amp;5
-echo &quot;${ECHO_T}$nxconf_cv_freebsd&quot; &gt;&amp;6
-FreeBSD=
-test &quot;$nxconf_cv_freebsd&quot; = yes &amp;&amp; FreeBSD=yes
-
-
-if test &quot;$CYGWIN32&quot; != yes -a &quot;$DARWIN&quot; != yes; then
-  CXXFLAGS=&quot;$CXXFLAGS -fPIC&quot;
-  CFLAGS=&quot;$CFLAGS -fPIC&quot;
-fi
-
-
-if test &quot;$SUN&quot; = yes; then
-  LIBS=&quot;$LIBS -L/usr/sfw/lib -lsocket &quot;
-  CXXFLAGS=&quot;$CXXFLAGS -I/usr/sfw/include&quot;
-  CFLAGS=&quot;$CFLAGS -I/usr/sfw/include&quot;
-fi
-
-
-if test &quot;$FreeBSD&quot; = yes; then
-  LIBS=&quot;$LIBS -L/usr/local/lib&quot;
-  CXXFLAGS=&quot;$CXXFLAGS -I/usr/local/include&quot;
-  CFLAGS=&quot;$CFLAGS -I/usr/local/include&quot;
-fi
-
-
-if test &quot;$DARWIN&quot; = yes; then
-  LDFLAGS=&quot;$LDFLAGS -bundle&quot;
-elif test &quot;$SUN&quot; = yes; then
-  LDFLAGS=&quot;$LDFLAGS -G -h \$(LIBLOAD)&quot;
-else
-  LDFLAGS=&quot;$LDFLAGS -Wl,-soname,\$(LIBLOAD)&quot;
-fi
-
-
-
-echo &quot;$as_me:$LINENO: checking for in_addr_t&quot; &gt;&amp;5
-echo $ECHO_N &quot;checking for in_addr_t... $ECHO_C&quot; &gt;&amp;6
-if test &quot;${nxconf_cv_inaddrt+set}&quot; = set; then
-  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
-else
-  cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
-/* confdefs.h.  */
-_ACEOF
-cat confdefs.h &gt;&gt;conftest.$ac_ext
-cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
-/* end confdefs.h.  */
-#include &lt;netinet/in.h&gt;
-int
-main ()
-{
-in_addr_t t; t = 1; return t;
-  ;
-  return 0;
-}
-_ACEOF
-rm -f conftest.$ac_objext
-if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_compile\&quot;&quot;) &gt;&amp;5
-  (eval $ac_compile) 2&gt;conftest.er1
-  ac_status=$?
-  grep -v '^ *+' conftest.er1 &gt;conftest.err
-  rm -f conftest.er1
-  cat conftest.err &gt;&amp;5
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); } &amp;&amp;
-	 { ac_try='test -z &quot;$ac_cxx_werror_flag&quot;
-			 || test ! -s conftest.err'
-  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
-  (eval $ac_try) 2&gt;&amp;5
-  ac_status=$?
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); }; } &amp;&amp;
-	 { ac_try='test -s conftest.$ac_objext'
-  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
-  (eval $ac_try) 2&gt;&amp;5
-  ac_status=$?
-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
-  (exit $ac_status); }; }; then
-  nxconf_cv_inaddrt=yes
-else
-  echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
-sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
-
-nxconf_cv_inaddrt=no
-fi
-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
-rm -f conftest*
-fi
-echo &quot;$as_me:$LINENO: result: $nxconf_cv_inaddrt&quot; &gt;&amp;5
-echo &quot;${ECHO_T}$nxconf_cv_inaddrt&quot; &gt;&amp;6
-INADDRT=
-test &quot;$nxconf_cv_inaddrt&quot; = yes &amp;&amp; INADDRT=yes
-
-
-if test &quot;$INADDRT&quot; != yes ; then
-  echo -e &quot;using unsigned int for type in_addr_t&quot;
-  CXXFLAGS=&quot;$CXXFLAGS -DIN_ADDR_T=unsigned&quot;
-  CFLAGS=&quot;$CFLAGS -DIN_ADDR_T=unsigned&quot;
-else
-  CXXFLAGS=&quot;$CXXFLAGS -DIN_ADDR_T=in_addr_t&quot;
-  CFLAGS=&quot;$CFLAGS -DIN_ADDR_T=in_addr_t&quot;
-fi
-
-
-
 
 if test &quot;${with_version}&quot; = yes; then
   VERSION=${ac_option}
@@ -4849,108 +4650,22 @@ echo -e &quot;compiling version ${VERSION}&quot;
 LIBVERSION=`echo ${VERSION} | cut -d '.' -f 1`
 
 CXXFLAGS=&quot;$CXXFLAGS -DVERSION=\\\&quot;${VERSION}\\\&quot;&quot;
-CFLAGS=&quot;$CFLAGS -DVERSION=\\\&quot;${VERSION}\\\&quot;&quot;
-
-
-if test &quot;${with_static_png}&quot; = yes; then
-  echo -e &quot;enabling static linking of PNG library&quot;
-  if test &quot;$SUN&quot; = yes &amp;&amp; test -f &quot;/usr/sfw/lib/libpng.a&quot;; then
-    LIBSTATIC=&quot;$LIBSTATIC /usr/sfw/lib/libpng.a&quot;
-  else
-    if test -f &quot;/usr/lib/libpng.a&quot; ; then
-      LIBSTATIC=&quot;$LIBSTATIC /usr/lib/libpng.a&quot;
-    else
-      if test -f &quot;/usr/local/lib/libpng.a&quot; ; then
-        echo -e &quot;assuming libpng.a in /usr/local/lib&quot;
-        LIBSTATIC=&quot;$LIBSTATIC /usr/local/lib/libpng.a&quot;
-      else
-        echo -e &quot;Warning: assuming libpng.a in the local path&quot;
-        LIBSTATIC=&quot;$LIBSTATIC libpng.a&quot;
-      fi
-    fi
-  fi
-else
-  echo -e &quot;enabling dynamic linking of PNG library&quot;
-  LIBSHARED=&quot;$LIBSHARED -lpng&quot;
-fi
-
-
-if test &quot;${with_static_jpeg}&quot; = yes; then
-  echo -e &quot;enabling static linking of JPEG library&quot;
-  if test &quot;$SUN&quot; = yes &amp;&amp; test -f &quot;/usr/sfw/lib/libjpeg.a&quot;; then
-    LIBSTATIC=&quot;$LIBSTATIC /usr/sfw/lib/libjpeg.a&quot;
-  else
-    if test -f &quot;/usr/lib/libjpeg.a&quot; ; then
-      LIBSTATIC=&quot;$LIBSTATIC /usr/lib/libjpeg.a&quot;
-    else
-      if test -f &quot;/usr/local/lib/libjpeg.a&quot; ; then
-        echo -e &quot;assuming libjpeg.a in /usr/local/lib&quot;
-        LIBSTATIC=&quot;$LIBSTATIC /usr/local/lib/libjpeg.a&quot;
-      else
-        echo -e &quot;Warning: assuming libjpeg.a in the local path&quot;
-        LIBSTATIC=&quot;$LIBSTATIC libjpeg.a&quot;
-      fi
-    fi
-  fi
-else
-  echo -e &quot;enabling dynamic linking of JPEG library&quot;
-  LIBSHARED=&quot;$LIBSHARED -ljpeg&quot;
-fi
-
-
-if test &quot;${with_static_z}&quot; = yes; then
-  echo -e &quot;enabling static linking of Z library&quot;
-  if test &quot;$SUN&quot; = yes &amp;&amp; test -f &quot;/usr/sfw/lib/libz.a&quot;; then
-    LIBSTATIC=&quot;$LIBSTATIC /usr/sfw/lib/libz.a&quot;
-  else
-    if test -f &quot;/usr/lib/libz.a&quot; ; then
-      LIBSTATIC=&quot;$LIBSTATIC /usr/lib/libz.a&quot;
-    else
-      if test -f &quot;/usr/local/lib/libz.a&quot; ; then
-        echo -e &quot;assuming libz.a in /usr/local/lib&quot;
-        LIBSTATIC=&quot;$LIBSTATIC /usr/local/lib/libz.a&quot;
-      else
-        echo -e &quot;Warning: assuming libz.a in the local path&quot;
-        LIBSTATIC=&quot;$LIBSTATIC libz.a&quot;
-      fi
-    fi
-  fi
-else
-  echo -e &quot;enabling dynamic linking of Z library&quot;
-  LIBSHARED=&quot;$LIBSHARED -lz&quot;
-fi
-
-
-if test &quot;$DARWIN&quot; = yes ; then
-  LIBS=&quot;$LIBS $LIBSTATIC $LIBSHARED&quot;
-elif test &quot;$SUN&quot; = yes ; then
-  LIBS=&quot;$LIBS $LIBSTATIC $LIBSHARED&quot;
-else
-  LIBS=&quot;$LIBS $LIBSTATIC -shared $LIBSHARED&quot;
-fi
+CPPFLAGS=&quot;$CPPFLAGS -DVERSION=\\\&quot;${VERSION}\\\&quot;&quot;
 
 
 if test &quot;${with_symbols}&quot; = yes; then
   echo -e &quot;enabling production of debug symbols&quot;
   CXXFLAGS=&quot;-g $CXXFLAGS&quot;
-  CFLAGS=&quot;-g $CFLAGS&quot;
+  CPPFLAGS=&quot;-g $CPPFLAGS&quot;
 else
   echo -e &quot;disabling production of debug symbols&quot;
 fi
 
 
-if test &quot;${with_use_malloc}&quot; = yes; then
-  echo -e &quot;disabling use of the STL allocators&quot;
-  CXXFLAGS=&quot;$CXXFLAGS -D__USE_MALLOC&quot;
-else
-  echo -e &quot;enabling use of the STL allocators&quot;
-fi
-
-
 if test &quot;${with_info}&quot; = yes; then
   echo -e &quot;enabling info output in the log file&quot;
   CXXFLAGS=&quot;$CXXFLAGS -DINFO&quot;
-  CFLAGS=&quot;$CFLAGS -DINFO&quot;
+  CPPFLAGS=&quot;$CPPFLAGS -DINFO&quot;
 else
   echo -e &quot;disabling info output in the log file&quot;
 fi
@@ -4959,12 +4674,19 @@ fi
 if test &quot;${with_valgrind}&quot; = yes; then
   echo -e &quot;enabling valgrind memory checker workarounds&quot;
   CXXFLAGS=&quot;$CXXFLAGS -DVALGRIND&quot;
-  CFLAGS=&quot;$CFLAGS -DVALGRIND&quot;
+  CPPFLAGS=&quot;$CPPFLAGS -DVALGRIND&quot;
 else
   echo -e &quot;disabling valgrind memory checker workarounds&quot;
 fi
 
 
+if test &quot;$CYGWIN32&quot; = yes; then
+    LIBS=&quot;$LIBS -L../nxcomp -lXcomp -lstdc++ -Wl,-e,_mainCRTStartup -ljpeg -lpng -lz&quot;
+else
+    LIBS=&quot;$LIBS -L../nxcomp -lXcomp&quot;
+fi
+
+
 
 
 if test -x &quot;../nx-X11/config/makedepend/makedepend&quot; ; then
@@ -4976,21 +4698,11 @@ else
     if test -x &quot;/usr/openwin/bin/makedepend&quot; ; then
       MAKEDEPEND=/usr/openwin/bin/makedepend
     else
-      MAKEDEPEND=/usr/bin/makedepend
+      MAKEDEPEND=makedepend
     fi
   fi
 fi
 
-
-
-
-if test &quot;$CYGWIN32&quot; = yes; then
-    ALL=&quot;\$(LIBCYGARCHIVE) \$(LIBCYGSHARED) \$(LIBARCHIVE)&quot;
-    LIBS=&quot;-lstdc++ -lpng -ljpeg -lz&quot;
-else
-    ALL=&quot;\$(LIBFULL) \$(LIBLOAD) \$(LIBSHARED) \$(LIBARCHIVE)&quot;
-fi
-
           ac_config_files=&quot;$ac_config_files Makefile&quot;
 cat &gt;confcache &lt;&lt;\_ACEOF
 # This file is a shell script that caches the results of configure
@@ -5650,7 +5362,6 @@ <A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">s, at X_EXTRA_LIBS</A>@,$X_EXTRA_LIBS,;t t
 <A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">s, at LIBVERSION</A>@,$LIBVERSION,;t t
 <A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">s, at VERSION</A>@,$VERSION,;t t
 <A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">s, at MAKEDEPEND</A>@,$MAKEDEPEND,;t t
<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">-s, at ALL</A>@,$ALL,;t t
 <A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">s, at LIBOBJS</A>@,$LIBOBJS,;t t
 <A HREF="https://lists.berlios.de/mailman/listinfo/x2go-commits">s, at LTLIBOBJS</A>@,$LTLIBOBJS,;t t
 CEOF
diff --git a/nxproxy/configure.in b/nxproxy/configure.in
new file mode 100644
index 0000000..bd930f1
--- /dev/null
+++ b/nxproxy/configure.in
@@ -0,0 +1,185 @@
+dnl Process this file with autoconf to produce a configure script.
+
+dnl Prolog
+
+AC_INIT(Main.c)
+AC_PREREQ(2.13)
+
+dnl Reset default compilation flags.
+
+CXXFLAGS=&quot;-O3&quot;
+CPPFLAGS=&quot;-O3&quot;
+
+dnl Prefer headers and libraries from nx-X11 if present.
+
+if test -d &quot;../nx-X11/exports/include&quot; ; then
+    CXXFLAGS=&quot;$CXXFLAGS -I../nx-X11/exports/include&quot;
+    LIBS=&quot;$LIBS -L../nx-X11/exports/lib&quot;
+fi
+
+dnl Check whether --with-ipaq was given.
+
+if test &quot;${with_ipaq}&quot; = yes; then
+  echo -e &quot;enabling ipaq configuration&quot;
+  CXX=&quot;arm-linux-c++&quot;
+  CC=&quot;arm-linux-gcc&quot;
+  unset ac_cv_prog_armcxx
+  unset ac_cv_prog_armcc
+  unset ac_cv_prog_CXXCPP
+  AC_CHECK_PROG([armcxx],[&quot;$CXX&quot;],[yes],[no],[$PATH])
+  AC_CHECK_PROG([armcc],[&quot;$CC&quot;],[yes],[no],[$PATH])
+  if test $armcxx = &quot;yes&quot; &amp;&amp; test $armcc = &quot;yes&quot; ; then
+    ac_cv_prog_CXX=&quot;$CXX&quot;
+    ac_cv_prog_CC=&quot;$CC&quot;
+  else
+    AC_MSG_ERROR(installation or configuration problem: I cannot find compiler for arm-linux)
+  fi
+else
+  unset ac_cv_prog_CXX
+  unset ac_cv_prog_CC
+  unset ac_cv_prog_CXXCPP
+fi  
+
+dnl Check for programs.
+
+AC_PROG_CXX
+AC_PROG_CC
+AC_LANG_CPLUSPLUS
+
+dnl Check for BSD compatible install.
+
+AC_PROG_INSTALL
+
+dnl Check for extra header files.
+
+AC_PATH_XTRA
+
+dnl Custom addition.
+
+ac_help=&quot;$ac_help
+  --with-symbols          give -g flag to compiler to produce debug symbols
+  --with-info             define INFO at compile time to get basic log output
+  --with-valgrind         clean up allocated buffers to avoid valgrind warnings
+  --with-version          use this version for produced libraries&quot;
+
+dnl Check to see if we're running under Cygwin32.
+
+
+dnl Check to see if we're running under FreeBSD.
+AC_DEFUN(nxconf_FreeBSD,
+[AC_CACHE_CHECK(for FreeBSD environment, nxconf_cv_freebsd,
+[AC_TRY_COMPILE(,[return __FreeBSD__;],
+nxconf_cv_freebsd=yes, nxconf_cv_freebsd=no)
+rm -f conftest*])
+FreeBSD=
+test &quot;$nxconf_cv_freebsd&quot; = yes &amp;&amp; FreeBSD=yes])
+nxconf_FreeBSD
+
+
+AC_DEFUN(nxconf_CYGWIN32,
+[AC_CACHE_CHECK(for Cygwin32 environment, nxconf_cv_cygwin32,
+[AC_TRY_COMPILE(,[return __CYGWIN32__;],
+nxconf_cv_cygwin32=yes, nxconf_cv_cygwin32=no)
+rm -f conftest*])
+CYGWIN32=
+test &quot;$nxconf_cv_cygwin32&quot; = yes &amp;&amp; CYGWIN32=yes])
+nxconf_CYGWIN32
+
+dnl Check for Darwin environment.
+
+AC_DEFUN(nxconf_DARWIN,
+[AC_CACHE_CHECK(for Darwin environment, nxconf_cv_darwin,
+[AC_TRY_COMPILE(,[return __APPLE__;],
+nxconf_cv_darwin=yes, nxconf_cv_darwin=no)
+rm -f conftest*])
+DARWIN=
+test &quot;$nxconf_cv_darwin&quot; = yes &amp;&amp; DARWIN=yes])
+nxconf_DARWIN
+
+dnl Check to see if we're running under Solaris.
+
+AC_DEFUN(nxconf_SUN,
+[AC_CACHE_CHECK(for SunOS environment, nxconf_cv_sun,
+[AC_TRY_COMPILE(,[return __sun;],
+nxconf_cv_sun=yes, nxconf_cv_sun=no)
+rm -f conftest*])
+SUN=
+test &quot;$nxconf_cv_sun&quot; = yes &amp;&amp; SUN=yes])
+nxconf_SUN
+
+dnl Check whether --with-version was given.
+
+AC_SUBST(LIBVERSION)
+AC_SUBST(VERSION)
+if test &quot;${with_version}&quot; = yes; then
+  VERSION=${ac_option}
+else
+  VERSION=`cat VERSION`
+fi
+echo -e &quot;compiling version ${VERSION}&quot;
+
+LIBVERSION=`echo ${VERSION} | cut -d '.' -f 1`
+
+CXXFLAGS=&quot;$CXXFLAGS -DVERSION=\\\&quot;${VERSION}\\\&quot;&quot;
+CPPFLAGS=&quot;$CPPFLAGS -DVERSION=\\\&quot;${VERSION}\\\&quot;&quot;
+
+dnl Check whether --with-symbols or --without-symbols was
+dnl given and set the required optimization level.
+
+if test &quot;${with_symbols}&quot; = yes; then
+  echo -e &quot;enabling production of debug symbols&quot;
+  CXXFLAGS=&quot;-g $CXXFLAGS&quot;
+  CPPFLAGS=&quot;-g $CPPFLAGS&quot;
+else
+  echo -e &quot;disabling production of debug symbols&quot;
+fi
+
+dnl Check whether --with-info or --without-info was given.
+
+if test &quot;${with_info}&quot; = yes; then
+  echo -e &quot;enabling info output in the log file&quot;
+  CXXFLAGS=&quot;$CXXFLAGS -DINFO&quot;
+  CPPFLAGS=&quot;$CPPFLAGS -DINFO&quot;
+else
+  echo -e &quot;disabling info output in the log file&quot;
+fi
+
+dnl Check whether --with-valgrind or --without-valgrind was given.
+
+if test &quot;${with_valgrind}&quot; = yes; then
+  echo -e &quot;enabling valgrind memory checker workarounds&quot;
+  CXXFLAGS=&quot;$CXXFLAGS -DVALGRIND&quot;
+  CPPFLAGS=&quot;$CPPFLAGS -DVALGRIND&quot;
+else
+  echo -e &quot;disabling valgrind memory checker workarounds&quot;
+fi
+
+dnl Cygwin requires that the stdc++ library is linked explicitly.
+dnl GCC 3.3.x requires also the z, png and jpeg libraries. This is
+dnl not true anymore since GCC 3.4.x.
+
+if test &quot;$CYGWIN32&quot; = yes; then
+    LIBS=&quot;$LIBS -L../nxcomp -lXcomp -lstdc++ -Wl,-e,_mainCRTStartup -ljpeg -lpng -lz&quot;
+else
+    LIBS=&quot;$LIBS -L../nxcomp -lXcomp&quot;
+fi
+
+dnl Find makedepend somewhere.
+
+AC_SUBST(MAKEDEPEND)
+
+if test -x &quot;../nx-X11/config/makedepend/makedepend&quot; ; then
+  MAKEDEPEND=../nx-X11/config/makedepend/makedepend
+else
+  if test -x &quot;/usr/X11R6/bin/makedepend&quot; ; then
+    MAKEDEPEND=/usr/X11R6/bin/makedepend
+  else
+    if test -x &quot;/usr/openwin/bin/makedepend&quot; ; then
+      MAKEDEPEND=/usr/openwin/bin/makedepend
+    else
+      MAKEDEPEND=makedepend
+    fi
+  fi
+fi
+
+AC_OUTPUT(Makefile)
diff --git a/nxcomp/install-sh b/nxproxy/install-sh
similarity index 100%
copy from nxcomp/install-sh
copy to nxproxy/install-sh
diff --git a/nxcomp/mkinstalldirs b/nxproxy/mkinstalldirs
similarity index 100%
copy from nxcomp/mkinstalldirs
copy to nxproxy/mkinstalldirs


hooks/post-receive
-- 
nx-libs.git (NX libraries)

This is an automated email from the git hooks/post-receive script. It was
generated because a ref change was pushed to the repository containing
the project &quot;nx-libs.git&quot; (NX libraries).


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002060.html">[X2go-Commits] nx-libs.git - client-only (branch) created:	e068243b79e7129150ccecd0f0ed9d56fa5e1484
</A></li>
	<LI>Next message: <A HREF="002062.html">[X2go-Commits] nx-libs.git - master (branch) updated:	nxproxy/3.5.0-1-173-g608bbb6
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2061">[ date ]</a>
              <a href="thread.html#2061">[ thread ]</a>
              <a href="subject.html#2061">[ subject ]</a>
              <a href="author.html#2061">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/x2go-commits">More information about the X2go-commits
mailing list</a><br>
</body></html>
